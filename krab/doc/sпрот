    МОСКОВСКИЙ ГОСУДАРСТВЕННЫЙ УНИВЕРСИТЕТ
               ИМЕНИ М.В.ЛОМОНОСОВА
 
 
 
 
 
 
 
 
 
 
 
 
 
        С Е Т Ь   В Ы Ч И С Л И Т Е Л Ь Н Ы Х
             М А Ш И Н    Н  Е  Р  П  А
 
             ОБЩЕЕ ОПИСАНИЕ ПРОТОКОЛОВ
             ВЕРСИЯ 3.1  ОТ 15.02.87
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
     1. КЛАССИФИКАЦИЯ ФИЗИЧЕСКИХ АБОНЕНТОВ
      ************************************
 
 
   1. АБОНЕНТЫ В СЕТИ МОГУТ ИМЕТЬ СТАТУС
      1) СИСТЕМНЫЙ (СИС)
      2) ПОЛЬЗОВАТЕЛЬСКИЙ (ПОЛ)
   ДЛЯ СИСТЕМНЫХ АБОНЕНТОВ ОБЕСПЕЧИВАЕТСЯ МИНИМАЛЬНЫЕ
ЗАДЕРЖКИ ПРИ ПЕРЕДАЧИ ИНФОРМАЦИИ ЧЕРЕЗ КОММУТАЦИОННУЮ
СЕТЬ. АБОНЕНТЫ С ПОЛЬЗОВАТЕЛЬСКИМИ СТАТУСАМИ - ЭТО
ПЕРСОНАЛЬНЫЕ ЭВМ. ДЛЯ НИХ ОСУЩЕСТВЛЯЕТСЯ КОНТРОЛЬ НА
УРОВНЕ МАМС'А НА ПРАВИЛЬНОСТЬ ПЕРЕДАЧИ НОМЕРА ОТПРАВИ-
ТЕЛЯ, А ТАКЖЕ БЛОКИРУЕТСЯ ВЫПОЛНЕНИЕ КОМАНД ПРОТОКОЛА
УПРАВЛЕНИЯ МАМС'ОМ (КОП = 0).
 
   2. ПО СПОСОБУ ЗАГРУЗКИ АБОНЕНТЫ ДЕЛЯТСЯ НА ДВЕ ГРУП-
ПЫ:
   А) МЕСТНАЯ ЗАГРУЗКА (МЗАГ)
   Б) ЦЕНТРАЛЬНАЯ ЗАГРУЗКА (ЦЗАГ)
   АБОНЕНТЫ ЦЕНТРАЛЬНОЙ ЗАГРУЗКИ ЗАГРУЖАЮТСЯ ПО ДИРЕК-
ТИВЕ ПРОЦЕССОРОМ ВВОДА-ВЫВОДА И АРХИВА. АБОНЕНТЫ МЕСТ-
НОЙ ЗАГРУЗКИ ЗАГРУЖАЮТСЯ САМОСТОЯТЕЛЬНО.
 
   2. ПРАВИЛА ЗАГРУЗКИ АБОНЕНТА С ЦЕНТРАЛЬНОЙ ЗАГРУЗКОЙ
   ****************************************************
 
   1. ПВВА ПРИНИМАЕТ ОТ АБОНЕНТА ИНФОРМАЦИЮ.
      ЕСЛИ В ТЕЧЕНИИ 1 СЕКУНДЫ АБОНЕНТ НИЧЕГО НЕ ПЕРЕ-
      ДАЛ, ТО СЧИТАЕТСЯ, ЧТО АБОНЕНТА МОЖНО НАЧАТЬ ЗАГ-
      РУЖАТЬ.
   2. МЕЖДУ ПВВА И АБОНЕНТОМ ВЕДЕТСЯ СЛЕДУЮЩИЙ ДИАЛОГ:
      ПВВА->АБОН  АБОН->ПВВА  ПВВА->АБОН
              0/    .....      0"ВК"
            100/    .....      0"ВК"
            102/    .....      0"ВК"
              G
            RS/     .....      340"ВК"
        177560L
   3. ДАЛЕЕ ВВОДИТСЯ АБСОЛЮТНЫЙ ЗАГРУЗЧИК.
   4. ПОСЛЕ ЗАПУСКА АБОНЕНТ ОБЯЗАН ПРИНЯТЬ ИЗ КАНАЛА
      ВСЕ СИМВОЛЫ ДО КОДА '377'.
   5. ПРИ НАЛИЧИИ ПАРАМЕТРОВ ГЕНЕРАЦИИ АБОНЕНТ ПРИНИ-
      МАЕТ ПАРАМЕТРЫ.
   6. ПОСЛЕ НОРМАЛЬНОГО ПРОХОЖДЕНИЯ ЗАГРУЗКИ И СТАРТА
      АБОНЕНТ ДОЛЖЕН ВЫДАТЬ БАЙТ С КОДОМ '252', КОТО-
      РЫЙ ГОВОРИТ О ТОМ, ЧТО ОН ПРИСТУПИЛ К РАБОТЕ.
   7. В СЛУЧАЕ НЕСОВПАДЕНИЯ КОНТРОЛЬНЫХ СУММ ПАРАМЕТ-
      РОВ ГЕНЕРАЦИИ АБОНЕНТ ДОЛЖЕН ВЫДАТЬ КОД '125'.
 
   3. ПРАВИЛА ПОДКЛЮЧЕНИЯ К КОММУТАЦИОННОЙ
   КОММУТАЦИОННОЙ СЕТИ АБОНЕНТОВ МЕСТНОЙ ЗАГРУЗКОЙ
   ***********************************************
 
   1. АБОНЕНТ ОБЯЗАН В ТЕЧЕНИИ 1 СЕК. ПРИНЯТ СООБЩЕНИЕ:
      000 000 .... 000 377 252 125 (КОЛ-ВО НУЛЕВЫХ
      ОТ 1 ДО 257)
   2. АБОНЕНТ ПРИ ПОДКЛЮЧЕНИИ ОБЯЗАН ВЫДАТЬ СООБЩЕНИЕ:
      000 000 ..... 000 377 252 125
      РЕКОМЕНДУЕТСЯ ВЫДАВАТЬ 257 НУЛЕВЫХ БАЙТ И СЛЕДИТЬ
      ЗА ТЕМ, ЧТОБЫ СООБЩЕНИЕ БЫЛО ПРИНЯТО МАМС'ОМ
      НЕ БОЛЕЕ ЧЕМ ЧЕРЕЗ СЕКУНДУ.
   3. ПРИ ВЫПОЛНЕНИИ УСЛОВИЙ 1 И 2 АБОНЕНТ СЧИТАЕТСЯ
      ПОДКЛЮЧЕННЫМ К СЕТИ
 
 
 
   4. ОПИСАНИЕ ПРОТОКОЛОВ 1-ГО УРОВНЯ.
   **********************************
 
 
   ДАННЫЙ ПРОТОКОЛ ПРЕДНАЗНАЧЕН ДЛЯ ОРГАНИЗАЦИИ СВЯЗИ
ФИЗИЧЕСКИХ АБОНЕНТОВ ПО КОММУТАЦИОННОЙ СРЕДЕ.
 
    1 БАЙТ  - 0 - 6 РР - ПОЛУЧАТЕЛЬ
              7 Р      - ТИП СООБЩЕНИЯ
                  = 0  - КОРОТКОЕ СООБЩЕНИЕ
                  = 1  - ДЛИННОЕ СООБЩЕНИЕ
  ПРИ КОРОТКОМ СООБЩЕНИИ
    2 - 3  БАЙТЫ - ИНФОРМАЦИОННЫЕ.
  ПРИ ДЛИННОМ СООБЩЕНИИ
    2 БАЙТ - КОЛИЧЕСТВО БАЙТОВ В ИНФОРМАЦИОННОЙ
             ЧАСТИ СООБЩЕНИЯ (<КОЛБАЙ>),
    3 - (3+<КОЛБАЙ>) - ИНФОРМАЦИОННЫЕ
 
   ЗАМЕЧАНИЯ.
   ----------
   1. ВЫДАЧА АБОНЕНТОМ С ЦЕНТРАЛЬНОЙ ЗАГРУЗКОЙ
1 БАЙТА = 0 ИЛИ
2 БАЙТА = 0 (В ДЛИННОМ СООБЩЕНИИ)
ПРИВОДИТ К ОСТАНОВУ МАМС'А.
ДЛЯ АБОНЕНТОВ С МЕСТНОЙ ЗАГРУЗКОЙ ВЫДАЧА ЭТИХ БАЙТ
ОЗНАЧАЕТ ОТКЛЮЧЕНИЕ ОТ СЕТИ.
   2. ВЫДАЧА НУЛЕВОГО АДРЕСАТА В ДЛИННОМ СООБЩЕНИИ
ОЗНАЧАЕТ ПЕРЕДАЧУ СООБЩЕНИЯ БЛИЖАЙШЕМУ МАМС'У.
   3. В ОТВЕТ НА СООБЩЕНИЕ С НЕСУЩЕСТВУЮЩИМ АДРЕСАТОМ
ИЛИ ОТКЛЮЧЕННОМУ ОТ СЕТИ МАМС ВЫДАЕТ СООБЩЕНИЕ:
"ВЫДАЧА СОСТОЯНИЯ АБОНЕНТА".
 
 
   5. ОПИСАНИЕ ПРОТОКОЛОВ 2-ГО УРОВНЯ.
   ***********************************
 
 
   ДАННЫЙ НАБОР ПРОТОКОЛОВ ПРЕДНАЗНАЧЕН ДЛЯ ОРГАНИЗА-
ЦИИ ВЗАИМОДЕЙСТВИЯ ОПЕРАЦИОННЫХ СИСТЕМ АБОНЕНТОВ.
 
    1 БАЙТ - ОТПРАВИТЕЛЬ
    2 БАЙТ - 5 - 7 РР - НОМЕР ПРОТОКОЛА
             0 - 4 РР - КОД ОПЕРАЦИИ
ВТОРОЙ И ПОСЛЕДУЮЩИЕ БАЙТЫ - ОПЕРАНДЫ
 
   5.1. ПРОТОКОЛ СЛУЖЕБНЫХ ДЕЙСТВИЙ (НПР = 0)
   ------------------------------------------
 
   ПРОТОКОЛ ПРЕДНАЗНАЧЕН ДЛЯ УПРАВЛЕНИЯ РАБОТОЙ КОМ-
МУНИКАЦИОННОЙ СРЕДЫ И АБОНЕНТОВ СИСТЕМЫ.
 
 КОДЫ ОПЕРАЦИЙ:
 
   КОП = 0 - ВЫПОЛНИТЬ ДЕЙСТВИЕ АБОНЕНТ НЕ МОЖЕТ
 
   КОП = 1 - УСТАНОВИТЬ ТРАНЗИТНЫЙ КАНАЛ СВЯЗИ
    3 БАЙТ - НОМЕР АКТИВНОГО (ПЕРЕДАЮЩЕГО) АБОНЕНТА
    4 БАЙТ - НОМЕР ПАССИВНОГО (ПРИНИМАЮЩЕГО) АБОНЕНТА
   ПОСЛЕ ПРИХОДА БАЙТОВ С КОДАМИ '252', '125' КАНАЛ
   РАЗРЫВАЕТСЯ.
 
   КОП = 2 - ОКОНЧЕНА ЗАГРУЗКА СЕТИ
 
   КОП = 3 - ЗАПРОС НА ВЫДАЧУ ИЛИ ИЗМЕНЕНИЕ СЧЕТЧИКА
    3 БАЙТ - 0 - ЧТЕНИЕ
             1 - ЗАПИСЬ
    4 БАЙТ - НОМЕР СЧЕТЧИКА
    5 БАЙТ - ИНДЕКС СЧЕТЧИКА
    6 БАЙТ - СТАРШИЙ БАЙТ (ПРИ ЗАПИСИ)
    7 БАЙТ - МЛАДШИЙ БАЙТ (ПРИ ЗАПИСИ)
 
   КОП = 4 - ОТВЕТ НА ЗАПРОС ВЫДАЧИ ИЛИ ИЗМЕНЕНИЯ СЧЕТЧИКА
    3 БАЙТ - КОД ОТВЕТА:
             0 - ЗАПРОС ВЫПОЛНЕН
             1 - ТРЕБУЕМОГО СЧЕТЧИКА НЕТ
    4 БАЙТ - НОМЕР СЧЕТЧИКА
    5 БАЙТ - ИНДЕКС СЧЕТЧИКА
    6 БАЙТ - СТАРШИЙ БАЙТ (ПРИ ЧТЕНИИ)
    7 БАЙТ - МЛАДШИЙ БАЙТ (ПРИ ЧТЕНИИ)
 
   5.2. ПРОТОКОЛ ПЕРЕДАЧИ ТЕРМИНАЛЬНЫХ СООБЩЕНИЙ (НПР=1)
   -----------------------------------------------------
 
   ДАННЫЙ ПРОТОКОЛ ИСПОЛЬЗУЕТСЯ ДЛЯ ОБМЕНА ТЕРМИНАЛЬНЫМИ
СООБЩЕНИЯМИ МЕЖДУ АКТИВНЫМИ ТЕРМИНАЛЬНЫМИ ЭВМ (КТ, ПЭВМ)
ПАССИВНЫМИ ТЕРМИНАЛЬНЫМИ ЭВМ (ЭВМ-Р, ЦЭВМ)
 
------------    ----------------     -----------------
I ТЕРМИНАЛ I--->I АКТИВНАЯ ЭВМ I<--->I ПАССИВНАЯ ЭВМ I
------------    ----------------     -----------------
 
   КОРОТКОЕ СООБЩЕНИЕ ИСПОЛЬЗУЕТСЯ ТОЛЬКО ДЛЯ ПЕРЕДАЧИ
БАЙТОВ МЕЖДУ КОНЦЕНТРАТОРОМ ТЕРМИНАЛОВ И АБОНЕНТОМ.
    1 БАЙТ - НОМЕР ТЕРМИНАЛА В ОПЕРАЦИОННОЙ СИСТЕМЕ
             ПОЛУЧАТЕЛЯ
    2 БАЙТ - ПЕРЕДАВАЕМЫЙ БАЙТ (ЕСЛИ ЭТОТ БАЙТ = 0,
             ТО ЭТО ОЗНАЧАЕТ КОНЕЦ ПЕРЕДАЧИ ДЛЯ ДАННОГО
             ТЕРМИНАЛА
 
 КОДЫ ОПЕРАЦИЙ:
 
   КОП = 0 - ВЫПОЛНИТЬ ДЕЙСТВИЕ АБОНЕНТ НЕ МОЖЕТ
 
   КОП = 1 - ЗАПРОС ПОДКЛЮЧЕНИЯ ТЕРМИНАЛА
             ВЫДАЕТ АБОНЕНТ А ПРИ ПОДКЛЮЧЕНИИ
             К АБОНЕНТУ П)
    3 БАЙТ - НОМЕР ТЕРМИНАЛА В ОС ОТПРАВИТЕЛЯ
    4 БАЙТ - 1 - 5 Р - НОМЕР КАНАЛА (ДЛЯ НИВЦ)
             6 - 8 Р - НОМЕР ЭВМ БЭСМ-6 (ДЛЯ НИВЦ)
    5 БАЙТ - ДЛИНА БУФЕРА АБОНЕНТА А, МЛ.БАЙТ
    6 БАЙТ - ДЛИНА БУФЕРА АБОНЕНТА А, СТ.БАЙТ
             5,6 БАЙТ = 0 - БУФЕР ПРОИЗВОЛЬНЫЙ
    7 БАЙТ - ТИП ТЕРМИНАЛА:
             0 - ТИП НЕ ОПРЕДЕЛЕН
             1 - VТ-52
             2 - VТ-100
             3 - НАZЕLТINЕ
             4 - АДМ-3А
             5 - LА36
             6 - LА120
             7 - DIАВLО
            10 - QUМЕ
            11 - 15ИЭ-00-013 (2 СИСТЕМА КОМАНД)
            12 - 15ИЭ-00-002
            13 - 15ИЭ-00-013 (1 СИСТЕМА КОМАНД)
            14 - VDТ-52106
            15 - VDТ-52108
            16 - VDТ-52130
            17 - VТ-340
            20 - СМ-1611 (СID-7220)
            21 - ВТА-2000
            22 - ВТА-2000.30
 
   КОП = 2 - ОТВЕТ НА ЗАПРОС ПОДКЛЮЧЕНИЯ ТЕРМИНАЛА
             (ВЫДАЕТ АБОНЕНТ П НА ЗАПРОС О ПОДКЛЮЧЕНИИ
             ТЕРМИНАЛА)
    3 БАЙТ - НОМЕР ТЕРМИНАЛА В ОС ПОЛУЧАТЕЛЯ
    4 БАЙТ - ОТВЕТ О ПОДКЛЮЧЕНИИ
             = 0 - ПОДКЛЮЧЕНИЕ НЕ ПРОИЗОШЛО
             # 0 - ПОДКЛЮЧЕНИЕ ПРОИЗОШЛО
    ЕСЛИ ПОДКЛЮЧЕНИЕ НЕ ПРОИЗОШЛО,ТО
    5 БАЙТ - ПРИЧИНА ОТКАЗА В ПОДКЛЮЧЕНИИ:
             0 - НЕТ СВОБОДНЫХ КАНАЛОВ
             1 - ВСЕ КАНАЛЫ ОТБРАКОВАНЫ
             2 - НЕТ СВОБОДНЫХ КАНАЛОВ, НО ЕСТЬ
                 РАБОТАЮЩИЕ И ОТБРАКОВАННЫЕ
    ЕСЛИ ПОДКЛЮЧЕНИЕ ПРОИЗОШЛО,ТО
    4 БАЙТ - НОМЕР ТЕРМИНАЛА В ОС ОТПРАВИТЕЛЯ
    5 БАЙТ - ТИП ОБСЛУЖИВАНИЯ ТЕРМИНАЛА:
           0 РАЗРЯД - ЭХО:
                    0 - ЭХО АБ А
                    1 - ЭХО АБ П
           1 РАЗРЯД - ПЕРЕКОДИРОВКА
                    0 - БЕЗ ПЕРЕКОДИРОВКИ
                    1 - С ПЕРЕКОДИРОВКОЙ
    6 БАЙТ - ДЛИНА БУФЕРА АБОНЕНТА П, МЛ.БАЙТ
    7 БАЙТ - ДЛИНА БУФЕРА АБОНЕНТА П, СТ.БАЙТ
             6,7 БАЙТ = 0 - БУФЕР ПРОИЗВОЛЬНЫЙ
 
   КОП = 3 - ЗАПРОС ОТКЛЮЧЕНИЯ ТЕРМИНАЛА
             ВЫДАЕТСЯ ЛЮБЫМ АБОНЕНТОМ А ПРИ
             ЗАВЕРШЕНИИ РАБОТЫ)
    3 БАЙТ - НОМЕР ТЕРМИНАЛА В ОС ОТПРАВИТЕЛЯ
    4 БАЙТ - НОМЕР ТЕРМИНАЛА В ОС ПОЛУЧАТЕЛЯ
 
   КОП = 4 - ОТВЕТ НА ЗАПРОС ОТКЛЮЧЕНИЯ ТЕРМИНАЛА
             (ВЫДАЕТ АБОНЕНТ П НА ЗАПРОС ОБ ОТКЛЮ-
             ЧЕНИИ ТЕРМИНАЛА)
    3 БАЙТ - НОМЕР ТЕРМИНАЛА В ОС ПОЛУЧАТЕЛЯ
    4 БАЙТ - НОМЕР ТЕРМИНАЛА В ОС ОТПРАВИТЕЛЯ
             (ЕСЛИ ЭТОТ БАЙТ РАВЕН НУЛЮ, ТО ОТ-
             КЛЮЧЕНИЕ НЕ ПРОШЛО).
 
   КОП = 5 - ПЕРЕДАЧА ГРУППОВОГО СООБЩЕНИЯ
    3 БАЙТ - НОМЕР ТЕРМИНАЛА В ОС ПОЛУЧАТЕЛЯ
    4-255 БАЙТ - СООБЩЕНИЕ
 
   КОП = 6 - ОТВЕТ НА ПЕРЕДАЧУ ГРУППОВОГО СООБЩЕНИЯ
    3 БАЙТ - НОМЕР ТЕРМИНАЛА В ОС ПОЛУЧАТЕЛЯ
 
   КОП = 7 - ОКОНЧЕН РЕАЛЬНЫЙ ОБМЕН С ТЕРМИНАЛОМ
             (ВЫДАЕТ АБОНЕНТ А ПРИ ОКОНЧАНИИ ОБМЕНА
             С ТЕРМИНАЛОМ)
    3 БАЙТ - НОМЕР ТЕРМИНАЛА В ОС ПОЛУЧАТЕЛЯ
 
   КОП = 10 - ГОТОВНОСТЬ ПРОДОЛЖЕНИЯ ОБМЕНА
    3 БАЙТ - НОМЕР ТЕРМИНАЛА В ОС ПОЛУЧАТЕЛЯ
 
   КОП = 11 - ЗАПРОС ИЗМЕНЕНИЕ ТИПА ОБСЛУЖИВАНИЯ ТЕРМИНАЛА
    3 БАЙТ - НОМЕР ТЕРМИНАЛА В ОС ПОЛУЧАТЕЛЯ
    4 БАЙТ - ТИП ОБСЛУЖИВАНИЯ (= 5 БАЙТУ КОП 3)
 
   КОП = 11 - ОТВЕТ НА ЗАПРОС ИЗМЕНЕНИЕ
              ТИПА ОБСЛУЖИВАНИЯ ТЕРМИНАЛА
    3 БАЙТ - НОМЕР ТЕРМИНАЛА В ОС ПОЛУЧАТЕЛЯ
 
 
   5.3. ПРОТОКОЛ ПЕРЕДАЧИ ФАЙЛОВ (НПР=2)
   -------------------------------------
 
   ПРОТОКОЛ ПРЕДНАЗНАЧЕН ДЛЯ ПЕРЕДАЧИ ФАЙЛОВ МЕЖДУ
АРХИВАМИ ВЫЧИСЛИТЕЛЬНЫХ МАШИН.
 
   КОДЫ ОПЕРАЦИЙ:
 
   КОП = 0 - ВЫПОЛНИТЬ ДЕЙСТВИЕ АБОНЕНТ НЕ МОЖЕТ
 
   КОП = 1 - ЗАКАЗ ФАЙЛА
    3-5 БАЙТЫ - ХОЗЯИН ФАЙЛА
    6 БАЙТ - НОМЕР АРХИВА
       7 Р = 1 - СИСТЕМНЫЙ АРХИВ
       6-0 Р = 1 - ВЫВОД НА АЦПУ
       6-0 Р = 2 - ВЫВОД НА ПЕРФОКАРТЫ
       6-0 Р = 3 - ВЫВОД НА ПЕРФОЛЕНТУ
       6-0 Р = 4 - ВЫВОД НА ГРАФОПОСТРОИТЕЛЬ
       6-0 Р = 5 - ЗАПИСЬ НА БУФЕР ВВОДА
       7 Р = 0 - ПОЛЬЗОВАТЕЛЬСКИЙ АРХИВ
       6-0 Р - НОМЕР АРХИВА ПОЛЬЗОВАТЕЛЯ
    ПЕРЕДАЧА ФАЙЛА В СИСТЕМНЫЙ АРХИВ
       7 БАЙТ - СЛУЖЕБНАЯ ИНФОРМАЦИЯ
         1-4 Р - ТИП КОДИРОВКИ
         5-8 Р - НОМЕР ЛОГИЧЕСКОГО АРХИВА
       8 БАЙТ - НОМЕР ЗАКАЗА
       9-10 БАЙТЫ - ДЛИНА ФАЙЛА
    ПЕРЕДАЧА ФАЙЛА В ПОЛЬЗОВАТЕЛЬСКИЙ АРХИВ
       7-15 БАЙТЫ - ИМЯ ФАЙЛА
       16 БАЙТ - НАПРАВЛЕНИЕ ЗАКАЗА
       0 - ОТПРАВИТЕЛЬ -> ПОЛУЧАТЕЛЬ (ЗАПИСЬ)
       1 - ОТПРАВИТЕЛЬ <- ПОЛУЧАТЕЛЬ (ЧТЕНИЕ)
       2 - ОТПРАВИТЕЛЬ -> ПОЛУЧАТЕЛЬ (УНИЧТОЖЕНИЕ,ЗАПИСЬ)
      17-18 БАЙТЫ - НАЧАЛЬНАЯ СТРАНИЦА ФАЙЛА
      19-20 БАЙТЫ - ЧИСЛО ПЕРЕДАВАЕМЫХ СТРАНИЦ
      21 БАЙТ - НОМЕР ЗАКАЗА
ПРИМЕЧАНИЕ: ЕСЛИ ЧИСЛО ЗАКАЗАННЫХ СТРАНИЦ РАВНО НУЛЮ,
            ТО ЭТО ОЗНАЧАЕТ ЗАКАЗ НА ПРИЕМ ВСЕГО ФАЙЛА.
 
   КОП = 2 - ОТВЕТ НА ЗАКАЗ
    3 БАЙТ - НОМЕР ЗАКАЗА
    4 БАЙТ - КОД ОТВЕТА НА ЗАКАЗ
       = 0 - ЗАКАЗ ПРИНЯТ К ИСПОЛНЕНИЮ
       = 1 - ЗАКАЗ ПОСТАВЛЕН В ОЧЕРЕДЬ (ЖДИ)
       = 2 - НЕТ ТОМА, ГДЕ РАСПОЛОЖЕН АРХИВ
       = 3 - НЕВЕРНО ЗАДАН НОМЕР АРХИВА
       = 4 - НЕВЕРНО ЗАДАНА ИНФОРМАЦИЯ О ФАЙЛЕ
       = 5 - НЕТ БЮДЖЕТА
       = 6 - ФАЙЛА НЕТ В КАТАЛОГЕ ДАННОГО АРХИВА
       = 7 - ФАЙЛ ЗАКРЫТ НА ЗАПИСЬ (УНИЧТОЖЕНИЕ)
       = 8 - ФАЙЛ ФИКСИРОВАННОЙ ДЛИНЫ
       = 9 - КОЛИЧЕСТВО ПЕРЕДАВАЕМЫХ СТРАНИЦ РАВНО 0
       = 10- ЗАКАЗ СБРОШЕН (ПОВТОРИ ЗАКАЗ)
       = 11- ЗАКАЗ НЕСУЩЕСТВУЮЩЕЙ СТРАНИЦЫ
       = 12- ПЕРЕПОЛНЕН СИСТЕМНЫЙ АРХИВ
       = 13- НЕ ВЫПОЛНЕН ПРЕДЫДУЩИЙ ЗАКАЗ С ДАННЫМ НОМЕРОМ
    5 И 6 БАЙТ - ЧИСЛО ЗАКАЗАННЫХ СТРАНИЦ
 
   КОП = 3 - ПЕРЕДАЧА ПОРЦИИ ФАЙЛА
    3 БАЙТ - НОМЕР ЗАКАЗА
    4 БАЙТ - ПРИЗНАК ПЕРЕДАЧИ
      1 Р = 0 - ПОРЦИЯ БЕЗ КОНТРОЛЬНОЙ СУММОЙ
      1 Р = 1 - ПОРЦИЯ С КОНТРОЛЬНОЙ СУММОЙ
    5-6 БАЙТ - КОНТРОЛЬНАЯ СУММА
    7-... БАЙТЫ - ИНФОРМАЦИЯ
 
   КОП = 4 - ОТВЕТ НА ПЕРЕДАЧУ ПОРЦИИ ФАЙЛА
    3 БАЙТ - НОМЕР ЗАКАЗА
    4 БАЙТ - КОД ОТВЕТА
       = 0 - КОНТРОЛЬНАЯ СУММА ВЕРНА
       = 1 - НЕТ СОВПАДЕНИЯ КОНТОЛЬНОЙ СУММЫ
       = 2 - ПРОПАЛ ТОМ С АРХИВОМ
 
   КОП = 5 - ОКОНЧАНИЕ ПЕРЕДАЧИ ФАЙЛА
    3 БАЙТ  - НОМЕР ЗАКАЗА
    4-5 БАЙТЫ - КОНТРОЛЬНАЯ СУММА ФАЙЛА
 
   КОП = 6 - ОТВЕТ НА ОКОНЧАНИЕ ПЕРЕДАЧИ ФАЙЛА
    3 БАЙТ - НОМЕР ЗАКАЗА
    4 БАЙТ - КОД ОТВЕТА
       = 0 - КОНТРОЛЬНАЯ СУММА ВЕРНА
       = 1 - НЕТ СОВПАДЕНИЯ КОНТОЛЬНОЙ СУММЫ
       = 2 - ПРОПАЛ ТОМ С АРХИВОМ
 
   КОП = 7 - ЗАПРОС НА ИЗМЕНЕНИЕ ХАРАКТЕРИСТИК ФАЙЛА
    3-5 БАЙТЫ - ХОЗЯИН ФАЙЛА
    6 БАЙТ - НОМЕР АРХИВА
    7-15 БАЙТЫ - ИМЯ ФАЙЛА
    16 БАЙТ = 0 - ИЗМЕНЕНИЕ ХАРАКТЕРИСТИК
            = 1 - СОЗДАНИЕ НОВОГО ФАЙЛА
            = 2 - УНИЧТОЖЕНИЕ ФАЙЛА
    17 БАЙТ - АТРИБУТЫ ФАЙЛА
       0 Р = 1 - НЕТЕКСТОВЫЙ ФАЙЛ
             0 - ТЕКСТОВЫЙ ФАЙЛ
       1 Р = 1 - ФАЙЛ ФИКСИРОВАННОЙ ДЛИНЫ
             0 - ФАЙЛ ИЗМЕНЯЕМОЙ ДЛИНЫ
       2 Р = 1 - ФАЙЛ ОБЩИЙ НА ЧТЕНИЕ
             0 - ФАЙЛ ИНДИВИДУАЛЬНЫЙ НА ЧТЕНИЕ
       3 Р = 1 - ФАЙЛ ОБЩИЙ НА ЗАПИСЬ
             0 - ФАЙЛ ИНДИВИДУАЛЬНЫЙ НА ЗАПИСЬ
       4 Р = 1 - ФАЙЛ ЗАКРЫТ НА ЗАПИСЬ
             0 - ФАЙЛ ОТКРЫТ НА ЗАПИСЬ
    18 БАЙТ - МАСКА ИЗМЕНЕНИЯ АТРИБУТОВ
              ЕСЛИ I-ТЫЙ РАЗРЯД = 1, ТО
              ИЗМЕНЯЕТСЯ I-ТЫЙ АТРИБУТ (17 БАЙТ)
    19-20 БАЙТЫ - КОЛИЧЕСТВО НОВЫХ СТРАНИЦ У ФАЙЛА
    21 БАЙТ - НОМЕР ЗАКАЗА
 
   КОП = 10 - ОТВЕТ НА ИЗМЕНЕНИЕ ХАРАКТЕРИСТИК ФАЙЛА
    3 БАЙТ - НОМЕР ЗАКАЗА
    4 БАЙТ - КОД ОТВЕТА
       7 Р = 0 - ОШИБОЧНЫЙ ЗАКАЗ, ТОГДА 6-0 РР:
       = 1 - ФАЙЛ ЕСТЬ В КАТАЛОГЕ
       = 2 - НЕТ ТОМА, ГДЕ РАСПОЛОЖЕН ФАЙЛ
       = 3 - НЕВЕРНО ЗАДАН НОМЕР АРХИВА
       = 4 - НЕВЕРНО ЗАДАНА ИНФОРМАЦИЯ О ФАЙЛЕ
       = 5 - НЕТ БЮДЖЕТА
       = 6 - ФАЙЛА НЕТ В КАТАЛОГЕ ДАННОГО АРХИВА
       = 7 - ФАЙЛ ЗАКРЫТ НА ЗАПИСЬ
       = 8 - ФАЙЛ ФИКСИРОВАННОЙ ДЛИНЫ
       = 9 - КОЛИЧЕСТВО НОВЫЙ СТРАНИЦ РАВНО НУЛЮ
             (ПРИ СОЗДАНИИ НОВОГО ФАЙЛА)
       = 10- ЗАПРОС СБРОШЕН
       7 Р = 1 - ЗАПРОС ОБРАБОТАН, ТОГДА 6-0 Р АТРИБУТЫ
                 5-6 БАЙТЫ - ДЛИНА ФАЙЛА
 
   КОП = 11 - ЗАПРОС О СОСТОЯНИИ АРХИВА
    3 БАЙТ - НОМЕР ЗАКАЗА
    4 БАЙТ - НОМЕР АРХИВА
 
   КОП = 12 - ОТВЕТ НА ЗАПРОС О СОСТОЯНИИ АРХИВА
    3 БАЙТ - НОМЕР ЗАКАЗА
    4 БАЙТ - КОД ОТВЕТА
       = 0 - ТОМ С АРХИВОМ УСТАНОВЛЕН НА ЭВМ
       = 1 - НЕТ ТАКОГО АРХИВА
       = 2 - ТОМ С АРХИВОМ НЕ УСТАНОВЛЕН
       = 10- ЗАПРОС СБРОШЕН
 
   КОП = 13 - ЗАКАЗ НА ПЕРЕДАЧУ КАТАЛОГА АРХИВА
    3-5 БАЙТЫ  - ХОЗЯИН
    6 БАЙТ     - НОМЕР АРХИВА
    7 БАЙТ     - НОМЕР ЗАКАЗА
 
   КОП = 14 - ОТВЕТ НА ЗАКАЗ О ПЕРЕДАЧИ КАТАЛОГА
    3 БАЙТ - НОМЕР ЗАКАЗА
    4 БАЙТ - КОД ОТВЕТА
       = 0 - ЗАКАЗ ПРИНЯТ К ИСПОЛНЕНИЮ
       = 1 - ЗАКАЗ ПОСТАВЛЕН В ОЧЕРЕДЬ
       = 2 - НЕТ ТОМА, ГДЕ РАСПОЛОЖЕН АРХИВ
       = 3 - НЕВЕРНО ЗАДАН НОМЕР АРХИВА
       = 4 - НЕВЕРНО ЗАДАН ХОЗЯИН
       = 10- ЗАКАЗ СБРОШЕН (ПОВТОРИ ЗАКАЗ)
 
   КОП = 15 - ПЕРЕДАЧА ПОРЦИИ КАТАЛОГА АРХИВА
    3 БАЙТ - НОМЕР ЗАКАЗА
    4-.... - ИНФОРМАЦИЯ
 
   КОП = 16 - ОТВЕТ НА ПЕРЕДАЧА ПОРЦИИ КАТАЛОГА АРХИВА
    3 БАЙТ - НОМЕР ЗАКАЗА
    4 БАЙТ - КОД ОТВЕТА
       = 0 - ПОРЦИЯ ПРИНЯТА
       = 1 - ПРОПАЛ ТОМ, ГДЕ РАСПОЛОЖЕН АРХИВ
 
   КОП = 17 - ОКОНЧАНИЕ ПЕРЕДАЧИ КАТАЛОГА АРХИВА
    3 БАЙТ - НОМЕР ЗАКАЗА
 
   КОП = 20 - ОТВЕТ НА ОКОНЧАНИЕ ПЕРЕДАЧИ КАТАЛОГА
     3 БАЙТ - НОМЕР ЗАКАЗА
     4 БАЙТ - КОД ОТВЕТА
        = 0 - КАТАЛОГ ПЕРЕДАН УСПЕШНО
        = 1 - НЕТ СОВПАДЕНИЯ КОНТРОЛЬНОЙ СУММЫ
        = 2 - ПРОПАЛ ТОМ С АРХИВОМ
 
   5.4. ИНФОРМАЦИОННЫЙ ПРОТОКОЛ  (НПР=3)
   -------------------------------------
 
   КОП = 0 - ВЫПОЛНИТЬ ДЕЙСТВИЕ АБОНЕНТ НЕ МОЖЕТ
 
   КОП = 1 - ЗАПРОС ПАРАМЕТРОВ СЕТИ
 
   КОП = 2 - ОТВЕТ НА ЗАПРОС ПАРАМЕТРОВ СЕТИ
    3 БАЙТ - НОМЕР АБОНЕНТА
    4 БАЙТ - НОМЕР АБОНЕНТА СЕТЕВОГО ВРЕМЕНИ
 
   КОП = 3 - ЗАПРОС О СОСТОЯНИИ АБОНЕНТА.
 
   КОП = 4 - ОТВЕТ О СОСТОЯНИИ АБОНЕНТА.
    3 БАЙТ - НОМЕР АБОНЕНТА
    4 БАЙТ - СОСТОЯНИЕ АБОНЕНТА
             0 - АБОНЕНТА НЕТ В СИСТЕМЕ
             1 - АБОНЕНТ ОТКЛЮЧЕН
             2 - ПРОИЗОШЛО ОТКЛЮЧЕНИЕ АБОНЕНТА
             3 - ПРОИЗОШЛО ПОДКЛЮЧЕНИЕ АБОНЕНТА
             4 - АБОНЕНТ ПОДКЛЮЧЕН
   КОП = 5 - ЗАПРОС СЕТЕВОГО ВРЕМЕНИ^
 
   КОП = 6 - ОТВЕТ НА ЗАПРОС СЕТЕВОГО ВРЕМЕНИ^
    3 БАЙТ - КОД ОТВЕТА:
             0 - АБОНЕТ НЕ ЯВЛЯЕТСЯ СЕТЕВЫМИ ЧАСАМИ
             1 - АБОНЕНТ ЯВЛЯЕТСЯ СЕТЕВЫМИ ЧАСАМИ, ТОГДА:
                 4,5 - СЕКУНДЫ
                 6,7 - МИНУТЫ
                 8,9 - ЧАСЫ
               10,11 - ДАТА
               12,13 - МЕСЯЦ
               14,15 - ГОД
 
   КОП = 7 - ЗАПРОС ПАРАМЕТРОВ АБОНЕНТА
    3 БАЙТ - НОМЕР ПАРАМЕТРА
 
   КОП = 10 - ОТВЕТ НА ЗАПРОС ПАРАМЕТРОВ АБОНЕНТА
    3 БАЙТ - НОМЕР ПАРАМЕТРА
             (=0 - ПАРАМЕТРА НЕТ)
    4 .... БАЙТЫ - ПАРАМЕТРЫ
