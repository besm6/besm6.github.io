
# Игра калах

В калах играют двое - Джин и пользователь.

Каждый игрок имеет:

 * 6 'лунок'  - игровых полей,
 * 1 'калах'  - лунку, в которой накапливаются 'камни'.

Первоначально камни поровну распределены по всем лункам.

# Игровое поле

Вверху находятся лунки и слева калах Джина.

Внизу находятся лунки и справа калах пользователя.

# Правила игры

Игроки делают ходы по очереди. При очередном ходе игрок берет
все камни из одной из своих лунок и раскладывает их по одному, начиная
со следующей лунки (ходом против часовой стрелки), включая свой
калах и лунки противника. Калах противника при этом пропускается.

Если последний камень попадает в свой калах, то делается еще один ход.

Если последний камень попадает в свою пустую лунку, а в противоположной
лунке противника есть камни, то содержимое этих двух лунок переносится
в калах игрока, сделавшего ход.

Если лунки одного игрока опустели, то независимо от очереди хода
все камни из лунок противника переносятся в калах противника и делается
подсчет камней. Выигрывает тот игрок, в калахе которого камней больше.
В случае равенства партия признается ничьей.

При очередном ходе пользователь указывает номер своей лунки, из
которой берутся камни.

# Дополнение

Если игра прервалась из-за нехватки ВЦП, то партия откладывается
и ее можно продолжить при следующем вызове Джина. Отложенная партия
через неделю сбрасывается и считается проигранной.

К игре можно обращаться также в виде:

    КАЛах ТРЕнировка [ категория ]

В этом случае результат считается ничейным и не учитывается.

Если очередные ходы являются ходами в калах, то можно сразу задавать
последовательность таких ходов, разделяя их запятой или пробелом.
Далее можно добавить произвольный текст.

Партию можно попытаться прервать, набрав соответствующую просьбу
после или вместо очередного хода.

Если игровое поле почему-либо испортилось, его можно восстановить,
набрав литеру 'П' вместо очередного хода.

# Турнир

Все играющие в калах автоматически участвуют в турнире 'Джинн-человек'.
Ежедневно можно сыграть не более 000 партий.

Имеются четыре категории игроков: юниоры (начинающие), кандидаты,
участники и 'эфенди'. Юниоры и кандидаты, достигшие преимущества
над Джином, переходят соответственно в кандидаты и участники. Счет
при этом обнуляется.

Участник, достигший преимущества над Джином и сыгравший в качестве
участника не менее NNN партий, относится к категории 'эфенди'.
Каждый участник турнира может сыграть не более KK партий.
Место определяется процентом выигранных партий.

Турнир открывается и закрывается администратором. При открытом
турнире тренировочные партии играются только в соответствии с категорией
пользователя.

С помощью приказа:

    ТУРнир [<шифр 1-4 знака>] [Э,У,К,Ю]

можно следить за ходом соревнования. В колонке 'фора' указывается
число партий, которое нужно выиграть, чтобы обойти вышестоящего игрока.
