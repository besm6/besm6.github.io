*NАМЕ 12:TAKTEST2
*       ПОДБОР ДЛИТЕЛЬНОСТИ ТАКТА, ЧАСТЬ 2
*TIME:01.00
*DISC:664/SYSTEM,microb
*FILE:arc,30,W
*file:lib,67,r
*LIBRA:23,25
*CALL ficMEMORY
*peRSO:67
*NО LIST
*CALL MICROB
;
;СПИСОК ВОЗМОЖНЫХ ЗНАЧЕНИЙ ПОЛЕЙ:
;--------------------------------
;
FLIST SQI=JZ,CJS,JМАР,CJP,PUSH,JSRP,CJV,JRP,RFCT,RРСТ,CRTN,CJPP,LDCT,LООР,
      CONT,TWB
FLIST МАР=РЕ,GRP,МЕ
FLIST ALUD=Q,NО,ВА,В,RSBQ,RSB,LSBQ,LSB
FLIST FUNC=ADD,SUBR,SUBS,OR,AND,NOTRS,EXOR,EXNOR
FLIST ALUS=AQ,АВ,ZQ,ZВ,ZА,DА,DQ,DZ
FLIST RА=А,У,INTR,РС,РССОРУ,DADR,HALF,ВУТЕ,EXPN,MANT,WR6,WR5,WR4,WR3,WR2,WR1
FLIST RВ=А,У,INTR,РС,РССОРУ,DADR,HALF,ВУТЕ,EXPN,MANT,WR6,WR5,WR4,WR3,WR2,WR1
FLIST CI=CI0,CI1,CIX,CIC
FLIST SHMUX=LSLSL,NSNSL,ASLLS,NDNS,CDLDL,ADNDL,LDLD,LDLND,RSLRSL,RSSRSS,
      RSRS,IDCS,RDSRDS,RDLRDL,VDCD,RDRD
FLIST SТОРС=NС,NN,NZ,NV,/NС,/NN,/NZ,/NV,МС,MN,MZ,MV,/МС,/MN,/MZ,/MV,
      IС,IN,IZ,IV,/IС,/IN,/IZ,/IV,SETNC,SETNN,SETNZ,SETNV,
      УТОМ,MTON,SЕТМ,SETN,MCN,NСМ,CLRM,CLRN,INVM,CLRNC,CLRNN,CLRNZ,CLRNV
FLIST MNSA=U,IRA,МР
FLIST MODNM=М0,М1,М2,М3,М4,М5,М6,М7,М8,М9,М10,М11,М12,М13,М14,SР,С,RR,
      RRR,SPRADR,СТТ,ACL,ACR,YCL,YCR,РСС,РССС,CTL,CTR,SVFA,PROCNC,MREZ
FLIST DSRC=MODGN,PROCN,CNT,PHYSPG,ARBOPC,MULRZ1,MULRZ2,СОМА,SHIFT,ОРС,
      LOS,PROM
FLIST RTIME=RТ
FLIST WTIME=WТ
FLIST YDST=MODGN,PROCN,CNT,PHYSPG,ARBOPC,MUL1,MUL2,ADRREG,PSHIFT,CCLR,BTRCLR
FLIST SHF=CICL,LOG,ARIPH,EMULF
FLIST ARBI=CCRD,CCWR,DCRD,DCWR,FЕТСН,DRD,DWR,RDMWR,BTRWR,BTRRD,BICLR,BIRD
FLIST CYSTR=NТ3,NТ4,NТ5,NТ6,NТ7,NТ8,NТ9,NТ10
FLIST BRA=RG0,RG1,RG2,RG3
FLIST ARA=RG0,RG1,RG2,RG3
FLIST YDEV=PHYSAD,RADRR,PSMEM,МРМЕМ,SТОРМ0,SТОРМ1
FLIST YDEVT=ECBTAG
FLIST DDEV=ВВ,MODB,CLRCD,STATUS,РРМЕМ0,РРМЕМ1
FLIST YDTIM=CTIME
FLIST FFCNT=LOGGRP,MULGRP,ADDGRP,SЕТС,CLRRCB,SETRCB,CLRJMP,SETJMP,
      SETEI,CLREI,CLRTR0,SETTR0,CLRTR1,SETTR1,CLRCT,CLRCTT,CLRTKK,SЕТТКК,
      STRTLD,СНТКК,SETHLT,CLRINT,CLRRUN,LDCPMP,PRGINT,EXTINT,SETNR,SETER
FLIST MPADR=ADRB1,ADRB2,ADRB3,ADRB4,DАТАВ1,DАТАВ2,DАТАВ3,DАТАВ4,
      DАТАВ5,DАТАВ6,DАТАВ7,DАТАВ8,INFB1,INFB2,FМР,FСР
FLIST COND=YES,NORMB,RNDB,OVRIB,BNB,OVRFTB,DRG,EMLRG,RСВ,СВ,CEMLRG,
      СТ,TR1,INTSTP,RUN,NMLRDY,INT,FULMEM,ARBRDY,СРМР,IR15,ТККВ
;
;СПИСОК ОШИБОЧНЫХ КОМБИНАЦИЙ ПОЛЕЙ
;---------------------------------
;
;ШИНА D:
;-------
;
;ИСТОЧНИКИ: DSRC
;           CSM-WЕМ
;           ЕСА-WRA
;           DDEV-WRD
;
СНЕСК DSRC+CSM-WЕМ
СНЕСК DSRC+ЕСА-WRA
СНЕСК DSRC+DDEV-WRD
СНЕСК CSM-WЕМ+ЕСА-WRA
СНЕСК CSM-WЕМ+DDEV-WRD
СНЕСК ЕСА-WRA+DDEV-WRD
;
;ШИНА У:
;-------
;
;ИСТОЧНИКИ: YDEVT-WRB
;           ALU
;           ЕСВ-WRB
;           YDEV-WRY
;           YDTIM+RTIME
;
СНЕСК YDEVT-WRB+ALU
СНЕСК YDEVT-WRB+ЕСВ-WRB
СНЕСК YDEVT-WRB+YDEV-WRY
СНЕСК YDEVT-WRB+YDTIM+RTIME
СНЕСК ALU+ЕСВ-WRB
СНЕСК ALU+YDEV-WRY
СНЕСК ALU+YDTIM+RTIME
СНЕСК ЕСВ-WRB+YDEV-WRY
СНЕСК ЕСВ-WRB+YDTIM+RTIME
СНЕСК YDEV-WRY+YDTIM+RTIME
;
;     ==================
;     МАКРОСЫ ДЛЯ ТЕСТОВ
;     ==================
;
MACRO TN DSRC=PROM,ALUS=DZ,Н,ALUD=В,RВ=EXPN,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=0
MACRO Т DSRC=PROM,ALUS=DZ,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=0
MACRO TIK ALUS=ZВ,RВ=MANT,Н,CI,ALUD=В,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=3
MACRO TIK3 ALUS=ZВ,RВ=WR3,Н,CI,ALUD=В,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=3
MACRO CLRTYP ALUS=DZ,FUNC=AND,Н,ALUD=В,RВ=INTR,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=1
MACRO ТУРЕ ALUS=ZВ,RВ=INTR,Н,CI,ALUD=В,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=1
MACRO С3 ALUS=DZ,FUNC=AND,Н,ALUD=В,RВ=WR3,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=3
;
;     ============================================
;     МАКРОСЫ ДЛЯ ОБ'ЕДИНЕНИЯ МЕЛКИХ ТЕСТОВ В ОДИН
;     ============================================
;
;ВАРИАНТ ДЛЯ ОДНОГО БОЛЬШОГО
MACRO J CONT
MACRO S CONT
;ВАРИАНТ ДЛЯ ОТДЕЛЬНЫХ ТЕСТОВ
;MACRO J CJP
;MACRO S CJS
;
;     ==================
;     МАКРОСЫ ДЛЯ КОМАНД
;     ==================
;
MACRO МА CSM,MNSA=IRA,ALUS=DQ,FUNC=ADD,ALUD=В,RВ=DADR,ALU,YDST=ADRREG
MACRO MAWF CSM,MNSA=МР,MODNM=SР,ALUS=DZ,ALUD=В,RВ=DADR,ALU,YDST=ADRREG
MACRO ARF CSM,MNSA=МР,MODNM=SР,ALUS=DZ,FUNC=SUBS,ALUD=В,RВ=DADR,ALU,YDST=ADRREG
MACRO SSPRG ЕСВ,WRB,BRA=RG3
MACRO PHAW YDEV=PHYSAD,ЕСВ,WRB,BRA=RG0,ARBI=DWR
MACRO PHAR YDEV=PHYSAD,ЕСВ,WRB,BRA=RG0,ARBI=DRD
MACRO RСА DSRC=СОМА,ALUS=DZ,ALUD=Q
MACRO WА МАР=РЕ,COND=ARBRDY,IСС
MACRO SPRG ЕСВ,BRA=RG3,CSM,WЕМ,MNSA=МР,MODNM=SР
MACRO АС CSM,MNSA=МР,MODNM=С,ALUS=DQ,FUNC=ADD,ALUD=Q
MACRO TRSH DSRC=SHIFT,MPS,PSHF=SН0,SHF=LOG
MACRO R МАР=РЕ,COND=RСВ
MACRO М МАР=МЕ,COND=ТККВ,DDEV=CLRCD,WRD,ISE
MACRO MED МАР=МЕ,COND=ТККВ,LЕТС,ISE
MACRO ML МАР=МЕ,DDEV=CLRCD,WRD,ISE
MACRO МЕ МАР=МЕ,LЕТС
MACRO MI МАР=МЕ,COND=ТККВ,DDEV=CLRC,WRD
MACRO TODR1 ECB,WRB,BRA=RG1,ECA,ARA=RG1
MACRO TODR2 ECB,WRB,BRA=RG2,ECA,ARA=RG2
MACRO TODR3 ECB,WRB,BRA=RG3,ECA,ARA=RG3
MACRO TOYR1 ECA,WRA,ARA=RG1,ECB,BRA=RG1
MACRO TOYR2 ECA,WRA,ARA=RG2,ECB,BRA=RG2
MACRO TOYR3 ECA,WRA,ARA=RG3,ECB,BRA=RG3
;
*FULL LIST
TAK2:PROG B;
;     ==================================
;     ПОДБОР ДЛИТЕЛЬНОСТИ ТАКТА, ЧАСТЬ 2
;     ==================================
;
;   РАСПРЕДЕЛЕНИЕ РЕГИСТРОВ ПРИ ПОДБОРЕ ДЛИТЕЛЬНОСТИ ТАКТА:
;   А - ЧТО ПИШЕМ, Y - ЧТО ПРОЧИТАЛИ, Q - РЕЗ-Т СРАВНЕНИЯ, BYTE - МАСКА
;   4 РГ. БОПП ИСПОЛЬЗУЕТСЯ В НЕКОТОРЫХ ТЕСТАХ ДЛЯ ЗАПИСИ ДАННЫХ.
;   В СЛУЧАЕ ОШИБКИ В БОПП ЗАПИСЫВАЕТСЯ А (8-11 РГ.) И Y (12-15 РГ.)
;   ОСТАЛЬНОЕ - ТАК ЖЕ.
;
EXTERNAL INITST,CMP
;
;    Р Н Г
;   =======
;
TK2T1:ENTRY
;===== ИЗ РНГ - В ПРИЕМНИКИ ШИНЫ D: БОИ, МПС
;
CJP A=TAK1,MAP=PE
TAK1:CONT A=H1,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT1:CONT %CLRTYP%,CYSTR=NT9
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 1: БОИ
CONT DSRC=MODGN,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2
CONT DSRC=MODGN,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3: АЛУ, СЛОЖЕНИЕ С 0
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 4
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,ALU,CYSTR=NT3
;*** 5: АЛУ, AND С FFFF
CONT DSRC=MODGN,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 6
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,ALU,CYSTR=NT3
;*** 7: АЛУ, EXNOR С FFFF: NOT(R.EOR.S)
CONT DSRC=MODGN,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 8
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
%J% A=CT1,MAP=PE,%TIK%
;
;
TK2T2:ENTRY
;===== ИЗ РНГ ЧЕРЕЗ МПС (+ ОПЕРАЦИЯ!) - В ПРИЕМНИКИ ШИНЫ Y:
;   РНП,АИСП,ОЗУ ПРИПИСОК,БОПП,БОИ ТЕГА,БОИ ДАННЫХ,ОЗУ МОДИФИКАТОРОВ,СТАТУС
;
CJP A=TAK2,MAP=PE
TAK2:CONT A=H2,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT2:CONT %CLRTYP%,CYSTR=NT9
CONT A=HE0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 1: РНП
CONT DSRC=MODGN,ALUS=DZ,H,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 2
CONT DSRC=MODGN,ALUS=DZ,H,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 3: АИСП
CONT DSRC=MODGN,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=ZER,DSRC=PROM
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 4
CONT DSRC=MODGN,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=ZER,DSRC=PROM
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 5: ОЗУ ПРИПИСОК
CONT DSRC=MODGN,ALUS=DZ,H,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 6
CONT DSRC=MODGN,ALUS=DZ,H,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=HE0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 7: БОПП
CONT DSRC=MODGN,ALUS=DZ,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 8
CONT DSRC=MODGN,ALUS=DZ,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=HE0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 9: БОИ ТЕГА
CONT DSRC=MODGN,ALUS=DZ,H,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG3,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** A
CONT DSRC=MODGN,ALUS=DZ,H,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG2,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** B: БОИ ДАННЫХ
CONT DSRC=MODGN,ALUS=DZ,H,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** C
CONT DSRC=MODGN,ALUS=DZ,H,ALU,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** D: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT DSRC=MODGN,ALUS=DZ,H,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** E
CONT DSRC=MODGN,ALUS=DZ,H,ALU,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** F: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT DSRC=MODGN,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 10
CONT DSRC=MODGN,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=H11,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 11: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП + MOD
CONT DSRC=MODGN,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 12
CONT DSRC=MODGN,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 13: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- IRA
CONT DSRC=MODGN,ALUS=DZ,H,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 14
CONT DSRC=MODGN,ALUS=DZ,H,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 15: СТАТУС, РГ.M
CONT DSRC=MODGN,ALUS=DZ,H,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 16
CONT DSRC=MODGN,ALUS=DZ,H,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT2,MAP=PE,%TIK%
;
;
TK2T3:ENTRY
;===== ИЗ РНГ ЧЕРЕЗ БОИ - В ПРИЕМНИКИ ШИНЫ Y:
;   РНП,АИСП,ОЗУ ПРИПИСОК,БОПП,БОИ ТЕГА,ОЗУ МОДИФИКАТОРОВ,CТАТУС
;
CJP A=TAK3,MAP=PE
TAK3:CONT A=H3,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT3:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=HE0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 1: РНП
CONT DSRC=MODGN,%TOYR3%,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 2
CONT DSRC=MODGN,%TOYR2%,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 3: АИСП
CONT DSRC=MODGN,%TOYR3%,YDST=ADRREG
CONT A=ZER,DSRC=PROM
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 4
CONT DSRC=MODGN,%TOYR3%,YDST=ADRREG
CONT A=ZER,DSRC=PROM
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR2%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 5: ОЗУ ПРИПИСОК
CONT DSRC=MODGN,%TOYR1%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 6
CONT DSRC=MODGN,%TOYR3%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=HE0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 7: БОПП
CONT DSRC=MODGN,%TOYR1%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 8
CONT DSRC=MODGN,%TOYR2%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=HC0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 9: СТАТУС, РГ.M
CONT DSRC=MODGN,%TOYR3%,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** A
CONT DSRC=MODGN,%TOYR1%,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT3,MAP=PE,%TIK%
;
;      Р Н П
;     =======
;
TK2T4:ENTRY
;===== ИЗ РНП - В ПРИЕМНИКИ ШИНЫ D: БОИ, БОБР+БИЗМ, БМСП, МПС
;
CJP A=TAK4,MAP=PE
TAK4:CONT A=H4,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT4:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 1: БОИ
CONT DSRC=PROCN,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2
CONT DSRC=PROCN,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 3: БОБР,БИЗМ
CONT DSRC=PROCN,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 4
CONT DSRC=PROCN,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 5: БМСП
CONT DSRC=PROCN,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 6
CONT DSRC=PROCN,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 7: АЛУ, СЛОЖЕНИЕ С 0
CONT DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 8
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,ALU,CYSTR=NT3
;*** 9: АЛУ, AND C FFFF
CONT DSRC=PROCN,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** A
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,ALU,CYSTR=NT3
;*** B: АЛУ, EXNOR С FFFF
CONT DSRC=PROCN,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** C
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CONT А=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,ALU,YDST=PROCN
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** D: SUB: CONST - CONST - 1 + CI=1
CONT DSRC=PROCN,ALUS=DA,RA=Y,FUNC=SUBR,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,ALU,YDST=PROCN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** E
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DA,RA=Y,FUNC=SUBR,H,CI,ALUD=B,RB=Y
%J% A=CT4,MAP=PE,%TIK%
;
;
TK2T5:ENTRY
;===== ИЗ РНП ЧЕРЕЗ МПС (+ ОПЕРАЦИЯ!) - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РГ/ТГ,КОП АРБИТРА,АИСП,ОЗУ ПРИПИСОК,БОПП,
;   БОИ ТЕГА,БОИ ДАННЫХ,ОЗУ МОДИФИКАТОРОВ,CТАТУС
;
CJP A=TAK5,MAP=PE
TAK5:CONT A=H5,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT5:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=HE0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 1: РНГ
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 2
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=H1C,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 3: ТГ.ПРИЗНАКОВ
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 4
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 5: КОП АРБИТРА
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 6
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 7: АИСП
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 8
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 9: ОЗУ ПРИПИСОК
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** A
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** B: БОПП
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** C
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** D: БОИ ТЕГА
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG3,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** E
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG2,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** F: БОИ ДАННЫХ
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 10
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 11: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 12
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 13: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 14
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H11,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 15: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП + MOD
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 16
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 17: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- IRA
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 18
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=HC0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 19: СТАТУС, РГ.M
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 1A
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT5,MAP=PE,%TIK%
;
;
TK2T6:ENTRY
;===== ИЗ РНП ЧЕРЕЗ БОИ - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РГ/ТГ,КОП АРБИТРА,АИСП,ОЗУ ПРИПИСОК,БОПП,
;   БОИ ТЕГА,БОИ ДАННЫХ,ОЗУ МОДИФИКАТОРОВ,CТАТУС
;
CJP A=TAK6,MAP=PE
TAK6:CONT A=H6,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT6:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=HE0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 1: РНГ
CONT DSRC=PROCN,%TOYR3%,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 2
CONT DSRC=PROCN,%TOYR2%,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=H1C,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 3: РГ/ТГ ПРИЗНАКОВ
CONT DSRC=PROCN,%TOYR2%,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 4
CONT DSRC=PROCN,%TOYR3%,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 5: КОП АРБИТРА
CONT DSRC=PROCN,%TOYR2%,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 6
CONT DSRC=PROCN,%TOYR2%,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 7: АИСП
CONT DSRC=PROCN,%TOYR3%,YDST=ADRREG
CONT A=ZER,DSRC=PROM
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 8
CONT DSRC=PROCN,%TOYR3%,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 9: ОЗУ ПРИПИСОК
CONT DSRC=PROCN,%TOYR1%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** A
CONT DSRC=PROCN,%TOYR2%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** B: БОПП
CONT DSRC=PROCN,%TOYR1%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** C
CONT DSRC=PROCN,%TOYR3%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** D: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT DSRC=PROCN,%TOYR2%,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** E
CONT DSRC=PROCN,%TOYR2%,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** F: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT DSRC=PROCN,%TOYR2%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 10
CONT DSRC=PROCN,%TOYR2%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H11,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 11: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП + MOD
CONT DSRC=PROCN,%TOYR2%,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 12
CONT DSRC=PROCN,%TOYR2%,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 13: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- IRA
CONT DSRC=PROCN,%TOYR3%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 14
CONT DSRC=PROCN,%TOYR3%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=HC0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 15: СТАТУС, РГ.M
CONT DSRC=PROCN,%TOYR2%,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 16
CONT DSRC=PROCN,%TOYR1%,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT6,MAP=PE,%TIK%
;
;     РГ/ТГ ПРИЗНАКОВ
;     ===============
;
TK2T7:ENTRY
;===== ИЗ РГ/ТГ ПРИЗНАКОВ - В ПРИЕМНИКИ ШИНЫ D: БОИ, МПС
;
CJP A=TAK7,MAP=PE
TAK7:CONT A=H7,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT7:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=MFLFL,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 1: БОИ
CONT DSRC=CNT,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2
CONT DSRC=CNT,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=MFLFL,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 3: АЛУ, СЛОЖЕНИЕ С 0
CONT DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 4
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,ALU,CYSTR=NT3
;*** 5: АЛУ, AND C FFFF
CONT DSRC=CNT,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 6
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,ALU,CYSTR=NT3
;*** 7: АЛУ, EXNOR С FFFF
CONT DSRC=CNT,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 8
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
%J% A=CT7,MAP=PE,%TIK%
;
;
TK2T8:ENTRY
;===== ИЗ РГ/ТГ ПРИЗНАКОВ ЧЕРЕЗ МПС (+ ОПЕРАЦИЯ!) - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,КОП АРБИТРА,АИСП,ОЗУ ПРИПИСОК,БОПП,
;   БОИ ТЕГА,БОИ ДАННЫХ,ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAK8,MAP=PE
TAK8:CONT A=H8,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT8:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=H1C,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 1: РНГ
CONT DSRC=CNT,ALUS=DZ,H,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2
CONT DSRC=CNT,ALUS=DZ,H,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=H1C,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 3: РНП
CONT DSRC=CNT,ALUS=DZ,H,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 4
CONT DSRC=CNT,ALUS=DZ,H,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=HC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 5: КОП АРБИТРА
CONT DSRC=CNT,ALUS=DZ,H,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 6
CONT DSRC=CNT,ALUS=DZ,H,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=H1C,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 7: АИСП
CONT DSRC=CNT,ALUS=DZ,H,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR2%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=CAAA,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 8
CONT DSRC=CNT,ALUS=DZ,H,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR2%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=H1C,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 9: ОЗУ ПРИПИСОК
CONT DSRC=CNT,ALUS=DZ,H,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** A
CONT DSRC=CNT,ALUS=DZ,H,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=H1C,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** B: БОПП
CONT DSRC=CNT,ALUS=DZ,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** C
CONT DSRC=CNT,ALUS=DZ,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** D: БОИ ТЕГА
CONT DSRC=CNT,ALUS=DZ,H,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG3,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** E
CONT DSRC=CNT,ALUS=DZ,H,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG2,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=MFLFL,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** F: БОИ ДАННЫХ
CONT DSRC=CNT,ALUS=DZ,H,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 10
CONT DSRC=CNT,ALUS=DZ,H,ALU,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 11: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT DSRC=CNT,ALUS=DZ,H,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 12
CONT DSRC=CNT,ALUS=DZ,H,ALU,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 13: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT DSRC=CNT,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 14
CONT DSRC=CNT,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H11,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 15: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП + MOD
CONT DSRC=CNT,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 16
CONT DSRC=CNT,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 17: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- IRA
CONT DSRC=CNT,ALUS=DZ,H,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 18
CONT DSRC=CNT,ALUS=DZ,H,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT8,MAP=PE,%TIK%
;
;
TK2T9:ENTRY
;===== ИЗ РГ/ТГ ПРИЗНАКОВ ЧЕРЕЗ БОИ - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,КОП АРБИТРА,АИСП,ОЗУ ПРИПИСОК,БОПП,ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAK9,MAP=PE
TAK9:CONT A=H9,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT9:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=H1C,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 1: РНГ
CONT DSRC=CNT,%TOYR3%,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2
CONT DSRC=CNT,%TOYR3%,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=H1C,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 3: РНП
CONT DSRC=CNT,%TOYR3%,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 4
CONT DSRC=CNT,%TOYR2%,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=HC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 5: КОП АРБИТРА
CONT DSRC=CNT,%TOYR2%,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 6
CONT DSRC=CNT,%TOYR2%,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=H1C,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 7: АИСП
CONT DSRC=CNT,%TOYR3%,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR2%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 8
CONT DSRC=CNT,%TOYR2%,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=H1C,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 9: ОЗУ ПРИПИСОК
CONT DSRC=CNT,%TOYR1%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** A
CONT DSRC=CNT,%TOYR3%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** B: БОПП
CONT DSRC=CNT,%TOYR1%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** C
CONT DSRC=CNT,%TOYR3%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=MFLFL,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** D: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT DSRC=CNT,%TOYR2%,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** E
CONT DSRC=CNT,%TOYR2%,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** F: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT DSRC=CNT,%TOYR2%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 10
CONT DSRC=CNT,%TOYR2%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H11,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREGH
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 11: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП + MOD
CONT DSRC=CNT,%TOYR2%,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 12
CONT DSRC=CNT,%TOYR2%,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 13: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- IRA
CONT DSRC=CNT,%TOYR3%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 14
CONT DSRC=CNT,%TOYR3%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT9,MAP=PE,%TIK%
;
;      Р Ф С
;     =======
;
TK2TA:ENTRY
;===== ИЗ РФС - В ПРИЕМНИКИ ШИНЫ D: БОИ, МПС
;
CJP A=TAKA,MAP=PE
TAKA:CONT A=HA,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CTA:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 1: БОИ
CONT DSRC=PHYSPG,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2
CONT DSRC=PHYSPG,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3: АЛУ, СЛОЖЕНИЕ С 0
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 4
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,ALU,CYSTR=NT3
;*** 5: АЛУ, AND C FFFF
CONT DSRC=PHYSPG,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 6
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,ALU,CYSTR=NT3
;*** 7: АЛУ, EXNOR С FFFF
CONT DSRC=PHYSPG,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 8
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
%J% A=CTA,MAP=PE,%TIK%
;
;
TK2TB:ENTRY
;===== ИЗ РФС ЧЕРЕЗ МПС (+ ОПЕРАЦИЯ!) - В ПРИЕМНИКИ ШИНЫ Y:
;   АИСП,ОЗУ ПРИПИСОК,БОИ ДАННЫХ,ОЗУ МОДИФИКАТОРОВ,ОЗУ ПС
;
CJP A=TAKB,MAP=PE
TAKB:CONT A=HB,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CTB:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 1: АИСП
CONT DSRC=PHYSPG,ALUS=DZ,H,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 2
CONT DSRC=PHYSPG,ALUS=DZ,H,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3: ОЗУ ПРИПИСОК
CONT DSRC=PHYSPG,ALUS=DZ,H,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 4
CONT DSRC=PHYSPG,ALUS=DZ,H,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 5: БОИ ДАННЫХ
CONT DSRC=PHYSPG,ALUS=DZ,H,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 6
CONT DSRC=PHYSPG,ALUS=DZ,H,ALU,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 7: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT DSRC=PHYSPG,ALUS=DZ,H,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 8
CONT DSRC=PHYSPG,ALUS=DZ,H,ALU,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 9: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT DSRC=PHYSPG,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** A
CONT DSRC=PHYSPG,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H11,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** B: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП + MOD
CONT DSRC=PHYSPG,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** C
CONT DSRC=PHYSPG,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** D: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- IRA
CONT DSRC=PHYSPG,ALUS=DZ,H,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** E
CONT DSRC=PHYSPG,ALUS=DZ,H,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** F: ОЗУ ПС
CONT DSRC=PHYSPG,ALUS=DZ,H,ALU,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 10
CONT DSRC=PHYSPG,ALUS=DZ,H,ALU,DDEV=PPMEM1,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM1,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CTB,MAP=PE,%TIK%
;
;
TK2TC:ENTRY
;===== ИЗ РФС ЧЕРЕЗ БОИ - В ПРИЕМНИКИ ШИНЫ Y:
;   АИСП,ОЗУ ПРИПИСОК,ОЗУ МОДИФИКАТОРОВ,ОЗУ ПС
;
CJP A=TAKC,MAP=PE
TAKC:CONT A=HC,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CTC:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 1: АИСП
CONT DSRC=PHYSPG,%TOYR3%,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR2%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 2
CONT DSRC=PHYSPG,%TOYR2%,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR2%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3: ОЗУ ПРИПИСОК
CONT DSRC=PHYSPG,%TOYR1%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 4
CONT DSRC=PHYSPG,%TOYR3%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 5: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT DSRC=PHYSPG,%TOYR2%,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 6
CONT DSRC=PHYSPG,%TOYR2%,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 7: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT DSRC=PHYSPG,%TOYR2%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 8
CONT DSRC=PHYSPG,%TOYR3%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H11,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 9: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП + MOD
CONT DSRC=PHYSPG,%TOYR2%,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** A
CONT DSRC=PHYSPG,%TOYR3%,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** B: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- IRA
CONT DSRC=PHYSPG,%TOYR3%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** C
CONT DSRC=PHYSPG,%TOYR3%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** D: ОЗУ ПС
CONT DSRC=PHYSPG,%TOYR2%,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** E
CONT DSRC=PHYSPG,%TOYR3%,DDEV=PPMEM1,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM1,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CTC,MAP=PE,%TIK%
;
;
TK2TD:ENTRY
;===== РФС - ЧЕРЕЗ МПС - В ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAKD,MAP=PE
TAKD:CONT A=HD,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CTD:CONT %CLRTYP%,CYSTR=NT9
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=SUBWD,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CJS A=CMP,MAP=PE,%TYPE%
;2
CJS A=SUBWD,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CJS A=CMP,MAP=PE,%TYPE%
;3
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CJS A=SUBWD,MAP=PE
CJS A=CMP,MAP=PE,%TYPE%
%J% A=CTD,MAP=PE,%TIK%
;
;
TK2TE:ENTRY
;===== РФС - ЧЕРЕЗ БОИ - В ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAKE,MAP=PE
TAKE:CONT A=HE,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CTE:CONT %CLRTYP%,CYSTR=NT9
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
;1
CJS A=SUBWE,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CJS A=CMP,MAP=PE,%TYPE%
;2
CJS A=SUBWE,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CJS A=CMP,MAP=PE,%TYPE%
;3
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CJS A=SUBWE,MAP=PE
CJS A=CMP,MAP=PE,%TYPE%
%J% A=CTE,MAP=PE,%TIK%
;
;     КОП АРБИТРА
;     ===========
;
TK2TF:ENTRY
;===== КОП АРБИТРА - В ПРИЕМНИКИ ШИНЫ D: БОИ, МПС
;
CJP A=TAKF,MAP=PE
TAKF:CONT A=HF,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CTF:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 1: БОИ
CONT DSRC=ARBOPC,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2
CONT DSRC=ARBOPC,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3: АЛУ, СЛОЖЕНИЕ С 0
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 4
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,ALU,CYSTR=NT3
;*** 5: АЛУ, AND C FFFF
CONT DSRC=ARBOPC,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 6
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,ALU,CYSTR=NT3
;*** 7: АЛУ, EXNOR С FFFF
CONT DSRC=ARBOPC,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 8
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CONT А=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,ALU,YDST=ARBOPC
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 9: SUB: CONST - CONST - 1 + CI=1
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DA,RA=Y,FUNC=SUBR,H,CI,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,ALU,YDST=ARBOPC
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** A
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DA,RA=Y,FUNC=SUBR,H,CI,ALUD=B,RB=Y
%J% A=CTF,MAP=PE,%TIK%
;
;
TK2T10:ENTRY
;===== КОП АРБИТРА ЧЕРЕЗ МПС (+ ОПЕРАЦИЯ!) - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,АИСП,ОЗУ ПРИПИСОК,БОПП,БОИ ТЕГА,БОИ ДАННЫХ,ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAK10,MAP=PE
TAK10:CONT A=H10,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT10:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 1: РНГ
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 2
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 3: РНП
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 4
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 5: АИСП
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ADRREG
CONT A=ZER,DSRC=PROM
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 6
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ADRREG
CONT A=ZER,DSRC=PROM
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 7: ОЗУ ПРИПИСОК
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 8
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 9: БОПП
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** A
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** B: БОИ ТЕГА
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG3,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** C
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG2,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** D: БОИ ДАННЫХ
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** E
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** F: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 10
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 11: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 12
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H11,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 13: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП + MOD
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 14
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 15: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- IRA
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 16
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT10,MAP=PE,%TIK%
;
;
TK2T11:ENTRY
;===== ИЗ КОП АРБИТРА ЧЕРЕЗ БОИ - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,АИСП,ОЗУ ПРИПИСОК,БОПП,ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAK11,MAP=PE
TAK11:CONT A=H11,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT11:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 1: РНГ
CONT DSRC=ARBOPC,%TOYR3%,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2
CONT DSRC=ARBOPC,%TOYR3%,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 3: РНП
CONT DSRC=ARBOPC,%TOYR3%,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 4
CONT DSRC=ARBOPC,%TOYR2%,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 5: АИСП
CONT DSRC=ARBOPC,%TOYR3%,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 6
CONT DSRC=ARBOPC,%TOYR2%,YDST=ADRREG
CONT A=ZER,DSRC=PROM
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR2%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 7: ОЗУ ПРИПИСОК
CONT DSRC=ARBOPC,%TOYR1%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 8
CONT DSRC=ARBOPC,%TOYR3%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 9: БОПП
CONT DSRC=ARBOPC,%TOYR1%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** A
CONT DSRC=ARBOPC,%TOYR2%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** B: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT DSRC=ARBOPC,%TOYR2%,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** C
CONT DSRC=ARBOPC,%TOYR1%,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** D: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT DSRC=ARBOPC,%TOYR2%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** E
CONT DSRC=ARBOPC,%TOYR3%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H11,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** F: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП + MOD
CONT DSRC=ARBOPC,%TOYR2%,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 10
CONT DSRC=ARBOPC,%TOYR3%,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 11: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- IRA
CONT DSRC=ARBOPC,%TOYR3%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 12
CONT DSRC=ARBOPC,%TOYR3%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT11,MAP=PE,%TIK%
;
TK2T12:ENTRY
;===== КОП АРБИТРА - В МПС + ЛОГ. ОПЕРАЦИЯ
;
CJP A=TAK12,MAP=PE
TAK12:CONT A=H12,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT12:CONT %CLRTYP%,CYSTR=NT9
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
;1
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=SSR12,MAP=PE
CJS A=CMP,MAP=PE,%TYPE%
;2
CJS A=SSR12,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;3
CJS A=SSR12,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;4
CJS A=SSR12,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;5
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=SRR12,MAP=PE
CJS A=CMP,MAP=PE,%TYPE%
;6
CJS A=SRR12,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;7
CJS A=SRR12,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;8
CJS A=SRR12,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
%J% A=CT12,MAP=PE,%TIK%
;
;      П З У
;     =======
;
TK2T13:ENTRY
;===== ИЗ ПЗУ - В ПРИЕМНИКИ ШИНЫ D: БОИ, БОБР+БИЗМ, БМСП, МПС
;
CJP A=TAK13,MAP=PE
TAK13:CONT A=H13,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT13:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 1: БОИ
CONT А=CAAA,DSRC=PROM,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2
CONT А=C555,DSRC=PROM,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C4,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3: БОБР,БИЗМ
CONT А=C4,DSRC=PROM,DDEV=BB,WRD
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CONT A=C2,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 4
CONT А=C2,DSRC=PROM,DDEV=BB,WRD
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 5: БМСП
CONT А=C1,DSRC=PROM,DDEV=MODB,WRD
CONT A=H1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 6
CONT А=ZER,DSRC=PROM,DDEV=MODB,WRD
CONT A=H1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,CYSTR=NT3
;*** 7: АЛУ, СЛОЖЕНИЕ С 0
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,CYSTR=NT3
;*** 8
CONT А=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,ALU,CYSTR=NT3
;*** 9: АЛУ, AND С FFFF
CONT А=CAAA,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,CYSTR=NT3
;*** A
CONT А=C555,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,ALU,CYSTR=NT3
;*** B: АЛУ, EXNOR С FFFF
CONT А=CAAA,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,CYSTR=NT3
;*** C
CONT А=C555,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT А=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CYSTR=NT3
;*** D: SUB: CONST - CONST - 1 + CI=1
CONT А=CAAA,DSRC=PROM,ALUS=DA,RA=Y,FUNC=SUBR,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,CYSTR=NT4
;*** E
CONT А=C555,DSRC=PROM,ALUS=DA,RA=Y,FUNC=SUBR,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
%J% A=CT13,MAP=PE,%TIK%
;
;
TK2T14:ENTRY
;===== ИЗ ПЗУ ЧЕРЕЗ МПС (+ ОПЕРАЦИЯ!) - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,РГ/ТГ,РФС,КОП АРБИТРА,АИСП,РПС,ОЗУ ПРИПИСОК,БОПП,
;   БОИ ТЕГА,БОИ ДАННЫХ,ОЗУ МОДИФИКАТОРОВ,CТАТУС,ОЗУ ПС,ШФ+РГ/СЧ
;
CJP A=TAK14,MAP=PE
TAK14:CONT A=H14,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT14:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 1: РНГ
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 2
CONT А=C555,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 3: РНП
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 4
CONT А=C555,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MFLFL,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 5: ТГ.ПРИЗНАКОВ
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 6
CONT А=C555,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 7: РФС
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 8
CONT А=C555,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 9: КОП АРБИТРА
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** A
CONT А=C555,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** B: АИСП
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** C
CONT А=C555,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MH,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** D: РПС
CONT А=SR32,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PSHIFT
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MNH,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** E
CONT А=SL32,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PSHIFT
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** F: ОЗУ ПРИПИСОК
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 10
CONT А=C555,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 11: БОПП
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 12
CONT А=C555,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 13: БОИ ТЕГА
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG3,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 14
CONT А=C555,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG2,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 15: БОИ ДАННЫХ
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 16
CONT А=C555,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 17: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 18
CONT А=C555,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 19: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 1A
CONT А=C555,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H11,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 1B: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП + MOD
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 1C
CONT А=C555,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 1D: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- IRA
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 1E
CONT А=C555,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 1F: СТАТУС, РГ.M
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 20
CONT А=C555,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 21: ОЗУ ПС
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 22
CONT А=C555,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,DDEV=PPMEM1,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=HA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 23: РГ/СЧ СУАМ
CONT А=C9,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B9,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CYSTR=NT3
;*** 24
CONT А=MB,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
%J% A=CT14,MAP=PE,%TIK%
;
;
TK2T15:ENTRY
;===== ИЗ ПЗУ ЧЕРЕЗ БОИ - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,РГ/ТГ,РФС,КОП АРБИТРА,АИСП,РПС,ОЗУ ПРИПИСОК,БОПП,
;   БОИ ТЕГА,БОИ ДАННЫХ,ОЗУ МОДИФИКАТОРОВ,CТАТУС,ОЗУ ПС,ШФ+РГ/СЧ
;
;   ЧАСЫ И ТАЙМЕР СВ НЕ ПРОВЕРЯЕМ В ЭТОМ ТЕСТЕ!
;
CJP A=TAK15,MAP=PE
TAK15:CONT A=H15,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT15:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 1: РНГ
CONT А=CAAA,DSRC=PROM,%TOYR3%,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 2
CONT А=C555,DSRC=PROM,%TOYR2%,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 3: РНП
CONT А=CAAA,DSRC=PROM,%TOYR3%,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 4
CONT А=C555,DSRC=PROM,%TOYR2%,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MFLFL,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 5: ТГ.ПРИЗНАКОВ
CONT А=CAAA,DSRC=PROM,%TOYR3%,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 6
CONT А=C555,DSRC=PROM,%TOYR2%,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 7: РФС
CONT А=CAAA,DSRC=PROM,%TOYR3%,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 8
CONT А=C555,DSRC=PROM,%TOYR3%,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 9: КОП АРБИТРА
CONT А=CAAA,DSRC=PROM,%TOYR2%,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** A
CONT А=C555,DSRC=PROM,%TOYR2%,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** B: АИСП
CONT А=CAAA,DSRC=PROM,%TOYR3%,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** C
CONT А=C555,DSRC=PROM,%TOYR3%,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MH,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** D: РПС
CONT А=SR32,DSRC=PROM,%TOYR1%,YDST=PSHIFT
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MNH,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** E
CONT А=SL32,DSRC=PROM,%TOYR2%,YDST=PSHIFT
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** F: ОЗУ ПРИПИСОК
CONT А=CAAA,DSRC=PROM,%TOYR1%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 10
CONT А=C555,DSRC=PROM,%TOYR3%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 11: БОПП
CONT А=CAAA,DSRC=PROM,%TOYR1%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 12
CONT А=C555,DSRC=PROM,%TOYR2%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT5
;*** 13: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT А=CAAA,DSRC=PROM,%TOYR2%,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 14
CONT А=C555,DSRC=PROM,%TOYR1%,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 15: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT А=CAAA,DSRC=PROM,%TOYR2%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 16
CONT А=C555,DSRC=PROM,%TOYR2%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=H11,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT5
;*** 17: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП + MOD
CONT А=CAAA,DSRC=PROM,%TOYR2%,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 18
CONT А=C555,DSRC=PROM,%TOYR2%,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT5
;*** 19: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- IRA
CONT А=CAAA,DSRC=PROM,%TOYR3%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 1A
CONT А=C555,DSRC=PROM,%TOYR2%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 1B: СТАТУС, РГ.M
CONT А=CAAA,DSRC=PROM,%TOYR2%,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 1C
CONT А=C555,DSRC=PROM,%TOYR1%,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 1D: ОЗУ ПС
CONT А=CAAA,DSRC=PROM,%TOYR3%,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 1E
CONT А=C555,DSRC=PROM,%TOYR3%,DDEV=PPMEM1,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=HA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 1F: РГ/СЧ СУАМ
CONT А=C9,DSRC=PROM,%TOYR2%,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B9,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CYSTR=NT4
;*** 20
CONT А=MB,DSRC=PROM,%TOYR3%,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
%J% A=CT15,MAP=PE,%TIK%
;
;
TK2T16:ENTRY
;===== ПЗУ - ЧЕРЕЗ МПС - В БОПП
;
CJP A=TAK16,MAP=PE
TAK16:CONT A=H16,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT16:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=B7,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT А=H1,DSRC=PROM,ALUS=DА,RА=DADR,FUNC=SUBR,CI,ALUD=В,RВ=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 1
CONT А=H1,DSRC=PROM,ALUS=DА,RА=DADR,FUNC=SUBR,CI,ALUD=В,RВ=A,ALU
>,YDEV=МРМЕМ,WRY,IОМР,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MQ,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT А=HF,DSRC=PROM,ALUS=DА,RА=DADR,FUNC=SUBR,CI,ALUD=В,RВ=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2
CONT А=HF,DSRC=PROM,ALUS=DА,RА=DADR,FUNC=SUBR,CI,ALUD=В,RВ=A,ALU
>,YDEV=МРМЕМ,WRY,IОМР,MPADR=4
CJS A=CMP,MAP=PE,YDEV=МРМЕМ,IОМР,MPADR=4,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT А=HF,DSRC=PROM,ALUS=DА,RА=DADR,FUNC=OR,H,ALUD=В,RВ=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3
CONT А=HF,DSRC=PROM,ALUS=DА,RА=DADR,FUNC=OR,H,ALUD=В,RВ=A,ALU
>,YDEV=МРМЕМ,WRY,IОМР,MPADR=4
CJS A=CMP,MAP=PE,YDEV=МРМЕМ,IОМР,MPADR=4,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT16,MAP=PE,%TIK%
;
;
TK2T17:ENTRY
;===== ПЗУ - ЧЕРЕЗ БОИ - В БОПП
;
CJP A=TAK17,MAP=PE
TAK17:CONT A=H17,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT17:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=B7,DSRC=PROM,ALUS=DZ,H,ALUD=В,RВ=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 1
CONT А=B7,DSRC=PROM,ECA,WRA,ARA=RG3,ECB,BRA=RG3,YDEV=МРМЕМ,WRY,IОМР,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT А=HF,DSRC=PROM,ALUS=DZ,H,ALUD=В,RВ=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2
CONT А=HF,DSRC=PROM,ECA,WRA,ARA=RG3,ECB,BRA=RG3,YDEV=МРМЕМ,WRY,IОМР,MPADR=4
CJS A=CMP,MAP=PE,YDEV=МРМЕМ,IОМР,MPADR=4,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=В,RВ=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3
CONT А=CAAA,DSRC=PROM,ECA,WRA,ARA=RG3,ECB,BRA=RG3,YDEV=МРМЕМ,WRY,IОМР,MPADR=4
CJS A=CMP,MAP=PE,YDEV=МРМЕМ,IОМР,MPADR=4,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT17,MAP=PE,%TIK%
;
;
TK2T18:ENTRY
;===== ПЗУ - ЧЕРЕЗ МПС - В ОЗУ МОД.
;
CJP A=TAK18,MAP=PE
TAK18:CONT A=H18,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT18:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=B17,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT5
;*** 1
CONT А=H1,DSRC=PROM,ALUS=DА,RА=DADR,FUNC=SUBR,CI,ALUD=В,RВ=A,ALU
>,CSM,WЕМ,MNSA=МР,MODNM=ACL
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MQ,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 2
CONT А=MB,DSRC=PROM,ALUS=DА,RА=DADR,FUNC=SUBR,CI,ALUD=В,RВ=A,ALU
>,CSM,WЕМ,MNSA=МР,MODNM=ACR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 3
CONT А=MQ,DSRC=PROM,ALUS=DА,RА=DADR,FUNC=AND,H,ALUD=В,RВ=A,ALU
>,CSM,WЕМ,MNSA=МР,MODNM=ACR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=B33,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 4
CONT А=H1,DSRC=PROM,ALUS=DА,RА=DADR,FUNC=SUBR,CI,ALU,CSM,WЕМ,MNSA=МР,MODNM=ACL
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MQ,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 5
CONT А=MB,DSRC=PROM,ALUS=DА,RА=DADR,FUNC=SUBR,CI,ALU,CSM,WЕМ,MNSA=МР,MODNM=ACR
CONT A=MB2ZZZ,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 6
CONT А=C555,DSRC=PROM,ALUS=DА,RА=DADR,FUNC=ADD,H,ALU,CSM,WЕМ,MNSA=МР,MODNM=ACR
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT18,MAP=PE,%TIK%
;
;
TK2T19:ENTRY
;===== ПЗУ - ЧЕРЕЗ БОИ - В ОЗУ МОД.
;
CJP A=TAK19,MAP=PE
TAK19:CONT A=H19,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT19:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=B17,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 1
CONT А=B17,DSRC=PROM,%TOYR2%,CSM,WЕМ,MNSA=МР,MODNM=ACL
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 2
CONT А=MB,DSRC=PROM,%TOYR3%,CSM,WЕМ,MNSA=МР,MODNM=ACR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 3
CONT А=CAAA,DSRC=PROM,%TOYR2%,CSM,WЕМ,MNSA=МР,MODNM=ACR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 4
CONT А=H1,DSRC=PROM,%TOYR3%,CSM,WЕМ,MNSA=МР,MODNM=ACL
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MB2ZZZ,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 5
CONT А=MB2ZZZ,DSRC=PROM,%TOYR2%,CSM,WЕМ,MNSA=МР,MODNM=ACR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 6
CONT А=C555,DSRC=PROM,%TOYR3%,CSM,WЕМ,MNSA=МР,MODNM=ACR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT19,MAP=PE,%TIK%
;
;     БОБР + БИЗМ
;     ===========
;
TK2T1A:ENTRY
;===== ИЗ БОБР+БИЗМ ЧЕРЕЗ МПС (+ ОПЕРАЦИЯ!) - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,КОП АРБИТРА,АИСП,ОЗУ ПРИПИСОК,БОПП,БОИ ТЕГА,БОИ ДАННЫХ,ОЗУ МОД.
;
CJP A=TAK1A,MAP=PE
TAK1A:CONT A=H1A,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT1A:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 1: РНГ
CONT DDEV=BB,ALUS=DZ,H,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2
CONT DDEV=BB,ALUS=DZ,H,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 3: РНП
CONT DDEV=BB,ALUS=DZ,H,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 4
CONT DDEV=BB,ALUS=DZ,H,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 5: КОП АРБИТРА
CONT DDEV=BB,ALUS=DZ,H,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 6
CONT DDEV=BB,ALUS=DZ,H,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 7: АИСП
CONT DDEV=BB,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=ZER,DSRC=PROM
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 8
CONT DDEV=BB,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=ZER,DSRC=PROM
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR2%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 9: ОЗУ ПРИПИСОК
CONT DDEV=BB,ALUS=DZ,H,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** A
CONT DDEV=BB,ALUS=DZ,H,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** B: БОПП
CONT DDEV=BB,ALUS=DZ,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** C
CONT DDEV=BB,ALUS=DZ,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** D: БОИ ТЕГА
CONT DDEV=BB,ALUS=DZ,H,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG3,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** E
CONT DDEV=BB,ALUS=DZ,H,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG2,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** F: БОИ ДАННЫХ
CONT DDEV=BB,ALUS=DZ,H,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 10
CONT DDEV=BB,ALUS=DZ,H,ALU,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 11: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT DDEV=BB,ALUS=DZ,H,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 12
CONT DDEV=BB,ALUS=DZ,H,ALU,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 13: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT DDEV=BB,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 14
CONT DDEV=BB,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H11,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 15: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП + MOD
CONT DDEV=BB,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 16
CONT DDEV=BB,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 17: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- IRA
CONT DDEV=BB,ALUS=DZ,H,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 18
CONT DDEV=BB,ALUS=DZ,H,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT1A,MAP=PE,%TIK%
CJP A=CT1,MAP=PE
;
;     П/П ДЛЯ ТЕСТОВ
;     ==============
;
;ЗАПИСЬ ИЗ РФС ЧЕРЕЗ МПС - В ОЗУ МОД.
SUBWD:CONT A=ZER,DSRC=PROM,%TOYR2%,CYSTR=NT5
;***
CONT DSRC=PHYSPG,ALUS=DZ,ALU,CSM,WEM,MNSA=MP,MODNM=ACL
CRTN CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,H,ALUD=B,RB=Y
;
;ЗАПИСЬ ИЗ РФС ЧЕРЕЗ БОИ - В ОЗУ МОД.
SUBWE:CONT A=ZER,DSRC=PROM,%TOYR2%,CYSTR=NT5
;*** 1,2,3
CONT DSRC=PHYSPG,ECA,WRA,ARA=RG3,ECB,BRA=RG3,CSM,WEM,MNSA=MP,MODNM=ACL
CRTN CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,H,ALUD=B,RB=Y
;
;ЧТЕНИЕ КОП АРБИТРА В МПС
SSR12:CONT ALUS=ZA,RA=A,H,ALU,YDST=ARBOPC
CONT A=HF,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A,%TOYR2%,CYSTR=NT3
;*** 1,2,3,4
CONT DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CRTN A=HF,DSRC=PROM,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
;П/П
SRR12:CONT ALUS=ZA,RA=A,H,ALU,YDST=ARBOPC
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=HF,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A,%TOYR3%,CYSTR=NT3
;*** 5,6,7,8
CRTN DSRC=ARBOPC,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
END
LDT2:PROG;
EXTERNAL SHMP,TAK2,CMP
END
*END
*NO LIST
*CALL MICLOA:LDT2
*CALL MPROM
*END F
*END FILE
