*NАМЕ 12:TAKTEST3
*       ПОДБОР ДЛИТЕЛЬНОСТИ ТАКТА, ЧАСТЬ 3
*TIME:01.00
*DISC:664/SYSTEM,microb
*FILE:arc,30,W
*file:lib,67,r
*LIBRA:23,25
*CALL ficMEMORY
*peRSO:67
*NО LIST
*CALL MICROB
;
;СПИСОК ВОЗМОЖНЫХ ЗНАЧЕНИЙ ПОЛЕЙ:
;--------------------------------
;
FLIST SQI=JZ,CJS,JМАР,CJP,PUSH,JSRP,CJV,JRP,RFCT,RРСТ,CRTN,CJPP,LDCT,LООР,
      CONT,TWB
FLIST МАР=РЕ,GRP,МЕ
FLIST ALUD=Q,NО,ВА,В,RSBQ,RSB,LSBQ,LSB
FLIST FUNC=ADD,SUBR,SUBS,OR,AND,NOTRS,EXOR,EXNOR
FLIST ALUS=AQ,АВ,ZQ,ZВ,ZА,DА,DQ,DZ
FLIST RА=А,У,INTR,РС,РССОРУ,DADR,HALF,ВУТЕ,EXPN,MANT,WR6,WR5,WR4,WR3,WR2,WR1
FLIST RВ=А,У,INTR,РС,РССОРУ,DADR,HALF,ВУТЕ,EXPN,MANT,WR6,WR5,WR4,WR3,WR2,WR1
FLIST CI=CI0,CI1,CIX,CIC
FLIST SHMUX=LSLSL,NSNSL,ASLLS,NDNS,CDLDL,ADNDL,LDLD,LDLND,RSLRSL,RSSRSS,
      RSRS,IDCS,RDSRDS,RDLRDL,VDCD,RDRD
FLIST SТОРС=NС,NN,NZ,NV,/NС,/NN,/NZ,/NV,МС,MN,MZ,MV,/МС,/MN,/MZ,/MV,
      IС,IN,IZ,IV,/IС,/IN,/IZ,/IV,SETNC,SETNN,SETNZ,SETNV,
      УТОМ,MTON,SЕТМ,SETN,MCN,NСМ,CLRM,CLRN,INVM,CLRNC,CLRNN,CLRNZ,CLRNV
FLIST MNSA=U,IRA,МР
FLIST MODNM=М0,М1,М2,М3,М4,М5,М6,М7,М8,М9,М10,М11,М12,М13,М14,SР,С,RR,
      RRR,SPRADR,СТТ,ACL,ACR,YCL,YCR,РСС,РССС,CTL,CTR,SVFA,PROCNC,MREZ
FLIST DSRC=MODGN,PROCN,CNT,PHYSPG,ARBOPC,MULRZ1,MULRZ2,СОМА,SHIFT,ОРС,
      LOS,PROM
FLIST RTIME=RТ
FLIST WTIME=WТ
FLIST YDST=MODGN,PROCN,CNT,PHYSPG,ARBOPC,MUL1,MUL2,ADRREG,PSHIFT,CCLR,BTRCLR
FLIST SHF=CICL,LOG,ARIPH,EMULF
FLIST ARBI=CCRD,CCWR,DCRD,DCWR,FЕТСН,DRD,DWR,RDMWR,BTRWR,BTRRD,BICLR,BIRD
FLIST CYSTR=NТ3,NТ4,NТ5,NТ6,NТ7,NТ8,NТ9,NТ10
FLIST BRA=RG0,RG1,RG2,RG3
FLIST ARA=RG0,RG1,RG2,RG3
FLIST YDEV=PHYSAD,RADRR,PSMEM,МРМЕМ,SТОРМ0,SТОРМ1
FLIST YDEVT=ECBTAG
FLIST DDEV=ВВ,MODB,CLRCD,STATUS,РРМЕМ0,РРМЕМ1
FLIST YDTIM=CTIME
FLIST FFCNT=LOGGRP,MULGRP,ADDGRP,SЕТС,CLRRCB,SETRCB,CLRJMP,SETJMP,
      SETEI,CLREI,CLRTR0,SETTR0,CLRTR1,SETTR1,CLRCT,CLRCTT,CLRTKK,SЕТТКК,
      STRTLD,СНТКК,SETHLT,CLRINT,CLRRUN,LDCPMP,PRGINT,EXTINT,SETNR,SETER
FLIST MPADR=ADRB1,ADRB2,ADRB3,ADRB4,DАТАВ1,DАТАВ2,DАТАВ3,DАТАВ4,
      DАТАВ5,DАТАВ6,DАТАВ7,DАТАВ8,INFB1,INFB2,FМР,FСР
FLIST COND=YES,NORMB,RNDB,OVRIB,BNB,OVRFTB,DRG,EMLRG,RСВ,СВ,CEMLRG,
      СТ,TR0,TR1,INTSTP,RUN,NMLRDY,INT,FULMEM,ARBRDY,СРМР,IR15,ТККВ
;
;СПИСОК ОШИБОЧНЫХ КОМБИНАЦИЙ ПОЛЕЙ
;---------------------------------
;
;ШИНА D:
;-------
;
;ИСТОЧНИКИ: DSRC
;           CSM-WЕМ
;           ЕСА-WRA
;           DDEV-WRD
;
СНЕСК DSRC+CSM-WЕМ
СНЕСК DSRC+ЕСА-WRA
СНЕСК DSRC+DDEV-WRD
СНЕСК CSM-WЕМ+ЕСА-WRA
СНЕСК CSM-WЕМ+DDEV-WRD
СНЕСК ЕСА-WRA+DDEV-WRD
;
;ШИНА У:
;-------
;
;ИСТОЧНИКИ: YDEVT-WRB
;           ALU
;           ЕСВ-WRB
;           YDEV-WRY
;           YDTIM+RTIME
;
СНЕСК YDEVT-WRB+ALU
СНЕСК YDEVT-WRB+ЕСВ-WRB
СНЕСК YDEVT-WRB+YDEV-WRY
СНЕСК YDEVT-WRB+YDTIM+RTIME
СНЕСК ALU+ЕСВ-WRB
СНЕСК ALU+YDEV-WRY
СНЕСК ALU+YDTIM+RTIME
СНЕСК ЕСВ-WRB+YDEV-WRY
СНЕСК ЕСВ-WRB+YDTIM+RTIME
СНЕСК YDEV-WRY+YDTIM+RTIME
;
;     ==================
;     МАКРОСЫ ДЛЯ ТЕСТОВ
;     ==================
;
MACRO TN DSRC=PROM,ALUS=DZ,Н,ALUD=В,RВ=EXPN,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=0
MACRO Т DSRC=PROM,ALUS=DZ,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=0
MACRO TIK ALUS=ZВ,RВ=MANT,Н,CI,ALUD=В,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=3
MACRO TIK3 ALUS=ZВ,RВ=WR3,Н,CI,ALUD=В,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=3
MACRO CLRTYP ALUS=DZ,FUNC=AND,Н,ALUD=В,RВ=INTR,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=1
MACRO ТУРЕ ALUS=ZВ,RВ=INTR,Н,CI,ALUD=В,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=1
MACRO С3 ALUS=DZ,FUNC=AND,Н,ALUD=В,RВ=WR3,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=3
;
;     ============================================
;     МАКРОСЫ ДЛЯ ОБ'ЕДИНЕНИЯ МЕЛКИХ ТЕСТОВ В ОДИН
;     ============================================
;
;ВАРИАНТ ДЛЯ ОДНОГО БОЛЬШОГО
MACRO J CONT
MACRO S CONT
;ВАРИАНТ ДЛЯ ОТДЕЛЬНЫХ ТЕСТОВ
;MACRO J CJP
;MACRO S CJS
;
;     ==================
;     МАКРОСЫ ДЛЯ КОМАНД
;     ==================
;
MACRO МА CSM,MNSA=IRA,ALUS=DQ,FUNC=ADD,ALUD=В,RВ=DADR,ALU,YDST=ADRREG
MACRO MAWF CSM,MNSA=МР,MODNM=SР,ALUS=DZ,ALUD=В,RВ=DADR,ALU,YDST=ADRREG
MACRO ARF CSM,MNSA=МР,MODNM=SР,ALUS=DZ,FUNC=SUBS,ALUD=В,RВ=DADR,ALU,YDST=ADRREG
MACRO SSPRG ЕСВ,WRB,BRA=RG3
MACRO PHAW YDEV=PHYSAD,ЕСВ,WRB,BRA=RG0,ARBI=DWR
MACRO PHAR YDEV=PHYSAD,ЕСВ,WRB,BRA=RG0,ARBI=DRD
MACRO RСА DSRC=СОМА,ALUS=DZ,ALUD=Q
MACRO WА МАР=РЕ,COND=ARBRDY,IСС
MACRO SPRG ЕСВ,BRA=RG3,CSM,WЕМ,MNSA=МР,MODNM=SР
MACRO АС CSM,MNSA=МР,MODNM=С,ALUS=DQ,FUNC=ADD,ALUD=Q
MACRO TRSH DSRC=SHIFT,MPS,PSHF=SН0,SHF=LOG
MACRO R МАР=РЕ,COND=RСВ
MACRO М МАР=МЕ,COND=ТККВ,DDEV=CLRCD,WRD,ISE
MACRO MED МАР=МЕ,COND=ТККВ,LЕТС,ISE
MACRO ML МАР=МЕ,DDEV=CLRCD,WRD,ISE
MACRO МЕ МАР=МЕ,LЕТС
MACRO MI МАР=МЕ,COND=ТККВ,DDEV=CLRC,WRD
MACRO TODR1 ECB,WRB,BRA=RG1,ECA,ARA=RG1
MACRO TODR2 ECB,WRB,BRA=RG2,ECA,ARA=RG2
MACRO TODR3 ECB,WRB,BRA=RG3,ECA,ARA=RG3
MACRO TOYR1 ECA,WRA,ARA=RG1,ECB,BRA=RG1
MACRO TOYR2 ECA,WRA,ARA=RG2,ECB,BRA=RG2
MACRO TOYR3 ECA,WRA,ARA=RG3,ECB,BRA=RG3
;
*FULL LIST
TAK3:PROG B;
;     ==================================
;     ПОДБОР ДЛИТЕЛЬНОСТИ ТАКТА, ЧАСТЬ 3
;     ==================================
;
;   РАСПРЕДЕЛЕНИЕ РЕГИСТРОВ ПРИ ПОДБОРЕ ДЛИТЕЛЬНОСТИ ТАКТА:
;   А - ЧТО ПИШЕМ, Y - ЧТО ПРОЧИТАЛИ, Q - РЕЗ-Т СРАВНЕНИЯ, BYTE - МАСКА
;   4 РГ. БОПП ИСПОЛЬЗУЕТСЯ В НЕКОТОРЫХ ТЕСТАХ ДЛЯ ЗАПИСИ ДАННЫХ.
;   В СЛУЧАЕ ОШИБКИ В БОПП ЗАПИСЫВАЕТСЯ А (8-11 РГ.) И Y (12-15 РГ.)
;   ОСТАЛЬНОЕ - ТАК ЖЕ.
;
EXTERNAL INITST,ERRTST,ERRINH,CMP
;
;     КОНЕЦ БОБР+БИЗМ
;     ===============
;
TK3T0:ENTRY
;===== ИЗ БОБР+БИЗМ - В ПРИЕМНИКИ ШИНЫ D: БОИ, МПС
;
CJP A=TAK0,MAP=PE
TAK0:CONT A=ZER,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT0:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 1: БОИ
CONT DDEV=BB,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2
CONT DDEV=BB,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3: АЛУ, СЛОЖЕНИЕ С 0
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 4
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,ALU,CYSTR=NT3
;*** 5: АЛУ, AND C FFFF
CONT DDEV=BB,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 6
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,ALU,CYSTR=NT3
;*** 7: АЛУ, EXNOR С FFFF
CONT DDEV=BB,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 8
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
%J% A=CT0,MAP=PE,%TIK%
;
;
TK3T1:ENTRY
;===== ИЗ БОБР+БИЗМ ЧЕРЕЗ БОИ - В ПРИЕМНИКИ ШИНЫ Y:
;   РНП,КОП АРБИТРА,АИСП,ОЗУ ПРИПИСОК,БОПП,ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAK1,MAP=PE
TAK1:CONT A=H1,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT1:CONT %CLRTYP%,CYSTR=NT9
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 1: РНП
CONT DDEV=BB,%TOYR3%,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 2
CONT DDEV=BB,%TOYR2%,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 3: КОП АРБИТРА
CONT DDEV=BB,%TOYR2%,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 4
CONT DDEV=BB,%TOYR3%,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 5: АИСП
CONT DDEV=BB,%TOYR3%,YDST=ADRREG
CONT A=ZER,DSRC=PROM
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR2%,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 6
CONT DDEV=BB,%TOYR3%,YDST=ADRREG
CONT A=ZER,DSRC=PROM
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR2%,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 7: ОЗУ ПРИПИСОК
CONT DDEV=BB,%TOYR1%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 8
CONT DDEV=BB,%TOYR2%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 9: БОПП
CONT DDEV=BB,%TOYR1%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** A
CONT DDEV=BB,%TOYR3%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** B: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT DDEV=BB,%TOYR3%,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** C
CONT DDEV=BB,%TOYR1%,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** D: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT DDEV=BB,%TOYR2%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** E
CONT DDEV=BB,%TOYR3%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H1F,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** F: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП + MOD
CONT DDEV=BB,%TOYR2%,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 10
CONT DDEV=BB,%TOYR3%,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 11: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- IRA
CONT DDEV=BB,%TOYR3%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 12
CONT DDEV=BB,%TOYR2%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT1,MAP=PE,%TIK%
;
;     Б М С П
;    =========
;
TK3T2:ENTRY
;===== ИЗ ОЗУ БМСП - В ПРИЕМНИКИ ШИНЫ D: БОИ, МПС
;
CJP A=TAK2,MAP=PE
TAK2:CONT A=H2,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT2:CONT %CLRTYP%,CYSTR=NT9
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 1: БОИ
CONT DDEV=MODB,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2
CONT DDEV=MODB,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT %TYPE%,CYSTR=NT3
;*** 3: АЛУ, СЛОЖЕНИЕ С 0
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT %TYPE%,CYSTR=NT3
;*** 4
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT %TYPE%,CYSTR=NT3
;*** 5: АЛУ, AND C FFFF
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT %TYPE%,CYSTR=NT3
;*** 6
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT %TYPE%,CYSTR=NT3
;*** 7: АЛУ, EXNOR С FFFF
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT %TYPE%,CYSTR=NT3
;*** 8
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CONT А=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,DDEV=MODB,WRD
CONT %TYPE%,CYSTR=NT3
;*** 9: SUB: CONST - CONST - 1 + CI=1
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DA,RA=Y,FUNC=SUBR,H,CI,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,DDEV=MODB,WRD
CONT %TYPE%,CYSTR=NT3
;*** A
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DA,RA=Y,FUNC=SUBR,H,CI,ALUD=B,RB=Y
%J% A=CT2,MAP=PE,%TIK%
;
;
TK3T3:ENTRY
;===== ИЗ ОЗУ БМСП ЧЕРЕЗ МПС (+ ОПЕРАЦИЯ!) - В ПРИЕМНИКИ ШИНЫ Y:
;   РНП,КОП АРБИТРА,АИСП,ОЗУ ПРИПИСОК,БОПП,БОИ ТЕГА,БОИ ДАННЫХ,ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAK3,MAP=PE
TAK3:CONT A=H3,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT3:CONT %CLRTYP%,CYSTR=NT9
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 1: РНП
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 2
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 3: КОП АРБИТРА
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 4
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 5: АИСП
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ADRREG
CONT A=ZER,DSRC=PROM
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 6
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ADRREG
CONT A=ZER,DSRC=PROM
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR2%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 7: ОЗУ ПРИПИСОК
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 8
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 9: БОПП
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** A
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** B: БОИ ТЕГА
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG3,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** C
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG2,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** D: БОИ ДАННЫХ
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** E
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** F: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 10
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 11: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 12
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H1F,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 13: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП + MOD
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 14
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 15: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- IRA
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 16
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT3,MAP=PE,%TIK%
;
;
TK3T4:ENTRY
;===== ИЗ ОЗУ БМСП ЧЕРЕЗ БОИ - В ПРИЕМНИКИ ШИНЫ Y:
;   РНП,КОП АРБИТРА,АИСП,ОЗУ ПРИПИСОК,БОПП,ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAK4,MAP=PE
TAK4:CONT A=H4,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT4:CONT %CLRTYP%,CYSTR=NT9
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 1 РНП
CONT DDEV=MODB,%TOYR3%,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 2
CONT DDEV=MODB,%TOYR2%,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 3: КОП АРБИТРА
CONT DDEV=MODB,%TOYR2%,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 4
CONT DDEV=MODB,%TOYR2%,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 5: АИСП
CONT DDEV=MODB,%TOYR3%,YDST=ADRREG
CONT A=ZER,DSRC=PROM
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 6
CONT DDEV=MODB,%TOYR3%,YDST=ADRREG
CONT A=ZER,DSRC=PROM
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR2%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 7: ОЗУ ПРИПИСОК
CONT DDEV=MODB,%TOYR1%,YDEV=PSMEM,WRY
CONT A=ZER,DSRC=PROM
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 8
CONT DDEV=MODB,%TOYR3%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 9: БОПП
CONT DDEV=MODB,%TOYR1%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** A
CONT DDEV=MODB,%TOYR2%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** B: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT DDEV=MODB,%TOYR3%,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** C
CONT DDEV=MODB,%TOYR1%,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** D: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT DDEV=MODB,%TOYR2%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** E
CONT DDEV=MODB,%TOYR3%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H13,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** F: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП + MOD
CONT DDEV=MODB,%TOYR2%,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 10
CONT DDEV=MODB,%TOYR3%,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 11: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- IRA
CONT DDEV=MODB,%TOYR3%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 12
CONT DDEV=MODB,%TOYR2%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT4,MAP=PE,%TIK%
;
;     СТАТУС, РГ.M
;     ============
;
TK3T5:ENTRY
;===== ИЗ СТАТУСНОГО РГ.(M) - В ПРИЕМНИКИ ШИНЫ D: БОИ, МПС
;
CJP A=TAK5,MAP=PE
TAK5:CONT A=H5,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT5:CONT %CLRTYP%,CYSTR=NT9
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 1: БОИ
CONT STOPC=32,DDEV=STATUS,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,STOPC=0,CEN,CYSTR=NT3
;*** 2
CONT STOPC=20,DDEV=STATUS,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3: АЛУ, СЛОЖЕНИЕ С 0
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT %TYPE%,STOPC=0,CEN,CYSTR=NT3
;*** 4
CJS A=CMP,MAP=PE,STOPC=20,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 5: АЛУ, AND C FFFF
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,STOPC=0,CEN,CYSTR=NT3
;*** 6
CJS A=CMP,MAP=PE,STOPC=20,DDEV=STATUS,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 7: АЛУ, EXNOR С FFFF
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,STOPC=0,CEN,CYSTR=NT3
;*** 8
CJS A=CMP,MAP=PE,STOPC=20,DDEV=STATUS,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
%J% A=CT5,MAP=PE,%TIK%
;
;
TK3T6:ENTRY
;===== ИЗ СТАТУСНОГО РГ.(M,N) ЧЕРЕЗ МПС (+ ОПЕРАЦИЯ!) - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,АИСП,ОЗУ ПРИПИСОК,БОПП,БОИ ТЕГА,БОИ ДАННЫХ,ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAK6,MAP=PE
TAK6:CONT A=H6,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT6:CONT %CLRTYP%,CYSTR=NT9
CONT A=HC0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 1: РНГ
CONT STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=CFFF,DSRC=PROM,%TYPE%,STOPC=0,CEN,CYSTR=NT4
;*** 2
CONT STOPC=20,DDEV=STATUS,ALUS=DZ,H,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=HC0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 3: РНП
CONT STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,STOPC=0,CEN,CYSTR=NT4
;*** 4
CONT STOPC=20,DDEV=STATUS,ALUS=DZ,H,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 5: АИСП
CONT STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=ZER,DSRC=PROM
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,STOPC=0,CEN,CYSTR=NT4
;*** 6
CONT STOPC=20,DDEV=STATUS,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=ZER,DSRC=PROM
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR2%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 7: ОЗУ ПРИПИСОК
CONT STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,STOPC=0,CEN,CYSTR=NT3
;*** 8
CONT STOPC=20,DDEV=STATUS,ALUS=DZ,H,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=HC0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 9: БОПП
CONT STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,STOPC=0,CEN,CYSTR=NT3
;*** A
CONT STOPC=20,DDEV=STATUS,ALUS=DZ,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** B: БОИ ТЕГА
CONT STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG3,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,STOPC=0,CEN,CYSTR=NT4
;*** C
CONT STOPC=20,DDEV=STATUS,ALUS=DZ,H,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG2,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** D: БОИ ДАННЫХ
CONT STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,STOPC=0,CEN,CYSTR=NT3
;*** E
CONT STOPC=20,DDEV=STATUS,ALUS=DZ,H,ALU,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** F: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,STOPC=0,CEN,CYSTR=NT4
;*** 10
CONT STOPC=20,DDEV=STATUS,ALUS=DZ,H,ALU,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 11: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,STOPC=0,CEN,CYSTR=NT4
;*** 12
CONT STOPC=20,DDEV=STATUS,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H11,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 13: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП + MOD
CONT STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,STOPC=0,CEN,CYSTR=NT4
;*** 14
CONT STOPC=20,DDEV=STATUS,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 15: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- IRA
CONT STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,STOPC=0,CEN,CYSTR=NT4
;*** 16
CONT STOPC=20,DDEV=STATUS,ALUS=DZ,H,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT6,MAP=PE,%TIK%
;
;
TK3T7:ENTRY
;===== ИЗ СТАТУСНОГО РГ.(M,N) ЧЕРЕЗ БОИ - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,АИСП,ОЗУ ПРИПИСОК,БОПП,ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAK7,MAP=PE
TAK7:CONT A=H7,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT7:CONT %CLRTYP%,CYSTR=NT9
CONT A=HC0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 1: РНГ
CONT STOPC=32,DDEV=STATUS,%TOYR3%,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,STOPC=0,CEN,CYSTR=NT4
;*** 2
CONT STOPC=20,DDEV=STATUS,%TOYR3%,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 3: РНП
CONT STOPC=32,DDEV=STATUS,%TOYR3%,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,STOPC=0,CEN,CYSTR=NT4
;*** 4
CONT STOPC=20,DDEV=STATUS,%TOYR2%,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 5: АИСП
CONT STOPC=32,DDEV=STATUS,%TOYR3%,YDST=ADRREG
CONT A=ZER,DSRC=PROM
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR2%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,STOPC=0,CEN,CYSTR=NT4
;*** 6
CONT STOPC=20,DDEV=STATUS,%TOYR3%,YDST=ADRREG
CONT A=ZER,DSRC=PROM
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR2%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 7: ОЗУ ПРИПИСОК
CONT STOPC=32,DDEV=STATUS,%TOYR1%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,STOPC=0,CEN,CYSTR=NT3
;*** 8
CONT STOPC=20,DDEV=STATUS,%TOYR3%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=HC0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 9: БОПП
CONT STOPC=32,DDEV=STATUS,%TOYR1%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,STOPC=0,CEN,CYSTR=NT3
;*** A
CONT STOPC=20,DDEV=STATUS,%TOYR2%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** B: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT STOPC=32,DDEV=STATUS,%TOYR2%,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,STOPC=0,CEN,CYSTR=NT4
;*** C
CONT STOPC=20,DDEV=STATUS,%TOYR1%,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** D: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT STOPC=32,DDEV=STATUS,%TOYR2%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,STOPC=0,CEN,CYSTR=NT5
;*** E
CONT STOPC=20,DDEV=STATUS,%TOYR3%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H11,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** F: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП + MOD
CONT STOPC=32,DDEV=STATUS,%TOYR2%,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,STOPC=0,CEN,CYSTR=NT3
;*** 10
CONT STOPC=20,DDEV=STATUS,%TOYR3%,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 11: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- IRA
CONT STOPC=32,DDEV=STATUS,%TOYR3%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=ZER,DSRC=PROM,%TYPE%,STOPC=0,CEN,CYSTR=NT5
;*** 12
CONT STOPC=20,DDEV=STATUS,%TOYR2%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT7,MAP=PE,%TIK%
;
;
TK3T8:ENTRY
;===== СТАТУСНЫЙ РГ.М - В МПС
;
CJP A=TAK8,MAP=PE
TAK8:CONT A=H8,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT8:CONT %CLRTYP%,CYSTR=NT9
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
;1
CJS A=SUBR8,MAP=PE
CJS A=CMP,MAP=PE,%TYPE%
;2
CJS A=SUBR8,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;3
CJS A=SUBR8,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;4
CJS A=SUBR8,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
%J% A=CT8,MAP=PE,%TIK%
;
;
TK3T9:ENTRY
;===== СТАТУСНЫЙ РГ.M - ЧЕРЕЗ МПС - В ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAK9,MAP=PE
TAK9:CONT A=H9,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT9:CONT %CLRTYP%,CYSTR=NT9
;1
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=SUBW9,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD
>,STOPC=0,CEM
CJS A=CMP,MAP=PE,%TYPE%
;2
CJS A=SUBW9,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD
>,STOPC=0,CEM
CJS A=CMP,MAP=PE,%TYPE%
;3
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD
>,STOPC=0,CEM
CJS A=SUBW9,MAP=PE
CJS A=CMP,MAP=PE,%TYPE%
%J% A=CT9,MAP=PE,%TIK%
;
;
TK3TA:ENTRY
;===== СТАТУСНЫЙ РГ.M - ЧЕРЕЗ БОИ - В ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAKA,MAP=PE
TAKA:CONT A=HA,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CTA:CONT %CLRTYP%,CYSTR=NT9
;1
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=SUBWA,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD
>,STOPC=0,CEM
CJS A=CMP,MAP=PE,%TYPE%
;2
CJS A=SUBWA,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD
>,STOPC=0,CEM
CJS A=CMP,MAP=PE,%TYPE%
;3
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD
>,STOPC=0,CEM
CJS A=SUBWA,MAP=PE
CJS A=CMP,MAP=PE,%TYPE%
%J% A=CTA,MAP=PE,%TIK%
;
;     ОЗУ ПС
;    ========
;
TK3TB:ENTRY
;===== ИЗ ОЗУ ПС - В ПРИЕМНИКИ ШИНЫ D: БОИ, МПС
;
CJP A=TAKB,MAP=PE
TAKB:CONT A=HB,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CTB:CONT %CLRTYP%,CYSTR=NT9
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 1: БОИ
CONT DDEV=PPMEM0,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM1,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2
CONT DDEV=PPMEM1,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,CYSTR=NT3
;*** 3: АЛУ, СЛОЖЕНИЕ С 0
CONT DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM1,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 4
CJS A=CMP,MAP=PE,DDEV=PPMEM1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 5: АЛУ, AND C FFFF
CONT DDEV=PPMEM0,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM1,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 6
CJS A=CMP,MAP=PE,DDEV=PPMEM1,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 7: АЛУ, EXNOR С FFFF
CONT DDEV=PPMEM0,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM1,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 8
CJS A=CMP,MAP=PE,DDEV=PPMEM1,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
%J% A=CTB,MAP=PE,%TIK%
;
;
TK3TC:ENTRY
;===== ИЗ ОЗУ ПС ЧЕРЕЗ МПС (+ ОПЕРАЦИЯ!) - В ПРИЕМНИКИ ШИНЫ Y:
;   РФС,АИСП,ОЗУ ПРИПИСОК,БОИ ДАННЫХ,ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAKC,MAP=PE
TAKC:CONT A=HC,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CTC:CONT %CLRTYP%,CYSTR=NT9
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 1: РФС
CONT DDEV=PPMEM0,ALUS=DZ,H,ALU,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM1,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 2
CONT DDEV=PPMEM1,ALUS=DZ,H,ALU,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 3: АИСП
CONT DDEV=PPMEM0,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=ZER,DSRC=PROM
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR2%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM1,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 4
CONT DDEV=PPMEM1,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=ZER,DSRC=PROM
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR2%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 5: ОЗУ ПРИПИСОК
CONT DDEV=PPMEM0,ALUS=DZ,H,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM1,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 6
CONT DDEV=PPMEM1,ALUS=DZ,H,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 7: БОИ ДАННЫХ
CONT DDEV=PPMEM0,ALUS=DZ,H,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM1,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 8
CONT DDEV=PPMEM1,ALUS=DZ,H,ALU,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 9: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT DDEV=PPMEM0,ALUS=DZ,H,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM1,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** A
CONT DDEV=PPMEM1,ALUS=DZ,H,ALU,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** B: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT DDEV=PPMEM0,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM1,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** C
CONT DDEV=PPMEM1,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=H11,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** D: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП + MOD
CONT DDEV=PPMEM0,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM1,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** E
CONT DDEV=PPMEM1,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** F: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- IRA
CONT DDEV=PPMEM0,ALUS=DZ,H,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM1,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 10
CONT DDEV=PPMEM1,ALUS=DZ,H,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CTC,MAP=PE,%TIK%
;
;
TK3TD:ENTRY
;===== ИЗ ОЗУ ПС ЧЕРЕЗ БОИ - В ПРИЕМНИКИ ШИНЫ Y:
;   РФС,АИСП,ОЗУ ПРИПИСОК,ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAKD,MAP=PE
TAKD:CONT A=HD,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CTD:CONT %CLRTYP%,CYSTR=NT9
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 1: РФС
CONT DDEV=PPMEM0,%TOYR3%,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM1,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 2
CONT DDEV=PPMEM1,%TOYR3%,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 3: АИСП
CONT DDEV=PPMEM0,%TOYR3%,YDST=ADRREG
CONT A=ZER,DSRC=PROM
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR2%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM1,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 4
CONT DDEV=PPMEM1,%TOYR3%,YDST=ADRREG
CONT A=ZER,DSRC=PROM
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 5: ОЗУ ПРИПИСОК
CONT DDEV=PPMEM0,%TOYR1%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM1,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 6
CONT DDEV=PPMEM1,%TOYR3%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 7: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT DDEV=PPMEM0,%TOYR2%,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM1,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 8
CONT DDEV=PPMEM1,%TOYR1%,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 9: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT DDEV=PPMEM0,%TOYR2%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM1,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** A
CONT DDEV=PPMEM1,%TOYR2%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H11,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** B: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП + MOD
CONT DDEV=PPMEM0,%TOYR2%,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM1,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** C
CONT DDEV=PPMEM1,%TOYR2%,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** D: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- IRA
CONT DDEV=PPMEM0,%TOYR2%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM1,WRD
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** E
CONT DDEV=PPMEM1,%TOYR3%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CTD,MAP=PE,%TIK%
;
;
TK3TE:ENTRY
;===== ОЗУ ПС - ЧЕРЕЗ МПС - В ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAKE,MAP=PE
TAKE:CONT A=HE,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CTE:CONT %CLRTYP%,CYSTR=NT9
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=SUBWE,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,%TYPE%
;2
CJS A=SUBWE,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,%TYPE%
;3
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD
CJS A=SUBWE,MAP=PE
CJS A=CMP,MAP=PE,%TYPE%
%J% A=CTE,MAP=PE,%TIK%
;
;
TK3TF:ENTRY
;===== ОЗУ ПС - ЧЕРЕЗ БОИ - В ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAKF,MAP=PE
TAKF:CONT A=HF,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CTF:CONT %CLRTYP%,CYSTR=NT9
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=SUBWF,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,%TYPE%
;2
CJS A=SUBWF,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,%TYPE%
;3
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD
CJS A=SUBWF,MAP=PE
CJS A=CMP,MAP=PE,%TYPE%
%J% A=CTF,MAP=PE,%TIK%
;
;     БОИ ДАННЫХ
;     ==========
;
TK3T10:ENTRY
;===== ИЗ БОИ (КАНАЛ А) - В ПРИЕМНИКИ ШИНЫ D: БОБР+БИЗМ, БМСП, МПС
;
CJP A=TAK10,MAP=PE
TAK10:CONT A=H10,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT10:CONT %CLRTYP%,CYSTR=NT9
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG1
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 1: БОБР,БИЗМ
CONT ECA,ARA=RG1,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2
CONT ECA,ARA=RG3,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3: БМСП
CONT ECA,ARA=RG0,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG2
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 4
CONT ECA,ARA=RG2,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 5: АЛУ, СЛОЖЕНИЕ С 0
CONT ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 6
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,ALU,CYSTR=NT3
;*** 7: АЛУ, AND С FFFF
CONT ECA,ARA=RG3,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 8
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG2
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,ALU,CYSTR=NT3
;*** 9: АЛУ, EXNOR С FFFF
CONT ECA,ARA=RG2,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** A
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CONT А=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,ECA,WRA,ARA=RG1
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** B: SUB: CONST - CONST - 1 + CI=1
CJS A=CMP,MAP=PE,ECA,ARA=RG1,ALUS=DA,RA=Y,FUNC=SUBR,H,CI,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,ECA,WRA,ARA=RG3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** C
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DA,RA=Y,FUNC=SUBR,H,CI,ALUD=B,RB=Y
%J% A=CT10,MAP=PE,%TIK%
;
;
TK3T11:ENTRY
;===== ИЗ БОИ (КАНАЛ А) - ЧЕРЕЗ МПС (+ ОПЕРАЦИЯ!) - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,РГ/ТГ,РФС,КОП АРБИТРА,АИСП,РПС,ОЗУ ПРИПИСОК,БОПП,
;   БОИ ТЕГА,БОИ ДАННЫХ,ОЗУ МОДИФИКАТОРОВ,CТАТУС,ОЗУ ПС,ШФ+РГ/СЧ
;
CJP A=TAK11,MAP=PE
TAK11:CONT A=H11,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT11:CONT %CLRTYP%,CYSTR=NT9
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG1
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 1: РНГ
CONT ECA,ARA=RG1,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 2
CONT ECA,ARA=RG0,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 3: РНП
CONT ECA,ARA=RG0,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 4
CONT ECA,ARA=RG3,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MFLFL,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG2
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 5: ТГ.ПРИЗНАКОВ
CONT ECA,ARA=RG2,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 6
CONT ECA,ARA=RG0,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 7: РФС
CONT ECA,ARA=RG0,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 8
CONT ECA,ARA=RG3,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 9: КОП АРБИТРА
CONT ECA,ARA=RG0,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** A
CONT ECA,ARA=RG3,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** B: АИСП
CONT ECA,ARA=RG3,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ADRREG
CONT A=ZER,DSRC=PROM
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** C
CONT ECA,ARA=RG0,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ADRREG
CONT A=ZER,DSRC=PROM
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR2%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MH,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=A
CONT A=SR32,DSRC=PROM,ECA,WRA,ARA=RG0
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** D: РПС
CONT ECA,ARA=RG0,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PSHIFT
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MNH,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=A
CONT A=SL32,DSRC=PROM,ECA,WRA,ARA=RG3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** E
CONT ECA,ARA=RG3,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PSHIFT
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG2
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** F: ОЗУ ПРИПИСОК
CONT ECA,ARA=RG2,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 10
CONT ECA,ARA=RG0,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 11: БОПП
CONT ECA,ARA=RG0,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 12
CONT ECA,ARA=RG3,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 13: БОИ ТЕГА
CONT ECA,ARA=RG0,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG3,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 14
CONT ECA,ARA=RG3,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG2,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG1
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 15: БОИ ДАННЫХ
CONT ECA,ARA=RG1,ALUS=DZ,FUNC=SUBS,H,CI,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 16
CONT ECA,ARA=RG0,ALUS=DZ,FUNC=SUBS,H,CI,ALU,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 17: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT ECA,ARA=RG0,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 18
CONT ECA,ARA=RG3,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 19: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT ECA,ARA=RG3,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 1A
CONT ECA,ARA=RG0,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=H11,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 1B: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП + MOD
CONT ECA,ARA=RG3,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 1C
CONT ECA,ARA=RG0,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 1D: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- IRA
CONT ECA,ARA=RG3,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG2
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 1E
CONT ECA,ARA=RG2,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 1F: СТАТУС, РГ.M
CONT ECA,ARA=RG3,ALUS=DZ,FUNC=SUBS,H,CI,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 20
CONT ECA,ARA=RG0,ALUS=DZ,FUNC=SUBS,H,CI,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 21: ОЗУ ПС
CONT ECA,ARA=RG3,ALUS=DZ,FUNC=SUBS,H,CI,ALU,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 22
CONT ECA,ARA=RG0,ALUS=DZ,FUNC=SUBS,H,CI,ALU,DDEV=PPMEM1,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=HA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C9,DSRC=PROM,ECA,WRA,ARA=RG0
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 23: РГ/СЧ СУАМ
CONT ECA,ARA=RG0,ALUS=DZ,FUNC=SUBS,H,CI,ALU,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B9,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ECA,WRA,ARA=RG3,ECB,BRA=RG3,CYSTR=NT3
;*** 24
CONT ECA,ARA=RG3,ALUS=DZ,FUNC=SUBS,H,CI,ALU,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
%J% A=CT11,MAP=PE,%TIK%
;
;
TK3T12:ENTRY
;===== ИЗ БОИ (КАНАЛ B) - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,РГ/ТГ,РФС,КОП АРБИТРА,АИСП,РПС,ОЗУ ПРИПИСОК,БОПП,
;   ОЗУ МОДИФИКАТОРОВ,CТАТУС,ОЗУ ПС,ШФ+РГ/СЧ
;
CJP A=TAK12,MAP=PE
TAK12:CONT A=H12,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT12:CONT %CLRTYP%,CYSTR=NT9
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 1: РНГ
CONT ECB,BRA=RG3,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2
CONT ECB,BRA=RG0,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3: РНП
CONT ECB,BRA=RG0,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 4
CONT ECB,BRA=RG3,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MFLFL,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 5: ТГ.ПРИЗНАКОВ
CONT ECB,BRA=RG0,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 6
CONT ECB,BRA=RG3,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 7: РФС
CONT ECB,BRA=RG3,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 8
CONT ECB,BRA=RG0,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 9: КОП АРБИТРА
CONT ECB,BRA=RG3,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** A
CONT ECB,BRA=RG0,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** B: АИСП
CONT ECB,BRA=RG3,YDST=ADRREG
CONT A=ZER,DSRC=PROM
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** C
CONT ECB,BRA=RG0,YDST=ADRREG
CONT A=ZER,DSRC=PROM
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR2%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MH,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=A
CONT A=SR32,DSRC=PROM,ECA,WRA,ARA=RG3
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** D: РПС
CONT ECB,BRA=RG3,YDST=PSHIFT
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MNH,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=A
CONT A=SL32,DSRC=PROM,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** E
CONT ECB,BRA=RG0,YDST=PSHIFT
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** F: ОЗУ ПРИПИСОК
CONT ECB,BRA=RG0,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 10
CONT ECB,BRA=RG3,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 11: БОПП
CONT ECB,BRA=RG0,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 12
CONT ECB,BRA=RG3,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 13: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT ECB,BRA=RG0,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 14
CONT ECB,BRA=RG3,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 15: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT ECB,BRA=RG0,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 16
CONT ECB,BRA=RG3,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=H11,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 17: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП + MOD
CONT ECB,BRA=RG0,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 18
CONT ECB,BRA=RG3,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 19: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- IRA
CONT ECB,BRA=RG3,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 1A
CONT ECB,BRA=RG0,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 1B: СТАТУС, РГ.M
CONT ECB,BRA=RG3,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 1C
CONT ECB,BRA=RG0,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 1D: ОЗУ ПС
CONT ECB,BRA=RG0,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 1E
CONT ECB,BRA=RG3,DDEV=PPMEM1,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=HA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C9,DSRC=PROM,ECA,WRA,ARA=RG0
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 1F: РГ/СЧ СУАМ
CONT ECB,BRA=RG0,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MB,DSRC=PROM,ECA,WRA,ARA=RG3
CONT A=B9,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CYSTR=NT3
;*** 20
CONT ECB,BRA=RG3,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
%J% A=CT12,MAP=PE,%TIK%
;
;
TK3T13:ENTRY
;===== БОИ ДАННЫХ (B) - В ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAK13,MAP=PE
TAK13:CONT A=H13,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT13:CONT %CLRTYP%,CYSTR=NT9
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=B7,DSRC=PROM,ECA,WRA,ARA=RG2,ALUS=DZ,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 1
CONT ECB,BRA=RG2,CSM,WЕМ,MNSA=МР,MODNM=ACL
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,ALUD=B,RB=Y
CONT A=CF530,DSRC=PROM,ECA,WRA,ARA=RG3,ALUS=DZ,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 2
CONT ECB,BRA=RG3,CSM,WЕМ,MNSA=МР,MODNM=ACR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C0202,DSRC=PROM,ECA,WRA,ARA=RG0,ALUS=DZ,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3
CONT ECB,BRA=RG0,CSM,WЕМ,MNSA=МР,MODNM=ACL
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT13,MAP=PE,%TIK%
;
;     ОЗУ МОДИФИКАТОРОВ
;     =================
;
TK3T14:ENTRY
;===== ИЗ ОЗУ МОДИФИКАТОРОВ - В ПРИЕМНИКИ ШИНЫ D: БОИ, БОБР+БИЗМ, БМСП, МПС
;
CJP A=TAK14,MAP=PE
TAK14:CONT A=H14,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT14:CONT %CLRTYP%,CYSTR=NT9
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M4
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 1: БОИ
CONT CSM,MNSA=MP,MODNM=M4,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M14
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 2
CONT CSM,MNSA=MP,MODNM=M14,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=H2,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M4
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3: БОБР,БИЗМ
CONT CSM,MNSA=MP,MODNM=M4,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H4,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M8
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 4
CONT CSM,MNSA=MP,MODNM=M8,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=H1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M4
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 5: БМСП
CONT CSM,MNSA=MP,MODNM=M4,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M8
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 6
CONT CSM,MNSA=MP,MODNM=M8,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M4
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 7: АЛУ, СЛОЖЕНИЕ С 0
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M4,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M5
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 8
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M5,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M8
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 9: АЛУ, AND С FFFF
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M8,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** A
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M2
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** B: АЛУ, EXNOR С FFFF
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M2,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M7
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** C
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M7,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CONT А=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,ALU,CSM,WEM,MNSA=MP,MODNM=M2
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** D: SUB: CONST - CONST - 1 + CI=1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M2,ALUS=DA,RA=Y,FUNC=SUBR,H,CI,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,ALU,CSM,WEM,MNSA=MP,MODNM=M5
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** E
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M5,ALUS=DA,RA=Y,FUNC=SUBR,H,CI,ALUD=B,RB=Y
%J% A=CT14,MAP=PE,%TIK%
;
;
TK3T15:ENTRY
;===== ИЗ ОЗУ МОДИФИКАТОРОВ - ЧЕРЕЗ МПС (+ ОПЕРАЦИЯ!) - В ПРИЕМНИКИ ШИНЫ Y:
;   РНП,РГ/ТГ,РФС,КОП АРБИТРА,АИСП,РПС,ОЗУ ПРИПИСОК,БОПП,
;   БОИ ТЕГА,БОИ ДАННЫХ,CТАТУС,ОЗУ ПС,ШФ+РГ/СЧ
;
CJP A=TAK15,MAP=PE
TAK15:CONT A=H15,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT15:CONT %CLRTYP%,CYSTR=NT9
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M4
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 1: РНП
CONT CSM,MNSA=MP,MODNM=M4,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 2
CONT CSM,MNSA=MP,MODNM=M1,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MFLFL,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M9
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 3: ТГ.ПРИЗНАКОВ
CONT CSM,MNSA=MP,MODNM=M9,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M2
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 4
CONT CSM,MNSA=MP,MODNM=M2,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M6
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 5: РФС
CONT CSM,MNSA=MP,MODNM=M6,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M6
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 6
CONT CSM,MNSA=MP,MODNM=M6,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M4
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 7: КОП АРБИТРА
CONT CSM,MNSA=MP,MODNM=M4,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 8
CONT CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACL
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 9: АИСП
CONT CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ADRREG
CONT A=ZER,DSRC=PROM
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** A
CONT CSM,MNSA=MP,MODNM=M1,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ADRREG
CONT A=ZER,DSRC=PROM
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR2%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MH,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=A
CONT A=SR32,DSRC=PROM,%TOYR1%,CSM,WEM,MNSA=MP,MODNM=YCL
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** B: РПС
CONT CSM,MNSA=MP,MODNM=YCL,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PSHIFT
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MNH,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=A
CONT A=SL32,DSRC=PROM,%TOYR2%,CSM,WEM,MNSA=MP,MODNM=M1
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** C
CONT CSM,MNSA=MP,MODNM=M1,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PSHIFT
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** D: ОЗУ ПРИПИСОК
CONT CSM,MNSA=MP,MODNM=M1,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** E
CONT CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** F: БОПП
CONT CSM,MNSA=MP,MODNM=M1,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=MPMEM,WRY,IOMP
>,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 10
CONT CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=MPMEM,WRY,IOMP
>,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 11: БОИ ТЕГА
CONT CSM,MNSA=MP,MODNM=M1,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG3,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 12
CONT CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG2,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 13: БОИ ДАННЫХ
CONT CSM,MNSA=MP,MODNM=M1,ALUS=DZ,FUNC=SUBS,H,CI,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 14
CONT CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,FUNC=SUBS,H,CI,ALU,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M8
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 15: СТАТУС, РГ.M
CONT CSM,MNSA=MP,MODNM=M8,ALUS=DZ,FUNC=SUBS,H,CI,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 16
CONT CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,FUNC=SUBS,H,CI,ALU,DDEV=STATUS,WRD
>,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 17: ОЗУ ПС
CONT CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,FUNC=SUBS,H,CI,ALU,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 18
CONT CSM,MNSA=MP,MODNM=M1,ALUS=DZ,FUNC=SUBS,H,CI,ALU,DDEV=PPMEM1,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=HA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C9,DSRC=PROM,%TOYR2%,CSM,WEM,MNSA=MP,MODNM=M1
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 19: РГ/СЧ СУАМ
CONT CSM,MNSA=MP,MODNM=M1,ALUS=DZ,FUNC=SUBS,H,CI,ALU,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MB,DSRC=PROM,%TOYR3%,CSM,WEM,MNSA=MP,MODNM=ACR
CONT A=B9,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CYSTR=NT4
;*** 1A
CONT CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,FUNC=SUBS,H,CI,ALU,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
%J% A=CT15,MAP=PE,%TIK%
;
;
TK3T16:ENTRY
;===== ИЗ ОЗУ МОДИФИКАТОРОВ - ЧЕРЕЗ БОИ - В ПРИЕМНИКИ ШИНЫ Y:
;   РНП,РГ/ТГ,РФС,КОП АРБИТРА,АИСП,РПС,ОЗУ ПРИПИСОК,БОПП,CТАТУС,ОЗУ ПС,ШФ+РГ/СЧ
;
CJP A=TAK16,MAP=PE
TAK16:CONT A=H16,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT16:CONT %CLRTYP%,CYSTR=NT9
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 1: РНП
CONT CSM,MNSA=MP,MODNM=M1,%TOYR3%,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 2
CONT CSM,MNSA=MP,MODNM=ACR,%TOYR2%,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MFLFL,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 3: ТГ.ПРИЗНАКОВ
CONT CSM,MNSA=MP,MODNM=ACR,%TOYR2%,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 4
CONT CSM,MNSA=MP,MODNM=M1,%TOYR3%,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 5: РФС
CONT CSM,MNSA=MP,MODNM=ACR,%TOYR3%,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 6
CONT CSM,MNSA=MP,MODNM=M1,%TOYR3%,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 7: КОП АРБИТРА
CONT CSM,MNSA=MP,MODNM=ACR,%TOYR2%,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 8
CONT CSM,MNSA=MP,MODNM=M3,%TOYR3%,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 9: АИСП
CONT CSM,MNSA=MP,MODNM=M1,%TOYR3%,YDST=ADRREG
CONT A=ZER,DSRC=PROM
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** A
CONT CSM,MNSA=MP,MODNM=ACR,%TOYR3%,YDST=ADRREG
CONT A=ZER,DSRC=PROM
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MH,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=A
CONT A=SR32,DSRC=PROM,%TOYR3%,CSM,WEM,MNSA=MP,MODNM=M1
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT5
;*** B: РПС
CONT CSM,MNSA=MP,MODNM=M1,%TOYR1%,YDST=PSHIFT
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MNH,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=A
CONT A=SL32,DSRC=PROM,%TOYR1%,CSM,WEM,MNSA=MP,MODNM=M4
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** C
CONT CSM,MNSA=MP,MODNM=M4,%TOYR2%,YDST=PSHIFT
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** D: ОЗУ ПРИПИСОК
CONT CSM,MNSA=MP,MODNM=ACR,%TOYR1%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** E
CONT CSM,MNSA=MP,MODNM=M1,%TOYR2%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M4
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** F: БОПП
CONT CSM,MNSA=MP,MODNM=M4,%TOYR1%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 10
CONT CSM,MNSA=MP,MODNM=ACR,%TOYR3%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 11: СТАТУС, РГ.M
CONT CSM,MNSA=MP,MODNM=M1,%TOYR3%,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 12
CONT CSM,MNSA=MP,MODNM=ACR,%TOYR1%,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 13: ОЗУ ПС
CONT CSM,MNSA=MP,MODNM=M1,%TOYR3%,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 14
CONT CSM,MNSA=MP,MODNM=ACR,%TOYR3%,DDEV=PPMEM1,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=HA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C9,DSRC=PROM,%TOYR3%,CSM,WEM,MNSA=MP,MODNM=M1
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 15: РГ/СЧ СУАМ
CONT CSM,MNSA=MP,MODNM=M1,%TOYR3%,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MB,DSRC=PROM,%TOYR3%,CSM,WEM,MNSA=MP,MODNM=ACR
CONT A=B9,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CYSTR=NT4
;*** 16
CONT CSM,MNSA=MP,MODNM=ACR,%TOYR3%,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
%J% A=CT16,MAP=PE,%TIK%
;
;
TK3T17:ENTRY
;===== ОЗУ МОДИФ.- В БОИ ДАННЫХ
;
CJP A=TAK17,MAP=PE
TAK17:CONT A=H17,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT17:CONT %CLRTYP%,CYSTR=NT9
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACL
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 1
CONT CSM,MNSA=МР,MODNM=ACL,ЕСА,WRA,ARA=RG2
CONT %TYPE%
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 2
CONT CSM,MNSA=МР,MODNM=ACR,ЕСА,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT17,MAP=PE,%TIK%
;
;
TK3T18:ENTRY
;===== ОЗУ МОДИФ.- В МПС + ОПЕРАЦИЯ
;   В МП ИСПОЛЬЗОВАТЬ NT4 !?!?
;
CJP A=TAK18,MAP=PE
TAK18:CONT A=H18,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT18:CONT %CLRTYP%,CYSTR=NT9
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACL
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 1
CJS A=CMP,MAP=PE,CSM,MNSA=МР,MODNM=ACL,ALUS=DZ,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACL
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 2
CJS A=CMP,MAP=PE,CSM,MNSA=МР,MODNM=ACL,ALUS=DA,RA=BYTE,FUNC=AND,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 3
CJS A=CMP,MAP=PE,CSM,MNSA=МР,MODNM=ACR,ALUS=DA,RA=BYTE,FUNC=AND,H,ALUD=B,RB=Y
%J% A=CT18,MAP=PE,%TIK%
;
;
TK3T19:ENTRY
;===== ОЗУ МОДИФ.- ЧЕРЕЗ МПС (С ЗАПИСЬЮ И БЕЗ ЗАПИСИ В РГ.) - В РНП
;   ПРИ NT3 ОШИБКА НОМЕР 2
;
CJP A=TAK19,MAP=PE
TAK19:CONT A=H19,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT19:CONT %CLRTYP%,CYSTR=NT9
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=C7,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 1,2
CJS A=CMP,MAP=PE,CSM,MNSA=МР,MODNM=ACR,ALUS=DZ,ALUD=B,RB=Y,ALU,YDST=PROCN
CONT %TYPE%
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACL
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 3
CONT CSM,MNSA=МР,MODNM=ACL,ALUS=DZ,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,ALUD=B,RB=Y
%J% A=CT19,MAP=PE,%TIK%
;
;
TK3T1A:ENTRY
;===== ОЗУ МОДИФ.- ЧЕРЕЗ БОИ - В РНП
;
CJP A=TAK1A,MAP=PE
TAK1A:CONT A=H1A,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT1A:CONT %CLRTYP%,CYSTR=NT9
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CF0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACL
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 1
CONT CSM,MNSA=МР,MODNM=ACL,ECA,WRA,ARA=RG3,ECB,BRA=RG3,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACL
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 2
CONT CSM,MNSA=МР,MODNM=ACL,ECA,WRA,ARA=RG3,ECB,BRA=RG3,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACL
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 3
CONT CSM,MNSA=МР,MODNM=ACL,ECA,WRA,ARA=RG3,ECB,BRA=RG3,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACL
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 4
CONT CSM,MNSA=МР,MODNM=ACL,ECA,WRA,ARA=RG3,ECB,BRA=RG3,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,ALUD=B,RB=Y
%J% A=CT1A,MAP=PE,%TIK%
;
;
TK3T1B:ENTRY
;===== ОЗУ МОДИФИКАТОРОВ - ЧЕРЕЗ МПС - В СТАТУСНЫЙ РЕГИСТР;
;
CJP A=TAK1B,MAP=PE
TAK1B:CONT A=H1B,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT1B:CONT %CLRTYP%,CYSTR=NT9
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 1
CONT CSM,MNSA=МР,MODNM=ACR,ALUS=DZ,ALU,DDEV=STATUS,WRD,SТОРС=0,СЕМ
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2
CONT CSM,MNSA=МР,MODNM=ACR,ALUS=DZ,ALU,DDEV=STATUS,WRD,SТОРС=0,СЕМ
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT1B,MAP=PE,%TIK%
;
;
TK3T1C:ENTRY
;===== ОЗУ МОДИФИКАТОРОВ - ЧЕРЕЗ БОИ  - В СТАТУСНЫЙ РЕГИСТР
;
CJP A=TAK1C,MAP=PE
TAK1C:CONT A=H1C,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT1C:CONT %CLRTYP%,CYSTR=NT9
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACL
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 1
CONT CSM,MNSA=МР,MODNM=ACL,ECA,WRA,ARA=RG3,ECB,BRA=RG3,DDEV=STATUS,WRD
>,SТОРС=0,СЕМ
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACL
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2
CONT CSM,MNSA=МР,MODNM=ACL,ECA,WRA,ARA=RG3,ECB,BRA=RG3,DDEV=STATUS,WRD
>,SТОРС=0,СЕМ
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT1C,MAP=PE,%TIK%
;
;     ОДНОВРЕМЕННО С ЗАПИСЬЮ В ОЗУ МОД.
;     =================================
;
TK3T1D:ENTRY
;===== ОДНОВРЕМЕННО: СТАТУС - В МПС; ИЗ МПС (ВЫХОД A)  - В ОЗУ МОДИФИКАТОРОВ
;   ПРИ УМЕНЬШЕНИИ ТАКТА КОД ОШ.- ЧЕТНЫЙ,Т.Е.ЗАПИСЬ В ОЗУ МОД.- ДОЛЬШЕ
;
CJP A=TAK1D,MAP=PE
TAK1D:CONT A=H1D,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT1D:CONT %CLRTYP%,CYSTR=NT9
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 1,2
CONT SТОРС=32,DDEV=STATUS,ALUS=DZ,ALUD=ВА,RА=DADR,RВ=Y,ALU,CSM,WЕМ
>,MNSA=МР,MODNM=ACR
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=CMP,MAP=PE,ALUS=ZA,RA=DADR,H,ALUD=B,RB=A
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 3,4
CONT SТОРС=32,DDEV=STATUS,ALUS=DZ,ALUD=ВА,RА=DADR,RВ=Y,ALU,CSM,WЕМ
>,MNSA=МР,MODNM=ACR
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=CMP,MAP=PE,ALUS=ZA,RA=DADR,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 5,6
CONT SТОРС=32,DDEV=STATUS,ALUS=DZ,ALUD=ВА,RА=DADR,RВ=Y,ALU,CSM,WЕМ
>,MNSA=МР,MODNM=ACR
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=CMP,MAP=PE,ALUS=ZA,RA=DADR,H,ALUD=B,RB=A
%J% A=CT1D,MAP=PE,%TIK%
;
;
TK3T1E:ENTRY
;===== ОДНОВРЕМЕННО: КОП АРБИТРА - В МПС; ИЗ МПС (ВЫХОД A) - В ОЗУ МОДИФИКАТОРОВ
;   ПРИ УМЕНЬШЕНИИ ТАКТА КОД ОШ.- ЧЕТНЫЙ,Т.Е.ЗАПИСЬ В ОЗУ МОД.- ДОЛЬШЕ
;
CJP A=TAK1E,MAP=PE
TAK1E:CONT A=H1E,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT1E:CONT %CLRTYP%,CYSTR=NT9
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 1,2
CONT DSRC=ARBOPC,ALUS=DZ,ALUD=ВА,RА=DADR,RВ=Y,ALU,CSM,WЕМ,MNSA=МР,MODNM=ACR
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=CMP,MAP=PE,ALUS=ZA,RA=DADR,H,ALUD=B,RB=A
CONT A=C7,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=C005A,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 3,4
CONT DSRC=ARBOPC,ALUS=DZ,ALUD=ВА,RА=DADR,RВ=Y,ALU,CSM,WЕМ,MNSA=МР,MODNM=ACL
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=CMP,MAP=PE,ALUS=ZA,RA=DADR,H,ALUD=B,RB=A
CONT A=B7,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 5,6
CONT DSRC=ARBOPC,ALUS=DZ,ALUD=ВА,RА=DADR,RВ=Y,ALU,CSM,WЕМ,MNSA=МР,MODNM=ACR
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=CMP,MAP=PE,ALUS=ZA,RA=DADR,H,ALUD=B,RB=A
%J% A=CT1E,MAP=PE,%TIK%
;
;
TK3T1F:ENTRY
;===== ОДНОВРЕМЕННО: ИЗ ПЗУ - В МПС + ОПЕРАЦИЯ; ИЗ МПС (А) - В ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAK1F,MAP=PE
TAK1F:CONT A=H1F,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT1F:CONT %CLRTYP%,CYSTR=NT9
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=B17,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 1,2; ПРИ NT3 ОШИБКА НОМЕР 2
CONT А=H1,DSRC=PROM,ALUS=DА,RА=A,FUNC=SUBR,CI,ALUD=ВA,RВ=DADR,ALU
>,CSM,WЕМ,MNSA=МР,MODNM=ACL
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT А=H1,DSRC=PROM,ALUS=DА,RА=Y,FUNC=SUBR,CI,ALUD=В,RВ=A
CJS A=CMP,MAP=PE,ALUS=ZA,RA=DADR,H,ALUD=B,RB=Y
CONT A=MQ,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3,4
CONT А=MB,DSRC=PROM,ALUS=DА,RА=A,FUNC=SUBR,CI,ALUD=ВA,RВ=DADR,ALU
>,CSM,WЕМ,MNSA=МР,MODNM=ACR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT А=MB,DSRC=PROM,ALUS=DА,RА=Y,FUNC=SUBR,CI,ALUD=В,RВ=A
CJS A=CMP,MAP=PE,ALUS=ZA,RA=DADR,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 5,6; ПРИ NT3 ОШИБКА НОМЕР 5
CONT А=MQ,DSRC=PROM,ALUS=DА,RА=A,FUNC=AND,H,ALUD=ВA,RВ=DADR,ALU
>,CSM,WЕМ,MNSA=МР,MODNM=ACR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT А=MQ,DSRC=PROM,ALUS=DА,RА=Y,FUNC=AND,H,ALUD=В,RВ=A
CJS A=CMP,MAP=PE,ALUS=ZA,RA=DADR,H,ALUD=B,RB=Y
%J% A=CT1F,MAP=PE,%TIK%
;
;
TK3T20:ENTRY
;===== ПЕРЕХОДЫ ПО УСЛОВИЯМ С КОДОМ > И < 16 (ТАКТИРУЕМЫЕ И НЕТ)
;
CJP A=TAK20,MAP=PE
TAK20:CONT A=H20,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT20:CONT %CLRTYP%,CYSTR=NT9
CONT A=CTEST,DSRC=PROM,ALUS=DZ,ALU,YDST=CNT
CONT %TYPE%
CONT FFCNT=CLRTR1,ICC,CYSTR=NT3
;*** 1: КОД TR1 = 12, НЕТАКТИРУЕМОЕ
CJS A=ERRTST,MAP=PE,COND=TR1
CONT %TYPE%
CONT FFCNT=SETTR1,CYSTR=NT3
;*** 2
CJS A=ERRTST,MAP=PE,COND=TR1,ICC
CONT %TYPE%
CONT FFCNT=CLRTR0,CYSTR=NT3
;*** 3: КОД TR0 = 22, ТАКТИРУЕМОЕ
CJS A=ERRTST,MAP=PE,COND=TR0
CONT FFCNT=SETTR0
CONT %TYPE%,CYSTR=NT3
;*** 4
CJS A=ERRTST,MAP=PE,COND=TR0,ICC
%J% A=CT20,MAP=PE,%TIK%
;
;    КОНЕЦ М П С (ПОСЛЕ АЛУ), НАЧАЛО - В TKTEST4!
;    ============================================
;
TK3T21:ENTRY
;===== ИЗ МПС (АЛУ) - ЧЕРЕЗ БОИ - В ПРИЕМНИКИ ШИНЫ D: БОБР+БИЗМ,БМСП
;
CJP A=TAK21,MAP=PE
TAK21:CONT A=H21,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT21:CONT %CLRTYP%,CYSTR=NT9
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 1: БОБР+БИЗМ
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,%TODR2%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,%TODR3%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=С1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3: БМСП
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,%TODR2%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 4
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,%TODR3%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT21,MAP=PE,%TIK%
CJP A=CT0,MAP=PE
;
;     П/П ДЛЯ ТЕСТОВ
;     ==============
;
;П/П ЗАПИСИ И ЧТЕНИЯ СТАТУСНОГО РЕГИСТРА М
SUBR8:CONT ALUS=ZA,RA=A,H,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=HF0,DSRC=PROM,%TOYR3%,CYSTR=NT3
;*** 1,2,3,4
CRTN STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
;
;П/П ЗАПИСИ ИЗ СТАТУСНОГО РГ. M ЧЕРЕЗ МПС В ОЗУ МОД.
SUBW9:CONT A=HF0,DSRC=PROM,%TOYR2%,CYSTR=NT4
;*** 1,2,3
CONT STOPC=32,DDEV=STATUS,ALUS=DZ,ALU,CSM,WEM,MNSA=MP,MODNM=ACL
CRTN CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,H,ALUD=B,RB=Y
;
;П/П ЗАПИСИ ИЗ СТАТУСНОГО РГ. M ЧЕРЕЗ БОИ В ОЗУ МОД.
SUBWA:CONT A=HF0,DSRC=PROM,%TOYR3%,CYSTR=NT4
;*** 1,2,3
CONT STOPC=32,DDEV=STATUS,ECA,WRA,ARA=RG3,ECB,BRA=RG3,CSM,WEM,MNSA=MP,MODNM=ACL
CRTN CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,H,ALUD=B,RB=Y
;
;ЗАПИСЬ ИЗ ОЗУ ПС ЧЕРЕЗ МПС - В ОЗУ МОД.
SUBWE:CONT A=HF0,DSRC=PROM,%TOYR3%,CYSTR=NT5
;*** 1,2,3
CONT DDEV=PPMEM0,ALUS=DZ,ALU,CSM,WEM,MNSA=MP,MODNM=ACL
CRTN CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,H,ALUD=B,RB=Y
;
;ЗАПИСЬ ИЗ ОЗУ ПС ЧЕРЕЗ БОИ - В ОЗУ МОД.
SUBWF:CONT A=HF0,DSRC=PROM,%TOYR3%,CYSTR=NT5
;***
CONT DDEV=PPMEM0,ECA,WRA,ARA=RG3,ECB,BRA=RG3,CSM,WEM,MNSA=MP,MODNM=ACL
CRTN CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,H,ALUD=B,RB=Y
END
LDT3:PROG;
EXTERNAL SHMP,TAK3,CMP
END
*END
*NO LIST
*CALL MICLOA:LDT3
*CALL MPROM
*END F
*END FILE
