*NАМЕ 12:TAKTEST
*       ПОДБОР ДЛИТЕЛЬНОСТИ ТАКТА
*TIME:01.00
*DISC:664/SYSTEM,microb
*FILE:arc,30,W
*file:lib,67,r
*LIBRA:23,25
*CALL ficMEMORY
*peRSO:67
*NО LIST
*CALL MICROB
;
;СПИСОК ВОЗМОЖНЫХ ЗНАЧЕНИЙ ПОЛЕЙ:
;--------------------------------
;
FLIST SQI=JZ,CJS,JМАР,CJP,PUSH,JSRP,CJV,JRP,RFCT,RРСТ,CRTN,CJPP,LDCT,LООР,
      CONT,TWB
FLIST МАР=РЕ,GRP,МЕ
FLIST ALUD=Q,NО,ВА,В,RSBQ,RSB,LSBQ,LSB
FLIST FUNC=ADD,SUBR,SUBS,OR,AND,NOTRS,EXOR,EXNOR
FLIST ALUS=AQ,АВ,ZQ,ZВ,ZА,DА,DQ,DZ
FLIST RА=А,У,INTR,РС,РССОРУ,DADR,HALF,ВУТЕ,EXPN,MANT,WR6,WR5,WR4,WR3,WR2,WR1
FLIST RВ=А,У,INTR,РС,РССОРУ,DADR,HALF,ВУТЕ,EXPN,MANT,WR6,WR5,WR4,WR3,WR2,WR1
FLIST CI=CI0,CI1,CIX,CIC
FLIST SHMUX=LSLSL,NSNSL,ASLLS,NDNS,CDLDL,ADNDL,LDLD,LDLND,RSLRSL,RSSRSS,
      RSRS,IDCS,RDSRDS,RDLRDL,VDCD,RDRD
FLIST SТОРС=NС,NN,NZ,NV,/NС,/NN,/NZ,/NV,МС,MN,MZ,MV,/МС,/MN,/MZ,/MV,
      IС,IN,IZ,IV,/IС,/IN,/IZ,/IV,SETNC,SETNN,SETNZ,SETNV,
      УТОМ,MTON,SЕТМ,SETN,MCN,NСМ,CLRM,CLRN,INVM,CLRNC,CLRNN,CLRNZ,CLRNV
FLIST MNSA=U,IRA,МР
FLIST MODNM=М0,М1,М2,М3,М4,М5,М6,М7,М8,М9,М10,М11,М12,М13,М14,SР,С,RR,
      RRR,SPRADR,СТТ,ACL,ACR,YCL,YCR,РСС,РССС,CTL,CTR,SVFA,PROCNC,MREZ
FLIST DSRC=MODGN,PROCN,CNT,PHYSPG,ARBOPC,MULRZ1,MULRZ2,СОМА,SHIFT,ОРС,
      LOS,PROM
FLIST RTIME=RТ
FLIST WTIME=WТ
FLIST YDST=MODGN,PROCN,CNT,PHYSPG,ARBOPC,MUL1,MUL2,ADRREG,PSHIFT,CCLR,BTRCLR
FLIST SHF=CICL,LOG,ARIPH,EMULF
FLIST ARBI=CCRD,CCWR,DCRD,DCWR,FЕТСН,DRD,DWR,RDMWR,BTRWR,BTRRD,BICLR,BIRD
FLIST CYSTR=NТ3,NТ4,NТ5,NТ6,NТ7,NТ8,NТ9,NТ10
FLIST BRA=RG0,RG1,RG2,RG3
FLIST ARA=RG0,RG1,RG2,RG3
FLIST YDEV=PHYSAD,RADRR,PSMEM,МРМЕМ,SТОРМ0,SТОРМ1
FLIST YDEVT=ECBTAG
FLIST DDEV=ВВ,MODB,CLRCD,STATUS,РРМЕМ0,РРМЕМ1
FLIST YDTIM=CTIME
FLIST FFCNT=LOGGRP,MULGRP,ADDGRP,SЕТС,CLRRCB,SETRCB,CLRJMP,SETJMP,
      SETEI,CLREI,CLRTR0,SETTR0,CLRTR1,SETTR1,CLRCT,CLRCTT,CLRTKK,SЕТТКК,
      STRTLD,СНТКК,SETHLT,CLRINT,CLRRUN,LDCPMP,PRGINT,EXTINT,SETNR,SETER
FLIST MPADR=ADRB1,ADRB2,ADRB3,ADRB4,DАТАВ1,DАТАВ2,DАТАВ3,DАТАВ4,
      DАТАВ5,DАТАВ6,DАТАВ7,DАТАВ8,INFB1,INFB2,FМР,FСР
FLIST COND=YES,NORMB,RNDB,OVRIB,BNB,OVRFTB,DRG,EMLRG,RСВ,СВ,CEMLRG,
      СТ,TR1,INTSTP,RUN,NMLRDY,INT,FULMEM,ARBRDY,СРМР,IR15,ТККВ
;
;СПИСОК ОШИБОЧНЫХ КОМБИНАЦИЙ ПОЛЕЙ
;---------------------------------
;
;ШИНА D:
;-------
;
;ИСТОЧНИКИ: DSRC
;           CSM-WЕМ
;           ЕСА-WRA
;           DDEV-WRD
;
СНЕСК DSRC+CSM-WЕМ
СНЕСК DSRC+ЕСА-WRA
СНЕСК DSRC+DDEV-WRD
СНЕСК CSM-WЕМ+ЕСА-WRA
СНЕСК CSM-WЕМ+DDEV-WRD
СНЕСК ЕСА-WRA+DDEV-WRD
;
;ШИНА У:
;-------
;
;ИСТОЧНИКИ: YDEVT-WRB
;           ALU
;           ЕСВ-WRB
;           YDEV-WRY
;           YDTIM+RTIME
;
СНЕСК YDEVT-WRB+ALU
СНЕСК YDEVT-WRB+ЕСВ-WRB
СНЕСК YDEVT-WRB+YDEV-WRY
СНЕСК YDEVT-WRB+YDTIM+RTIME
СНЕСК ALU+ЕСВ-WRB
СНЕСК ALU+YDEV-WRY
СНЕСК ALU+YDTIM+RTIME
СНЕСК ЕСВ-WRB+YDEV-WRY
СНЕСК ЕСВ-WRB+YDTIM+RTIME
СНЕСК YDEV-WRY+YDTIM+RTIME
;
;     ==================
;     МАКРОСЫ ДЛЯ ТЕСТОВ
;     ==================
;
MACRO TN DSRC=PROM,ALUS=DZ,Н,ALUD=В,RВ=EXPN,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=0
MACRO Т DSRC=PROM,ALUS=DZ,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=0
MACRO TIK ALUS=ZВ,RВ=MANT,Н,CI,ALUD=В,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=3
MACRO TIK3 ALUS=ZВ,RВ=WR3,Н,CI,ALUD=В,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=3
MACRO CLRTYP ALUS=DZ,FUNC=AND,Н,ALUD=В,RВ=INTR,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=1
MACRO ТУРЕ ALUS=ZВ,RВ=INTR,Н,CI,ALUD=В,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=1
MACRO С3 ALUS=DZ,FUNC=AND,Н,ALUD=В,RВ=WR3,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=3
;
;     ==================
;     МАКРОСЫ ДЛЯ КОМАНД
;     ==================
;
MACRO МА CSM,MNSA=IRA,ALUS=DQ,FUNC=ADD,ALUD=В,RВ=DADR,ALU,YDST=ADRREG
MACRO MAWF CSM,MNSA=МР,MODNM=SР,ALUS=DZ,ALUD=В,RВ=DADR,ALU,YDST=ADRREG
MACRO ARF CSM,MNSA=МР,MODNM=SР,ALUS=DZ,FUNC=SUBS,ALUD=В,RВ=DADR,ALU,YDST=ADRREG
MACRO SSPRG ЕСВ,WRB,BRA=RG3
MACRO PHAW YDEV=PHYSAD,ЕСВ,WRB,BRA=RG0,ARBI=DWR
MACRO PHAR YDEV=PHYSAD,ЕСВ,WRB,BRA=RG0,ARBI=DRD
MACRO RСА DSRC=СОМА,ALUS=DZ,ALUD=Q
MACRO WА МАР=РЕ,COND=ARBRDY,IСС
MACRO SPRG ЕСВ,BRA=RG3,CSM,WЕМ,MNSA=МР,MODNM=SР
MACRO АС CSM,MNSA=МР,MODNM=С,ALUS=DQ,FUNC=ADD,ALUD=Q
MACRO TRSH DSRC=SHIFT,MPS,PSHF=SН0,SHF=LOG
MACRO R МАР=РЕ,COND=RСВ
MACRO М МАР=МЕ,COND=ТККВ,DDEV=CLRCD,WRD,ISE
MACRO MED МАР=МЕ,COND=ТККВ,LЕТС,ISE
MACRO ML МАР=МЕ,DDEV=CLRCD,WRD,ISE
MACRO МЕ МАР=МЕ,LЕТС
MACRO MI МАР=МЕ,COND=ТККВ,DDEV=CLRC,WRD
MACRO TODR0 ECB,WRB,BRA=RG0,ECA,ARA=RG0
MACRO TODR1 ECB,WRB,BRA=RG1,ECA,ARA=RG1
MACRO TODR2 ECB,WRB,BRA=RG2,ECA,ARA=RG2
MACRO TODR3 ECB,WRB,BRA=RG3,ECA,ARA=RG3
MACRO TOYR0 ECA,WRA,ARA=RG0,ECB,BRA=RG0
MACRO TOYR1 ECA,WRA,ARA=RG1,ECB,BRA=RG1
MACRO TOYR2 ECA,WRA,ARA=RG2,ECB,BRA=RG2
MACRO TOYR3 ECA,WRA,ARA=RG3,ECB,BRA=RG3
;
;
*FULL LIST
TAK:PROG;
;     =========================
;     ПОДБОР ДЛИТЕЛЬНОСТИ ТАКТА
;     =========================
;
;   РАСПРЕДЕЛЕНИЕ РЕГИСТРОВ ПРИ ПОДБОРЕ ДЛИТЕЛЬНОСТИ ТАКТА:
;   А - ЧТО ПИШЕМ, Y - ЧТО ПРОЧИТАЛИ, Q - РЕЗ-Т СРАВНЕНИЯ, BYTE - МАСКА
;   4 РГ. БОПП ИСПОЛЬЗУЕТСЯ В НЕКОТОРЫХ ТЕСТАХ ДЛЯ ЗАПИСИ ДАННЫХ.
;   В СЛУЧАЕ ОШИБКИ В БОПП ЗАПИСЫВАЕТСЯ А (8-11 РГ.) И Y (12-15 РГ.)
;   ОСТАЛЬНОЕ - ТАК ЖЕ.
;
;
EXTERNAL INITST,ERRTST,ERRINH
;
;      М П С
;     =======
;
TAKT1:ENTRY
;===== МПС: ВЫПОЛНЕНИЕ РАЗНЫХ ОПЕРАЦИЙ МЕЖДУ РЕГИСТРАМИ, 64 РАЗРЯДА
;
CJP A=TAK1,MAP=PE
TAK1:CONT A=H1,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT1:CONT %CLRTYP%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT9
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT3
;*** 1: AND
CJS A=CMP,MAP=PE,ALUS=AB,RA=BYTE,RB=Y,FUNC=AND,H,ALUD=B
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT3
;*** 2: OR
CJS A=CMP,MAP=PE,ALUS=AB,RA=DADR,RB=Y,FUNC=OR,H,ALUD=B
CONT %TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT3
;*** 3: EXNOR
CJS A=CMP,MAP=PE,ALUS=AB,RA=DADR,RB=Y,FUNC=EXNOR,H,ALUD=B
CONT %TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT3
;*** 4: NOTRS
CJS A=CMP,MAP=PE,ALUS=AB,RA=DADR,RB=Y,FUNC=NOTRS,H,ALUD=B
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=Y,CYSTR=NT3
;*** 5: SUBR
CJS A=CMP,MAP=PE,ALUS=ZA,RA=Y,FUNC=SUBR,H,ALUD=B,RB=Y
CONT %TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT3
;*** 6: ADD
CJS A=CMP,MAP=PE,ALUS=AB,RA=DADR,RB=Y,FUNC=ADD,H,CI,ALUD=B
CONT %TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT3
;*** 7: SUBS,CI
CJS A=CMP,MAP=PE,ALUS=AB,RA=DADR,RB=Y,FUNC=SUBS,H,CI,ALUD=B
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=B33,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT3
;*** 8: SUBS
CJS A=CMP,MAP=PE,ALUS=AB,RA=DADR,RB=Y,FUNC=SUBS,H,ALUD=B
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT3
;*** 9: AND,Q
CJS A=CMP,MAP=PE,ALUS=AQ,RA=BYTE,FUNC=AND,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT3
;*** A: OR,Q
CJS A=CMP,MAP=PE,ALUS=AQ,RA=Y,FUNC=OR,H,ALUD=B,RB=Y
CONT %TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT3
;*** B: EXNOR,Q
CJS A=CMP,MAP=PE,ALUS=AQ,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CONT %TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT3
;*** C: NOTRS,Q
CJS A=CMP,MAP=PE,ALUS=AQ,RA=DADR,FUNC=NOTRS,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT ALUS=DZ,FUNC=AND,H,ALUD=Q,CYSTR=NT3
;*** D: SUBR,Q
CJS A=CMP,MAP=PE,ALUS=ZQ,FUNC=SUBR,H,ALUD=B,RB=Y
CONT %TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT3
;*** E: ADD,Q
CJS A=CMP,MAP=PE,ALUS=AQ,RA=DADR,FUNC=ADD,H,CI,ALUD=B,RB=Y
CONT %TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT3
;*** F: SUBS,CI,Q
CJS A=CMP,MAP=PE,ALUS=AQ,RA=DADR,FUNC=SUBS,H,CI,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=B33,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT3
;*** 10: SUBS,Q
CJS A=CMP,MAP=PE,ALUS=AQ,RA=DADR,FUNC=SUBS,H,ALUD=B,RB=Y
CJP A=CT1,MAP=PE,%TIK%
;
;
CMP:ENRTY
;===== П/П СРАВНЕНИЯ И П/У НА ОШИБКУ, ЕСЛИ ЧТО НЕ ТАК
CONT ALUS=AB,RA=A,RB=Y,FUNC=EXOR,H,ALUD=Q
CONT ALUS=AQ,RA=BYTE,FUNC=AND,H,ALUD=Q,CEN
CRTN COND=CT,STOPC=NZ
CJS A=ERRINH,MAP=PE
CJP A=ERRTST,MAP=PE
;
;
TAKT2:ENTRY
;===== МПС: ВЫПОЛНЕНИЕ РАЗНЫХ ОПЕРАЦИЙ МЕЖДУ РЕГИСТРАМИ, 32 РАЗРЯДА
;
CJP A=TAK2,MAP=PE
TAK2:CONT A=H2,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT2:CONT %CLRTYP%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT9
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT3
;*** 1: AND
CJS A=CMP,MAP=PE,ALUS=AB,RA=BYTE,RB=Y,FUNC=AND,ALUD=B
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT3
;*** 2: OR
CJS A=CMP,MAP=PE,ALUS=AB,RA=DADR,RB=Y,FUNC=OR,ALUD=B
CONT %TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT3
;*** 3: EXNOR
CJS A=CMP,MAP=PE,ALUS=AB,RA=DADR,RB=Y,FUNC=EXNOR,ALUD=B
CONT %TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT3
;*** 4: NOTRS
CJS A=CMP,MAP=PE,ALUS=AB,RA=DADR,RB=Y,FUNC=NOTRS,ALUD=B
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=Y,CYSTR=NT3
;*** 5: SUBR
CJS A=CMP,MAP=PE,ALUS=ZA,RA=Y,FUNC=SUBR,ALUD=B,RB=Y
CONT %TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT3
;*** 6: ADD
CJS A=CMP,MAP=PE,ALUS=AB,RA=DADR,RB=Y,FUNC=ADD,CI,ALUD=B
CONT %TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT3
;*** 7: SUBS,CI
CJS A=CMP,MAP=PE,ALUS=AB,RA=DADR,RB=Y,FUNC=SUBS,CI,ALUD=B
CONT %TYPE%
CONT A=MQ,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=B17,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT3
;*** 8: SUBS
CJS A=CMP,MAP=PE,ALUS=AB,RA=DADR,RB=Y,FUNC=SUBS,ALUD=B
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT3
;*** 9: AND,Q
CJS A=CMP,MAP=PE,ALUS=AQ,RA=BYTE,FUNC=AND,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT3
;*** A: OR,Q
CJS A=CMP,MAP=PE,ALUS=AQ,RA=Y,FUNC=OR,ALUD=B,RB=Y
CONT %TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT3
;*** B: EXNOR,Q
CJS A=CMP,MAP=PE,ALUS=AQ,RA=DADR,FUNC=EXNOR,ALUD=B,RB=Y
CONT %TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT3
;*** C: NOTRS,Q
CJS A=CMP,MAP=PE,ALUS=AQ,RA=DADR,FUNC=NOTRS,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT ALUS=DZ,FUNC=AND,H,ALUD=Q,CYSTR=NT3
;*** D: SUBR,Q
CJS A=CMP,MAP=PE,ALUS=ZQ,FUNC=SUBR,ALUD=B,RB=Y
CONT %TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT3
;*** E: ADD,Q
CJS A=CMP,MAP=PE,ALUS=AQ,RA=DADR,FUNC=ADD,CI,ALUD=B,RB=Y
CONT %TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT3
;*** F: SUBS,CI,Q
CJS A=CMP,MAP=PE,ALUS=AQ,RA=DADR,FUNC=SUBS,CI,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MQ,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=B17,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT3
;*** 10: SUBS,Q
CJS A=CMP,MAP=PE,ALUS=AQ,RA=DADR,FUNC=SUBS,ALUD=B,RB=Y
CJP A=CT2,MAP=PE,%TIK%
;
;
TAKT3:ENTRY
;===== ИЗ ПЗУ - В МПС + ВЫПОЛНЕНИЕ РАЗНЫХ ОПЕРАЦИЙ
;   NT3 - НА ГРАНИ !?   В ПРОГРАММАХ ЛУЧШЕ NT4 !?!?
;
CJP A=TAK3,MAP=PE
TAK3:CONT A=H3,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT3:CONT %CLRTYP%,CYSTR=NT9
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT3
;*** 1: AND
CONT A=CFFF,DSRC=PROM,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT3
;*** 2: OR
CONT A=CAAA,DSRC=PROM,ALUS=DA,RA=Y,FUNC=OR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 3: EXNOR
CONT A=C555,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 4: NOTRS
CONT A=CAAA,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=NOTRS,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 5: SUBS
CONT A=ZER,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT3
;*** 6: ADD
CONT A=CAAA,DSRC=PROM,ALUS=DA,RA=Y,FUNC=ADD,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 7: SUBS,CI
CONT A=MB,DSRC=PROM,ALYS=DA,RA=DADR,FUNC=SUBS,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=B33,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 8: SUBS
CONT A=C1,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=SUBS,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT3
;*** 9: AND,Q
COMT A=CFFF,DSRC=PROM,ALUS=DQ,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT3
;*** A: OR,Q
COMT A=C555,DSRC=PROM,ALUS=DQ,FUNC=OR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT3
;*** B: EXNOR,Q
CONT A=CAAA,DSRC=PROM,ALUS=DQ,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT3
;*** C: NOTRS,Q
CONT A=CAAA,DSRC=PROM,ALUS=DQ,FUNC=NOTRS,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=Q,CYSTR=NT3
;*** D: SUBR,Q
CONT A=CFFF,DSRC=PROM,ALUS=DQ,FUNC=SUBR,H,ALUD=B,RB=Y,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT3
;*** E: ADD,Q
CONT A=CAAA,DSRC=PROM,ALUS=DQ,FUNC=ADD,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT3
;*** F: SUBS,CI,Q
CONT A=MB,DSRC=PROM,ALUS=DQ,FUNC=SUBS,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT3
;*** 10: SUBS,Q
CONT A=B33,DSRC=PROM,ALUS=DQ,FUNC=SUBS,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT3,MAP=PE,%TIK%
;
;
TAKT4:ENTRY
;===== МПС: СРАВНИВАЕМ РАЗНЫЕ ВЫРИАНТЫ ПОЛУЧЕНИЯ "0"
;
CJP A=TAK4,MAP=PE
TAK4:CONT A=H4,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT4:CONT %CLRTYP%,CYSTR=NT9
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1: CONST - CONST
CONT ALUS=AB,RA=Y,RB=Y,FUNC=SUBR,H,CI,ALUD=B
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 2: CONST - CONST ИЗ Q
CONT ALUS=AQ,RA=Y,FUNC=SUBS,H,CI,ALUD=B
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 3: CONST.EXOR.CONST
CONT ALUS=AB,RA=Y,RB=Y,FUNC=EXOR,H,ALUD=B
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 4: AND C "0"+ РГ.
CONT ALUS=ZA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 5: AND C "0"+ ШИНА
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 6: AND C "0"+ Q
CONT ALUS=ZQ,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 7: "0" ИЗ ПЗУ + "0"
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 8: "0" ИЗ ПЗУ .AND. "0"
CONT A=ZER,DSRC=PROM,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 9: "0" ИЗ ПЗУ .AND. С РГ.
CONT A=ZER,DSRC=PROM,ALUS=DA,RA=BYTE,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT4,MAP=PE,%TIK%
;
;
TAKT5:ENTRY
;===== МПС: СДВИГИ
;
CJP A=TAK5,MAP=PE
TAK5:CONT A=H5,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT5:CONT %CLRTYP%,CYSTR=NT9
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFFE,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 1: ВЛЕВО, ЗАДВИГАЕТСЯ 0
CONT ALUS=ZA,RA=DADR,FUNC=OR,H,ALUD=LSB,RB=Y,SHMUX=LSLSL
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B64,DSRC=PROM,ALUS=DZ,FUNC=EXNOR,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 2: ВПРАВО, ЗАДВИГАЕТСЯ 0
CONT ALUS=ZA,RA=DADR,FUNC=OR,H,ALUD=RSB,RB=Y,SHMUX=LSLSL
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFFE,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 3: ВЛЕВО 32, ЗАДВИГАЕТСЯ 0
CONT ALUS=ZA,RA=DADR,FUNC=OR,ALUD=LSB,RB=Y,SHMUX=LSLSL
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B32,DSRC=PROM,ALUS=DZ,FUNC=EXNOR,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 4: ВПРАВО 32, ЗАДВИГАЕТСЯ 0
CONT ALUS=ZA,RA=DADR,FUNC=OR,ALUD=RSB,RB=Y,SHMUX=LSLSL
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=B32,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 5: ЦИКЛИЧЕСКИЙ ВЛЕВО 32, ЗАДВИГАЕТСЯ 0
CONT ALUS=ZA,RA=DADR,FUNC=OR,ALUD=LSB,RB=Y,SHMUX=RSRS
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B32,DSRC=PROM,ALUS=DZ,FUNC=EXNOR,H,ALUD=B,RB=A
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 6: ЦИКЛИЧЕСКИЙ ВПРАВО 32, ЗАДВИГАЕТСЯ 0
CONT ALUS=ZA,RA=DADR,FUNC=OR,ALUD=RSB,RB=Y,SHMUX=RSRS
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=B64,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,STOPC=SETM,CEM
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 7: ВЛЕВО, ЗАДВИГАЕТСЯ MC
CONT ALUS=ZA,RA=DADR,FUNC=OR,H,ALUD=LSB,RB=Y,SHMUX=RSSRSS
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B64,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,STOPC=SETM,CEM
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 8: ВПРАВО, ЗАДВИГАЕТСЯ MC
CONT ALUS=ZA,RA=DADR,FUNC=OR,H,ALUD=RSB,RB=Y,SHMUX=RSSRSS
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 9,A: ЦИКЛИЧЕСКИЙ ДВОЙНОЙ ВЛЕВО
CONT ALUS=ZA,RA=DADR,FUNC=OR,H,ALUD=LSBQ,RB=Y,SHMUX=RDRD
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFFE,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT ALUS=ZQ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=B64,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** B,C: ЦИКЛИЧЕСКИЙ ДВОЙНОЙ ВПРАВО
CONT ALUS=ZA,RA=DADR,FUNC=OR,H,ALUD=RSBQ,RB=Y,SHMUX=RDRD
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B64,DSRC=PROM,ALUS=DZ,FUNC=EXNOR,H,ALUD=B,RB=A
CONT ALUS=ZQ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,STOPC=SETM,SEM
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** D,E: ДВОЙНОЙ ВЛЕВО, ЗАДВИГАЕТСЯ MC
CONT ALUS=ZA,RA=DADR,FUNC=OR,H,ALUD=LSBQ,RB=Y,SHMUX=RDSRDS
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT ALUS=ZQ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=B64,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,STOPC=SETM,SEM
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** F,10: ДВОЙНОЙ ВПРАВО, ЗАДВИГАЕТСЯ MC
CONT ALUS=ZA,RA=DADR,FUNC=OR,H,ALUD=RSBQ,RB=Y,SHMUX=RDSRDS
CJS A=CMP,MAP=PE,%TYPE%
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT ALUS=ZQ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT5,MAP=PE,%TIK%
;
;
TAKT6:ENTRY
;===== МПС + РАЗНЫЕ ОПЕРАЦИИ МЕЖДУ РЕГИСТРАМИ АЛУ - В БОИ
;
CJP A=TAK6,MAP=PE
TAK6:CONT A=H6,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT6:CONT %CLRTYP%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT9
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT4
;*** 1: AND
CONT ALUS=AB,RA=BYTE,RB=Y,FUNC=AND,H,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT4
;*** 2: OR
CONT ALUS=AB,RA=DADR,RB=Y,FUNC=OR,H,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT4
;*** 3: EXNOR
CONT ALUS=AB,RA=DADR,RB=Y,FUNC=EXNOR,H,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT4
;*** 4: NOTRS
CONT ALUS=AB,RA=DADR,RB=Y,FUNC=NOTRS,H,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=Y,CYSTR=NT4
;*** 5: SUBR
CONT ALUS=ZA,RA=Y,FUNC=SUBR,H,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT4
;*** 6: ADD
CONT MAP=PE,ALUS=AB,RA=DADR,RB=Y,FUNC=ADD,H,CI,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT4
;*** 7: SUBS,CI
CONT ALUS=AB,RA=DADR,RB=Y,FUNC=SUBS,H,CI,ALU,ECB,WRB,BRA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=B33,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT4
;*** 8: SUBS
CONT ALUS=AB,RA=DADR,RB=Y,FUNC=SUBS,H,ALU,ECB,WRB,BRA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT4
;*** 9: AND,Q
CONT ALUS=AQ,RA=BYTE,FUNC=AND,H,ALU,ECB,WRB,BRA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT4
;*** A: OR,Q
CONT ALUS=AQ,RA=Y,FUNC=OR,H,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT4
;*** B: EXNOR,Q
CONT ALUS=AQ,RA=DADR,FUNC=EXNOR,H,ALU,ECB,WRB,BRA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT4
;*** C: NOTRS,Q
CONT ALUS=AQ,RA=DADR,FUNC=NOTRS,H,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT ALUS=DZ,FUNC=AND,H,ALUD=Q,CYSTR=NT4
;*** D: SUBR,Q
CONT ALUS=ZQ,FUNC=SUBR,H,ALU,ECB,WRB,BRA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT4
;*** E: ADD,Q
CONT ALUS=AQ,RA=DADR,FUNC=ADD,H,CI,ALU,ECB,WRB,BRA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT4
;*** F: SUBS,CI,Q
CONT ALUS=AQ,RA=DADR,FUNC=SUBS,H,CI,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=B33,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT4
;*** 10: SUBS,Q
CONT ALUS=AQ,RA=DADR,FUNC=SUBS,H,ALU,ECB,WRB,BRA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT6,MAP=PE,%TIK%
;
;
TAKT7:ENTRY
;===== ИЗ ПЗУ - В МПС + ВЫПОЛНЕНИЕ РАЗНЫХ ОПЕРАЦИЙ - В БОИ ДАННЫХ
;   NT3 - НА ГРАНИ !?   В ПРОГРАММАХ ЛУЧШЕ NT4 !?!?
;
CJP A=TAK7,MAP=PE
TAK7:CONT A=H7,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT7:CONT %CLRTYP%,CYSTR=NT9
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT3
;*** 1: AND
CONT A=CFFF,DSRC=PROM,ALUS=DA,RA=Y,FUNC=AND,H,ALU,ECB,WRB,BRA=RG3
CONT ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT3
;*** 2: OR
CONT A=CAAA,DSRC=PROM,ALUS=DA,RA=Y,FUNC=OR,H,ALU,ECB,WRB,BRA=RG3
CONT ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 3: EXNOR
CONT A=C555,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALU,ECB,WRB,BRA=RG0
CONT ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 4: NOTRS
CONT A=CAAA,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=NOTRS,H,ALU,ECB,WRB,BRA=RG3
CONT ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 5: SUBS
CONT A=ZER,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,ALU,ECB,WRB,BRA=RG0
CONT ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT3
;*** 6: ADD
CONT A=CAAA,DSRC=PROM,ALUS=DA,RA=Y,FUNC=ADD,H,CI,ALU,ECB,WRB,BRA=RG0
CONT ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 7: SUBS,CI
CONT A=MB,DSRC=PROM,ALYS=DA,RA=DADR,FUNC=SUBS,H,CI,ALU,ECB,WRB,BRA=RG3
CONT ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=B33,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 8: SUBS
CONT A=C1,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=SUBS,H,ALU,ECB,WRB,BRA=RG3
CONT ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT3
;*** 9: AND,Q
COMT A=CFFF,DSRC=PROM,ALUS=DQ,FUNC=AND,H,ALU,ECB,WRB,BRA=RG2
CONT ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT3
;*** A: OR,Q
COMT A=C555,DSRC=PROM,ALUS=DQ,FUNC=OR,H,ALU,ECB,WRB,BRA=RG1
CONT ECA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT3
;*** B: EXNOR,Q
CONT A=CAAA,DSRC=PROM,ALUS=DQ,FUNC=EXNOR,H,ALU,ECB,WRB,BRA=RG0
CONT ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT3
;*** C: NOTRS,Q
CONT A=CAAA,DSRC=PROM,ALUS=DQ,FUNC=NOTRS,H,ALU,ECB,WRB,BRA=RG3
CONT ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=Q,CYSTR=NT3
;*** D: SUBR,Q
CONT A=CFFF,DSRC=PROM,ALUS=DQ,FUNC=SUBR,H,ALU,ECB,WRB,BRA=RG0
CONT ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT3
;*** E: ADD,Q
CONT A=CAAA,DSRC=PROM,ALUS=DQ,FUNC=ADD,H,CI,ALU,ECB,WRB,BRA=RG3
CONT ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT3
;*** F: SUBS,CI,Q
CONT A=MB,DSRC=PROM,ALUS=DQ,FUNC=SUBS,H,CI,ALU,ECB,WRB,BRA=RG0
CONT ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT3
;*** 10: SUBS,Q
CONT A=B33,DSRC=PROM,ALUS=DQ,FUNC=SUBS,H,ALU,ECB,WRB,BRA=RG3
CONT ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT7,MAP=PE,%TIK%
;
;
TAKT8:ENTRY
;===== ИЗ МПС (С ВЫХОДА А) - В БОПП;
;
CJP A=TAK8,MAP=PE
TAK8:CONT A=H8,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT8:CONT %CLRTYP%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
;1
CJS A=SUBW8,MAP=PE,CYSTR=NT9
CJS A=CMP,MAP=PE,%TYPE%
;2
CJS A=SUBW8,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;3
CJS A=SUBW8,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;4
CJS A=SUBW8,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT A=B7,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 5
CONT ALUS=ZB,RB=DADR,ALUD=ВA,RA=A,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT А=HF,DSRC=PROM,ALUS=DZ,H,ALUD=В,RВ=A,CYSTR=NT3
;*** 6
CONT ALUS=ZB,RB=DADR,ALUD=ВA,RA=A,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=4
CJS A=CMP,MAP=PE,YDEV=МРМЕМ,IОМР,MPADR=4,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 7
CONT ALUS=ZB,RB=DADR,ALUD=ВA,RA=A,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=4
CJS A=CMP,MAP=PE,YDEV=МРМЕМ,IОМР,MPADR=4,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT8,MAP=PE,%TIK%
;ЗАПИСЬ ИЗ МПС С ВЫХОДА А В БОПП, ЧТЕНИЕ
SUBW8:CONT CYSTR=NT3
;*** 1,2,3,4
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CRTN YDEV=MPMEM,IOMP,MPADR=4,ECB,WRB,BRA=RG3,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
;
;
TAKT9:ENTRY
;===== МПС (С ВЫХОДА В) - В БОПП
;
CJP A=TAK9,MAP=PE
TAK9:CONT A=H9,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT9:CONT %CLRTYP%
CONT A=HB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=SUBOR9,MAP=PE,CYSTR=NT9
CJS A=CMP,MAP=PE,%TYPE%
;2
CJS A=SUBOR9,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;3
CJS A=SUBAD9,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;4
CJS A=SUBAD9,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT9,MAP=PE,%TIK%
;ЗАПИСЬ ИЗ РГ.МПС В РГ.БОПП, ЧТЕНИЕ
SUBOR9:CONT CYSTR=NT3
;*** 1,2: OR
CONT ALUS=ZA,RA=A,FUNC=OR,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CRTN YDEV=MPMEM,IOMP,MPADR=4,ECB,WRB,BRA=RG3,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
;*** 3,4: ADD
SUBAD9:CONT CYSTR=NT3
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CRTN YDEV=MPMEM,IOMP,MPADR=4,ECB,WRB,BRA=RG3,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
;
;
TAKTA:ENTRY
;===== ИЗ МПС, ИЗ РГ.Q (С ВЫХОДА В) - В БОПП
;
CJP A=TAKA,MAP=PE
TAKA:CONT A=HA,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CTA:CONT %CLRTYP%,CYSTR=NT9
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=HF6,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT3
;1
CONT ALUS=ZQ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,DSRC=SHIFT,MPS,PSHF=SH0
>,SHF=LOG,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT3
;2
CONT ALUS=ZQ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,DSRC=SHIFT,MPS,PSHF=SH0
>,SHF=LOG,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT3
;3
CONT ALUS=ZQ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,DSRC=SHIFT,MPS,PSHF=SH0
>,SHF=LOG,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT3
;4
CONT ALUS=ZQ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,DSRC=SHIFT,MPS,PSHF=SH0
>,SHF=LOG,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CJP A=CTA,MAP=PE,%TIK%
;
;
TAKTB:ENTRY
;===== ИЗ МПС (С ВЫХОДА В) - В РНГ
;
CJP A=TAKB,MAP=PE
TAKB:CONT A=HB,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CTB:CONT %CLRTYP%
CONT %TYPE%,CYSTR=NT9
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,CYSTR=NT3
;*** 1
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=B7,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 2
CONT ALUS=ZA,RА=A,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A,CYSTR=NT3
;*** 3
CONT ALUS=DZ,FUNC=AND,H,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C7,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 4
CONT ALUS=ZА,RА=A,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A,CYSTR=NT3
;*** 5
CONT ALUS=DZ,FUNC=AND,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CTB,MAP=PE,%TIK%
;
;
TAKTC:ENTRY
;===== ИЗ МПС (С ВЫХОДА B) - В КОП АРБИТРА
;
CJP A=TAKC,MAP=PE
TAKC:CONT A=HC,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CTC:CONT %CLRTYP%
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
;1
CJS A=SUBWC,MAP=PE,CYSTR=NT9
CJS A=CMP,MAP=PE,%TYPE%
;2
CJS A=SUBWC,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;3
CJS A=SUBWC,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;4
CJS A=SUBWC,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CTC,MAP=PE,%TIK%
;П/П ЗАПИСИ ИЗ МПС В РГ. КОП АРБИТРА
SUBWC:CONT,CYSTR=NT3
;***
CONT ALUS=ZA,RA=A,H,ALU,YDST=ARBOPC
CRTN DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
;
;
TAKTD:ENTRY
;===== ИЗ МПС (С ВЫХОДА В) - В СТАТУСНЫЙ РГ. M
;
CJP A=TAKD,MAP=PE
TAKD:CONT A=HD,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CTD:CONT %CLRTYP%
;1
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=SUBWD,MAP=PE,CYSTR=NT9
CJS A=CMP,MAP=PE,%TYPE%
;2
CJS A=SUBWD,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;3
CJS A=SUBWD,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;4
CJS A=SUBWD,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CTD,MAP=PE,%TIK%
;П/П ЗАПИСИ ИЗ РГ.МПС В СТАТУСНЫЙ РГ.M И ЧТЕНИЕ
SUBWD:CONT CYSTR=NT3
;***
CONT ALUS=ZA,RA=A,H,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CRTN STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
;
;
TAKTE:ENTRY
;===== ИЗ МПС (С ВЫХОДА А) - В ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAKE,MAP=PE
TAKE:CONT A=HE,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CTE:CONT %CLRTYP%
CONT %TYPE%,CYSTR=NT9
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=B7,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1
CONT ALUS=ZB,RB=DADR,ALUD=BА,RА=A,ALU,CSM,WЕМ,MNSA=МР,MODNM=ACL
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CF530,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 2
CONT ALUS=ZB,RB=DADR,ALUD=BА,RА=A,ALU,CSM,WЕМ,MNSA=МР,MODNM=ACR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C0202,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 3
CONT ALUS=ZB,RB=DADR,ALUD=BА,RА=A,ALU,CSM,WЕМ,MNSA=МР,MODNM=ACL
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CTE,MAP=PE,%TIK%
;
;
TAKTF:ENTRY
;===== ИЗ МПС (С ВЫХОДА В) -  В ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAKF,MAP=PE
TAKF:CONT A=HF,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CTF:CONT %CLRTYP%
CONT %TYPE%,CYSTR=NT9
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=B7,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1
CONT ALUS=ZA,RА=A,ALU,CSM,WЕМ,MNSA=МР,MODNM=ACL
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CF530,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 2
CONT ALUS=ZА,RА=A,ALU,CSM,WЕМ,MNSA=МР,MODNM=ACR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C0202,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 3
CONT ALUS=ZA,RА=A,ALU,CSM,WЕМ,MNSA=МР,MODNM=ACL
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CTF,MAP=PE,%TIK%
;
;     СДВИГ В СДВИГАТЕЛЕ
;     ==================
;
TAKT10:ENTRY
;===== МПС - СДВИГ - МПС (+ ЛОГ. ОПЕРАЦИЯ)
;
CJP A=TAK10,MAP=PE
TAK10:CONT A=H10,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT10:CONT %CLRTYP%
CONT %TYPE%,CYSTR=NT9
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MNH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT5
;*** 1
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0-32,SHF=LOG
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=MNB23,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT5
;*** 2
CJS A=CMP,MAP=PE,ALUS=DQ,FUNC=OR,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0-24,SHF=LOG
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT5
;*** 3
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0+56,SHF=LOG
CONT %TYPE%
CONT A=B5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT5
;*** 4
CJS A=CMP,MAP=PE,ALUS=DQ,FUNC=OR,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0+2,SHF=LOG
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=SL32,DSRC=PROM,ALUS=DZ,ALU,YDST=PSHIFT
CONT A=MNH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT5
;*** 5
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=SR32,DSRC=PROM,ALUS=DZ,ALU,YDST=PSHIFT
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT5
;*** 6
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CONT %TYPE%
CONT A=B5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=HB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT5
;*** 7
CJS A=CMP,MAP=PE,ALUS=DA,FUNC=SUBR,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0+2,SHF=LOG
CJP A=CT10,MAP=PE,%TIK%
;
;
TAKT11:ENTRY
;===== МПС - СДВИГ - МПС (ПРОВЕРЯЕМ РАЗНЫЕ ТИПЫ СДВИГОВ!)
;
CJP A=TAK11,MAP=PE
TAK11:CONT A=H11,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT11:CONT %CLRTYP%
CONT %TYPE%,CYSTR=NT9
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CFFFE,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT4
;*** 1: СДВИГ ВЛЕВО ЛОГИЧЕСКИЙ, ПАРАМЕТР СДВИГА - В МП
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0-1,SHF=LOG
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MNH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT4
;*** 2
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0-32,SHF=LOG
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B64,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT4
;*** 3
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0-63,SHF=LOG
CONT %TYPE%
CONT A=B11,DSRC=PROM,ALUS=DZ,ALUD=B,RB=HALF
CONT A=C1,DSRC=PROM,ALUS=DA,RA=HALF,FUNC=SUBR,H,CI,ALU,YDST=PSHIFT
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CFFFE,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT4
;*** 4: СДВИГ ВЛЕВО ЛОГИЧЕСКИЙ, ПАРАМЕТР СДВИГА - В РПС
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CONT %TYPE%
CONT A=B11,DSRC=PROM,ALUS=DZ,ALUD=B,RB=HALF
CONT A=C32,DSRC=PROM,ALUS=DA,RA=HALF,FUNC=SUBR,H,CI,ALU,YDST=PSHIFT
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MNH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT4
;*** 5
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CONT %TYPE%
CONT A=B11,DSRC=PROM,ALUS=DZ,ALUD=B,RB=HALF
CONT A=C63,DSRC=PROM,ALUS=DA,RA=HALF,FUNC=SUBR,H,CI,ALU,YDST=PSHIFT
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B64,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT4
;*** 6
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CONT %TYPE%
CONT A=B11,DSRC=PROM,ALUS=DZ,ALUD=B,RB=HALF
CONT A=H60,DSRC=PROM,ALUS=DA,RA=HALF,FUNC=SUBR,H,CI,ALU,YDST=PSHIFT
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT4
;*** 7
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B64,DSRC=PROM,ALUS=DZ,FUNC=EXNOR,H,ALUD=B,RB=A,CYSTR=NT4
;*** 8: СДВИГ ВПРАВО ЛОГИЧЕСКИЙ, ПАРАМЕТР СДВИГА - В МП
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0+1,SHF=LOG
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT4
;*** 9
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0+32,SHF=LOG
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT4
;*** A
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0+63,SHF=LOG
CONT %TYPE%
CONT A=B11,DSRC=PROM,ALUS=DZ,ALUD=B,RB=HALF
CONT A=C1,DSRC=PROM,ALUS=DA,RA=HALF,FUNC=ADD,H,ALU,YDST=PSHIFT
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B64,DSRC=PROM,ALUS=DZ,FUNC=EXNOR,H,ALUD=B,RB=A,CYSTR=NT4
;*** B: СДВИГ ВПРАВО ЛОГИЧЕСКИЙ, ПАРАМЕТР СДВИГА - В РПС
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CONT %TYPE%
CONT A=B11,DSRC=PROM,ALUS=DZ,ALUD=B,RB=HALF
CONT A=C32,DSRC=PROM,ALUS=DA,RA=HALF,FUNC=ADD,H,ALU,YDST=PSHIFT
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT4
;*** C
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CONT %TYPE%
CONT A=B11,DSRC=PROM,ALUS=DZ,ALUD=B,RB=HALF
CONT A=C63,DSRC=PROM,ALUS=DA,RA=HALF,FUNC=ADD,H,ALU,YDST=PSHIFT
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT4
;*** D
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CONT %TYPE%
CONT A=B11,DSRC=PROM,ALUS=DZ,ALUD=B,RB=HALF
CONT A=H60,DSRC=PROM,ALUS=DA,RA=HALF,FUNC=ADD,H,ALU,YDST=PSHIFT
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT4
;*** E
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CONT %TYPE%
CONT A=B64,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B63,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=ADD,H,ALUD=B,RB=A,CYSTR=NT4
;*** F: СДВИГ ВПРАВО АРИФМЕТИЧЕСКИЙ, ПАРАМЕТР СДВИГА - В МП
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0+1,SHF=ARIPH
CONT %TYPE%
CONT A=B64,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MNH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT4
;*** 10
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0+31,SHF=ARIPH
CONT %TYPE%
CONT A=B64,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CFFFC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT4
;*** 11
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0+61,SHF=ARIPH
CONT %TYPE%
CONT A=B11,DSRC=PROM,ALUS=DZ,ALUD=B,RB=HALF
CONT A=C1,DSRC=PROM,ALUS=DA,RA=HALF,FUNC=SUBR,H,CI,ALU,YDST=PSHIFT
CONT A=B64,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=B1,DSRC=PROM,ALUS=DA,RA=Y,FUNC=OR,H,ALUD=B,RB=DADR
CONT A=B2,DSRC=PROM,ALUS=DA,RA=Y,FUNC=OR,H,ALUD=B,RB=A,CYSTR=NT4
;*** 12: СДВИГ ВЛЕВО АРИФМЕТИЧЕСКИЙ, ПАРАМЕТР СДВИГА - В РПС
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=ARIPH
CONT %TYPE%
CONT A=B11,DSRC=PROM,ALUS=DZ,ALUD=B,RB=HALF
CONT A=C32,DSRC=PROM,ALUS=DA,RA=HALF,FUNC=SUBR,H,CI,ALU,YDST=PSHIFT
CONT A=B64,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=B1,DSRC=PROM,ALUS=DA,RA=Y,FUNC=OR,H,ALUD=B,RB=DADR
CONT A=B33,DSRC=PROM,ALUS=DA,RA=Y,FUNC=OR,H,ALUD=B,RB=A,CYSTR=NT4
;*** 13
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=ARIPH
CONT %TYPE%
CONT A=B11,DSRC=PROM,ALUS=DZ,ALUD=B,RB=HALF
CONT A=C62,DSRC=PROM,ALUS=DA,RA=HALF,FUNC=SUBR,H,CI,ALU,YDST=PSHIFT
CONT A=B64,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=B1,DSRC=PROM,ALUS=DA,RA=Y,FUNC=OR,H,ALUD=B,RB=DADR
CONT A=B63,DSRC=PROM,ALUS=DA,RA=Y,FUNC=OR,H,ALUD=B,RB=A,CYSTR=NT4
;*** 14
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=ARIPH
CONT %TYPE%
CONT A=B11,DSRC=PROM,ALUS=DZ,ALUD=B,RB=HALF
CONT A=H60,DSRC=PROM,ALUS=DA,RA=HALF,FUNC=SUBR,H,CI,ALU,YDST=PSHIFT
CONT A=B64,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFFC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT4
;*** 15
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=ARIPH
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT4
;*** 16: СДВИГ ВЛЕВО ЦИКЛИЧЕСКИЙ, ПАРАМЕТР СДВИГА - В МП
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0-1,SHF=CICL
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MNH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT4
;*** 17
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0-32,SHF=CICL
CONT %TYPE%
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B64,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT4
;*** 18
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0-63,SHF=CICL
CONT %TYPE%
CONT A=B11,DSRC=PROM,ALUS=DZ,ALUD=B,RB=HALF
CONT A=C1,DSRC=PROM,ALUS=DA,RA=HALF,FUNC=ADD,H,ALU,YDST=PSHIFT
CONT A=CFFFE,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B64,DSRC=PROM,ALUS=DZ,FUNC=EXNOR,H,ALUD=B,RB=A,CYSTR=NT4
;*** 19: СДВИГ ВПРАВО ЦИКЛИЧЕСКИЙ, ПАРАМЕТР СДВИГА - В РПС
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=CICL
CONT %TYPE%
CONT A=B11,DSRC=PROM,ALUS=DZ,ALUD=B,RB=HALF
CONT A=C32,DSRC=PROM,ALUS=DA,RA=HALF,FUNC=ADD,H,ALU,YDST=PSHIFT
CONT A=MNH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT4
;*** 1A
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=CICL
CONT %TYPE%
CONT A=B11,DSRC=PROM,ALUS=DZ,ALUD=B,RB=HALF
CONT A=C63,DSRC=PROM,ALUS=DA,RA=HALF,FUNC=ADD,H,ALU,YDST=PSHIFT
CONT A=B64,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT4
;*** 1B
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=CICL
CONT %TYPE%
CONT A=B11,DSRC=PROM,ALUS=DZ,ALUD=B,RB=HALF
CONT A=H7E,DSRC=PROM,ALUS=DA,RA=HALF,FUNC=ADD,H,ALU,YDST=PSHIFT
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B63,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT4
;*** 1C
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=CICL
CONT %TYPE%
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B63,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT4
;*** 1D: ПЕРЕХОД К ФОРМАТУ Б-6: ВПРАВО С РАЗМН.ИНВ.ЗНАКА, ПАРАМЕТР СДВИГА - В МП
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0+1,SHF=EMULF
CONT %TYPE%
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MD,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT4
;*** 1E
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0+4,SHF=EMULF
CONT %TYPE%
CONT A=B32,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MNH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=B64,DSRC=PROM,ALUS=DA,RA=Y,FUNC=EXOR,H,ALUD=B,RB=Y
CONT A=B1,DSRC=PROM,ALUS=DA,RA=Y,FUNC=ADD,H,ALUD=B,RB=A,CYSTR=NT4
;*** 1F
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0+32,SHF=EMULF
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B64,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=B1,DSRC=PROM,ALUS=DA,RA=A,FUNC=OR,H,ALUD=B,RB=A,CYSTR=NT4
;*** 20
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0+62,SHF=EMULF
CJP A=CT11,MAP=PE,%TIK%
;
;
TAKT12:ENTRY
;===== МПС - СДВИГ - МПС; ОДНОВРЕМЕННО - ЗАПИСЬ В ОЗУ МОДИФ.
;   ЗАПИСЬ В МПС ПОСЛЕ СДВИГА - ПОЗЖЕ, ЧЕМ ЗАПИСЬ В ОЗУ МОД.!
;   ДЛИТЕЛЬНОСТЬ ТАКТА ДЛЯ СДВИГА - РАЗНАЯ, В ЗАВИСИМОСТИ ОТ НАПРАВЛЕНИЯ !?!?
;
CJP A=TAK12,MAP=PE
TAK12:CONT A=H12,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT12:CONT %CLRTYP%,CYSTR=NT9
CONT A=SL32,DSRC=PROM,ALUS=DZ,H,ALU,YDST=PSHIFT
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT5
;*** 1,2
CONT ALUS=DZ,Н,ALUD=ВА,RА=DADR,RВ=Y,ALU,CSM,WЕМ,MNSA=МР,MODNM=ACR,DSRC=SHIFT
>,SHF=LOG
CONT ALUS=DZ,Н,ALUD=ВА,RА=DADR,RВ=A,ALU,DSRC=SHIFT,MPS,PSHF=SH0-32,SHF=LOG
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=CMP,MAP=PE,ALUS=ZA,RA=DADR,H,ALUD=B,RB=A
CONT A=C005A,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT5
;*** 3,4
CONT ALUS=DZ,Н,ALUD=ВА,RА=DADR,RВ=Y,ALU,CSM,WЕМ,MNSA=МР,MODNM=ACR,DSRC=SHIFT
>,SHF=CICL
CONT ALUS=DZ,Н,ALUD=ВА,RА=DADR,RВ=A,ALU,DSRC=SHIFT,MPS,PSHF=SH0-32,SHF=CICL
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=CMP,MAP=PE,ALUS=ZA,RA=DADR,H,ALUD=B,RB=A
CONT A=SR32,DSRC=PROM,ALUS=DZ,H,ALU,YDST=PSHIFT
CONT A=CF530,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT4
;*** 5,6
CONT ALUS=DZ,Н,ALUD=ВА,RА=DADR,RВ=Y,ALU,CSM,WЕМ,MNSA=МР,MODNM=ACR,DSRC=SHIFT
>,SHF=LOG
CONT ALUS=DZ,Н,ALUD=ВА,RА=DADR,RВ=A,ALU,DSRC=SHIFT,MPS,PSHF=SH0+32,SHF=LOG
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=CMP,MAP=PE,ALUS=ZA,RA=DADR,H,ALUD=B,RB=A
CJP A=CT12,MAP=PE,%TIK%
;
;
TAKT13:ENTRY
;===== ИЗ МПС (C ВЫХОДА А) - ЧЕРЕЗ СДВИГАТЕЛЬ - В БОИ ДАННЫХ (ПО А)
;
CJP A=TAK13,MAP=PE
TAK13:CONT A=H13,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT13:CONT %CLRTYP%
CONT %TYPE%,CYSTR=NT9
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=SL32,DSRC=PROM,ALUS=DZ,H,ALU,YDST=PSHIFT
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT4
;*** 1
CONT ALUS=ZB,RB=DADR,Н,ALUD=ВА,RА=A,ALU,DSRC=SHIFT,SHF=LOG,ECA,WRA,ARA=RG2
CONT ALUS=DZ,Н,ALUD=ВА,RА=A,RВ=A,ALU,DSRC=SHIFT,MPS,PSHF=SH0-32,SHF=LOG
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C005A,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT4
;*** 2
CONT ALUS=ZB,RB=DADR,Н,ALUD=ВА,RА=A,ALU,DSRC=SHIFT,MPS,PSHF=SH0-32,SHF=LOG
>,ECA,WRA,ARA=RG1
CONT ALUS=DZ,Н,ALUD=ВА,RА=A,RВ=A,ALU,DSRC=SHIFT,MPS,PSHF=SH0-32,SHF=LOG
CJS A=CMP,MAP=PE,ECA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=SR32,DSRC=PROM,ALUS=DZ,H,ALU,YDST=PSHIFT
CONT A=CF530,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT4
;*** 3
CONT ALUS=ZB,RB=DADR,Н,ALUD=ВА,RА=A,ALU,DSRC=SHIFT,SHF=LOG,ECA,WRA,ARA=RG2
CONT ALUS=DZ,Н,ALUD=ВА,RА=A,RВ=A,ALU,DSRC=SHIFT,MPS,PSHF=SH0+32,SHF=LOG
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C005A,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT4
;*** 4
CONT ALUS=ZB,RB=DADR,Н,ALUD=ВА,RА=A,ALU,DSRC=SHIFT,MPS,PSHF=SH0+32,SHF=LOG
>,ECA,WRA,ARA=RG1
CONT ALUS=DZ,Н,ALUD=ВА,RА=A,RВ=A,ALU,DSRC=SHIFT,MPS,PSHF=SH0+32,SHF=LOG
CJS A=CMP,MAP=PE,ECA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT13,MAP=PE,%TIK%
;
;
TAKT14:ENTRY
;===== ИЗ МПС (ПОСЛЕ АЛУ, C ВЫХОДА B) - ЧЕРЕЗ СДВИГАТЕЛЬ - В БОИ ДАННЫХ (ПО А)
;
CJP A=TAK14,MAP=PE
TAK14:CONT A=H14,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT14:CONT %CLRTYP%
CONT %TYPE%,CYSTR=NT9
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=SL32,DSRC=PROM,ALUS=DZ,H,ALU,YDST=PSHIFT
CONT A=MNH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT4
;*** 1
CONT ALUS=AB,RA=DADR,RB=Y,FUNC=OR,Н,DSRC=SHIFT,SHF=LOG,ECA,WRA,ARA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MB2,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MQ4,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT4
;*** 2
CONT ALUS=AB,RA=DADR,RB=Y,FUNC=ADD,Н,ALU,DSRC=SHIFT,MPS,PSHF=SH0-48,SHF=LOG
>,ECA,WRA,ARA=RG1
CJS A=CMP,MAP=PE,ECA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=SR32,DSRC=PROM,ALUS=DZ,H,ALU,YDST=PSHIFT
CONT A=B9,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B33,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT4
;*** 3
CONT ALUS=AQ,RA=DADR,FUNC=SUBR,Н,CI,ALUD=B,RB=Y,ALU,DSRC=SHIFT,SHF=CICL,ECA,WRA
>,ARA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MQ,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT4
;*** 4
CONT ALUS=AB,RA=Y,RB=DADR,FUNC=EXOR,Н,ALUD=Q,ALU,DSRC=SHIFT,MPS,PSHF=SH0+48
>,SHF=LOG,ECA,WRA,ARA=RG1
CJS A=CMP,MAP=PE,ECA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT14,MAP=PE,%TIK%
;
;
TAKT15:ENTRY
;===== ИЗ БОИ ДАННЫХ (ПО В) - ЧЕРЕЗ СДВИГАТЕЛЬ - В БОИ ДАННЫХ (ПО А)
;
CJP A=TAK15,MAP=PE
TAK15:CONT A=H15,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT15:CONT %CLRTYP%
CONT %TYPE%,CYSTR=NT9
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=SL32,DSRC=PROM,ALUS=DZ,H,ALU,YDST=PSHIFT
CONT A=C555,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1
CONT ECB,BRA=RG1,DSRC=SHIFT,SHF=LOG,ECA,WRA,ARA=RG2
CONT A=MNH,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,Н,ALUD=В,RВ=A
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C0F,DSRC=PROM,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 2
CONT ECB,BRA=RG0,DSRC=SHIFT,MPS,PSHF=SH0-4,SHF=LOG,ECA,WRA,ARA=RG1
CONT A=CF0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,ECA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=SR32,DSRC=PROM,ALUS=DZ,H,ALU,YDST=PSHIFT
CONT A=MNH,DSRC=PROM,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 3
CONT ECB,BRA=RG3,DSRC=SHIFT,SHF=LOG,ECA,WRA,ARA=RG2
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 4
CONT ECB,BRA=RG0,DSRC=SHIFT,MPS,PSHF=SH0+63,SHF=LOG,ECA,WRA,ARA=RG1
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,ECA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT15,MAP=PE,%TIK%
;
;
TAKT16:ENTRY
;===== БОИ ДАННЫХ (B) - ЧЕРЕЗ СДВИГАТЕЛЬ - В МПС + ЛОГ.ОПЕРАЦИЯ
;
CJP A=TAK16,MAP=PE
TAK16:CONT A=H16,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT16:CONT %CLRTYP%
CONT %TYPE%,CYSTR=NT9
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MNH,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MH,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=DADR
CONT ALUS=AB,RA=DADR,RB=A,FUNC=OR,H,ALUD=B,CYSTR=NT5
;*** 1
CJS A=CMP,MAP=PE,ЕСВ,BRA=RG2,DSRC=SHIFT,MPS,PSHF=SН0-32,SHF=LOG,ALUS=DА
>,RА=DADR,FUNC=OR,Н,ALUD=В,RВ=Y
CONT %TYPE%
CONT A=CF0,DSRC=PROM,ECA,WRA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MNH,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A
CONT A=B8,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MH,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=DADR
CONT ALUS=AB,RA=DADR,RB=A,FUNC=OR,H,ALUD=B,CYSTR=NT5
;*** 2
CJS A=CMP,MAP=PE,ЕСВ,BRA=RG0,DSRC=SHIFT,MPS,PSHF=SН0-32,SHF=LOG,ALUS=DА
>,RА=DADR,FUNC=OR,Н,ALUD=В,RВ=Y
CJP A=CT16,MAP=PE,%TIK%
;
;
TAKT17:ENTRY
;===== БОИ ТЕГА - ЧЕРЕЗ СДВИГАТЕЛЬ - В МПС + ЛОГ.ОПЕРАЦИЯ
;
CJP A=TAK17,MAP=PE
TAK17:CONT A=H17,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT17:CONT %CLRTYP%
CONT %TYPE%,CYSTR=NT9
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
CONT A=MB,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT5
;*** 1
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG1,%TRSH%,ALUS=DА,RА=Y,FUNC=AND,Н
>,ALUD=В,RВ=Y
CONT A=C7,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
CONT A=MB,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A,CYSTR=NT5
;*** 2
CONT YDEVT=ECBTAG,BRA=RG1,%TRSH%,ALUS=DZ,ALUD=В,RВ=Y
CONT A=MB,DSRC=PROM,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B8,DSRC=PROM,ALUS=DZ,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
CONT A=B16,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT5
;*** 3
CONT YDEVT=ECBTAG,BRA=RG2,DSRC=SHIFT,MPS,PSHF=SH0-8,SHF=LOG,ALUS=DZ,ALUD=В,RВ=Y
CONT A=MB2ZZZ,DSRC=PROM,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
CONT ALUS=DZ,H,ALUD=BA,RA=A,RB=A,ALU,DSRC=SHIFT,MPS,PSHF=SH0-16,SHF=LOG
CONT A=MB3,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A
CONT A=MB3,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT5
;*** 4
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG2,DSRC=SHIFT,MPS,PSHF=SH0-16,SHF=LOG
>,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=В,RВ=Y
CJP A=CT17,MAP=PE,%TIK%
;
;
TAKT18:ENTRY
;===== АИСП. - ЧЕРЕЗ СДВИГАТЕЛЬ - В МПС + СЛОЖЕНИЕ C "0";
;      АИСП. - ЧЕРЕЗ БОИ - В МПС + СЛОЖЕНИЕ C "0";
;   (СРАВНИВАЕМ ПЕРЕСЫЛКУ С ШИНЫ D НА Y РАЗНЫМИ СПОСОБАМИ!)
;
CJP A=TAK18,MAP=PE
TAK18:CONT A=H18,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT18:CONT %CLRTYP%
CONT %TYPE%,CYSTR=NT9
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADDREG,CYSTR=NT3
;*** 1: ЧЕРЕЗ СДВИГАТЕЛЬ
CJS A=CMP,MAP=PE,YDEV=RADRR,%TRSH%,ALUS=DZ,Н,ALUD=В,RВ=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADDREG,CYSTR=NT3
;*** 2
CJS A=CMP,MAP=PE,YDEV=RADRR,%TRSH%,ALUS=DZ,Н,ALUD=В,RВ=Y
CONT %TYPE%
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADDREG,CYSTR=NT3
;*** 3
CJS A=CMP,MAP=PE,YDEV=RADRR,%TRSH%,ALUS=DZ,Н,ALUD=В,RВ=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADDREG,CYSTR=NT3
;*** 4: ЧЕРЕЗ БОИ
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR0%,ALUS=DZ,Н,ALUD=В,RВ=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADDREG,CYSTR=NT3
;*** 5
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,Н,ALUD=В,RВ=Y
CONT %TYPE%
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADDREG,CYSTR=NT3
;*** 6
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR2%,ALUS=DZ,Н,ALUD=В,RВ=Y
CJP A=CT18,MAP=PE,%TIK%
;
;      П Л Е
;     =======
;
TAKT19:ENTRY
;===== ИЗ МПС - ЧЕРЕЗ БЛОК ПЛЕ - В БОИ
;
CJP A=TAK19,MAP=PE
TAK19:CONT A=H19,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT19:CONT %CLRTYP%,CYSTR=NT9
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 1: FUNC=ADD C 0
CONT ALUS=ZA,RA=DADR,H,ALU,DSRC=LOS,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 2
CONT ALUS=ZA,RA=DADR,H,ALU,DSRC=LOS,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=H1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=H3F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 3
CONT ALUS=ZA,RA=DADR,H,ALU,DSRC=LOS,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=B33,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=H20,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 4
CONT ALUS=ZA,RA=DADR,H,ALU,DSRC=LOS,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 5: FUNC=OR C 0
CONT ALUS=ZA,RA=DADR,FUNC=OR,H,ALU,DSRC=LOS,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 6
CONT ALUS=ZA,RA=DADR,FUNC=OR,H,ALU,DSRC=LOS,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=H1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=H3F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 7
CONT ALUS=ZA,RA=DADR,FUNC=OR,H,ALU,DSRC=LOS,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=B33,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=H20,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 8
CONT ALUS=ZA,RA=DADR,FUNC=OR,H,ALU,DSRC=LOS,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 9: В МПС ВЫХОД ПО А
CONT ALUS=ZB,RB=HALF,H,ALUD=BA,RA=DADR,ALU,DSRC=LOS,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** A
CONT ALUS=ZB,RB=HALF,H,ALUD=BA,RA=DADR,ALU,DSRC=LOS,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=H1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=H3F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** B
CONT ALUS=ZB,RB=HALF,H,ALUD=BA,RA=DADR,ALU,DSRC=LOS,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=B32,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=H20,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** C
CONT ALUS=ZB,RB=HALF,H,ALUD=BA,RA=DADR,ALU,DSRC=LOS,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT19,MAP=PE,%TIK%
;
;
TAKT1A:ENTRY
;===== ИЗ МПС - ЧЕРЕЗ ПЛЕ - В МПС (+ ЛОГ. ОПЕРАЦИЯ)
;
CJP A=TAK1A,MAP=PE
TAK1A:CONT A=H1A,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT1A:CONT %CLRTYP%
CONT %TYPE%,CYSTR=NT9
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1: ADD C 0
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=LOS
CONT %TYPE%
CONT A=B63,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B3,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=H5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 2: OR
CJS A=CMP,MAP=PE,ALUS=DQ,FUNC=OR,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=LOS
CONT %TYPE%
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 3: ADD C 0 + CI
CJS A=CMP,MAP=PE,ALUS=DZ,H,CI,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=LOS
CONT %TYPE%
CONT A=B2,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=H3F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 4: OR
CJS A=CMP,MAP=PE,ALUS=DQ,FUNC=OR,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=LOS
CONT %TYPE%
CONT A=B63,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 5: ADD C 0
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=LOS
CONT %TYPE%
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=H41,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 6: ADD + CI
CJS A=CMP,MAP=PE,ALUS=DA,RA=DADR,H,CI,ALUD=BA,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CONT %TYPE%
CONT A=B32,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=H20,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 7: SUBR
CJS A=CMP,MAP=PE,ALUS=DQ,FUNC=SUBR,H,CI,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=LOS
CJP A=CT1A,MAP=PE,%TIK%
;
;
TAKT1B:ENTRY
;===== ИЗ МПС - ЧЕРЕЗ ПЛЕ - В МПС; ОДНОВРЕМЕННО - ЗАПИСЬ В ОЗУ МОДИФ.
;   ЗАПИСЬ В МПС ПОСЛЕ ПЛЕ - ПОЗЖЕ, ЧЕМ ЗАПИСЬ В ОЗУ МОД.?
;
CJP A=TAK1B,MAP=PE
TAK1B:CONT A=H1B,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT1B:CONT %CLRTYP%
CONT %TYPE%,CYSTR=NT9
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1,2: ADD C 0
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=LOS,CSM,WEM,MNSA=MP
>,MODNM=ASR
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT ALUS=DA,RA=DADR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=MP,MODNM=ASR
CONT %TYPE%
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=B63,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B3,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=H5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 3,4: OR
CJS A=CMP,MAP=PE,ALUS=DQ,FUNC=OR,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=LOS
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT ALUS=DA,RA=DADR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=MP,MODNM=ASR
CONT %TYPE%
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 5,6: ADD C 0 + CI
CJS A=CMP,MAP=PE,ALUS=DZ,H,CI,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=LOS
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT ALUS=DA,RA=DADR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=MP,MODNM=ASR
CONT %TYPE%
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=B2,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=H3F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 7,8: OR
CJS A=CMP,MAP=PE,ALUS=DQ,FUNC=OR,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=LOS
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT ALUS=DA,RA=DADR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=MP,MODNM=ASR
CONT %TYPE%
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=B63,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 9,A: ADD C 0
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=LOS
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT ALUS=DA,RA=DADR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=MP,MODNM=ASR
CONT %TYPE%
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=H41,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** B,C: ADD + CI
CJS A=CMP,MAP=PE,ALUS=DA,RA=DADR,H,CI,ALUD=BA,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT ALUS=DA,RA=DADR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=MP,MODNM=ASR
CONT %TYPE%
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=B32,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=H20,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** D,E: SUBR
CJS A=CMP,MAP=PE,ALUS=DQ,FUNC=SUBR,H,CI,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=LOS
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT ALUS=DA,RA=DADR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=MP,MODNM=ASR
CJP A=CT1B,MAP=PE,%TIK%
;
;
TAKT1C:ENTRY
;===== ИЗ МПС (C ВЫХОДА А) - ЧЕРЕЗ ПЛЕ - В БОИ ДАННЫХ (ПО А)
;
CJP A=TAK1C,MAP=PE
TAK1C:CONT A=H1C,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT1C:CONT %CLRTYP%
CONT %TYPE%,CYSTR=NT9
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 1
CONT ALUS=ZB,RB=DADR,Н,ALUD=ВА,RА=DADR,ALU,DSRC=LOS,ECA,WRA,ARA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=H3F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 2
CONT ALUS=ZB,RB=DADR,Н,ALUD=ВА,RА=DADR,ALU,DSRC=LOS,ECA,WRA,ARA=RG1
CJS A=CMP,MAP=PE,ECA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=H20,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 3
CONT ALUS=ZA,RA=DADR,Н,CI,ALU,DSRC=LOS,ECA,WRA,ARA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 4
CONT ALUS=ZA,RA=DADR,Н,CI,ALU,DSRC=LOS,ECA,WRA,ARA=RG1
CJS A=CMP,MAP=PE,ECA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT1C,MAP=PE,%TIK%
;
;
TAKT1D:ENTRY
;===== ИЗ БОИ ДАННЫХ (ПО В) - ЧЕРЕЗ ПЛЕ - В БОИ ДАННЫХ (ПО А)
;
CJP A=TAK1D,MAP=PE
TAK1D:CONT A=H1D,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT1D:CONT %CLRTYP%
CONT %TYPE%,CYSTR=NT9
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C555,DSRC=PROM,ECA,WRA,ARA=RG1,CYSTR=NT3
;*** 1
CONT ECB,BRA=RG1,DSRC=LOS,ECA,WRA,ARA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 2
CONT ECB,BRA=RG0,DSRC=LOS,ECA,WRA,ARA=RG1
CJS A=CMP,MAP=PE,ECA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 3
CONT ECB,BRA=RG3,DSRC=LOS,ECA,WRA,ARA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=H20,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=B32,DSRC=PROM,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 4
CONT ECB,BRA=RG0,DSRC=LOS,ECA,WRA,ARA=RG1
CJS A=CMP,MAP=PE,ECA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT1D,MAP=PE,%TIK%
;
;
TAKT1E:ENTRY
;===== БОИ ДАННЫХ (B) - ЧЕРЕЗ ПЛЕ - В МПС + ЛОГ.ОПЕРАЦИЯ
;
CJP A=TAK1E,MAP=PE
TAK1E:CONT A=H1E,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT1E:CONT %CLRTYP%
CONT %TYPE%,CYSTR=NT9
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=C555,DSRC=PROM,ECA,WRA,ARA=RG2
CONT A=H7,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 1
CJS A=CMP,MAP=PE,ЕСВ,BRA=RG2,DSRC=LOS,ALUS=DА,RА=DADR,FUNC=OR,Н,ALUD=В,RВ=Y
CONT %TYPE%
CONT A=B33,DSRC=PROM,ECA,WRA,ARA=RG0
CONT A=H20,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 2
CJS A=CMP,MAP=PE,ЕСВ,BRA=RG0,DSRC=LOS,ALUS=DА,RА=DADR,FUNC=ADD,Н,CI,ALUD=В,RВ=Y
CONT %TYPE%
CONT A=ZER,DSRC=PROM,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 3
CJS A=CMP,MAP=PE,ЕСВ,BRA=RG0,DSRC=LOS,ALUS=DА,RА=DADR,FUNC=ADD,Н,CI,ALUD=В,RВ=Y
CONT %TYPE%
CONT A=B2,DSRC=PROM,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=H3E,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 4
CJS A=CMP,MAP=PE,ЕСВ,BRA=RG0,DSRC=LOS,ALUS=DА,RА=DADR,FUNC=SUBS,Н,CI,ALUD=В,RВ=Y
CJP A=CT1E,MAP=PE,%TIK%
;
;    АДРЕС КОМАНДЫ
;    =============
;
TAKT1F:ENTRY
;===== АДРЕС КОМАНДЫ В НР - В ПРИЕМНИКИ ШИНЫ D: БОИ, МПС
;
CJP A=TAK1F,MAP=PE
TAK1F:CONT A=H1F,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT1F:CONT %CLRTYP%,CYSTR=NT9
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,FFCNT=CLRRC
CONT %TYPE%,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A,FFCNT=SETNR
CONT A=MNADR,DSRC=PROM,ALUS=DA,RA=A,FUNC=OR,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1: БОИ
CONT DSRC=COMA,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MADR,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A,CYSTR=NT3
;*** 2
CONT DSRC=COMA,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MNADR,DSRC=PROM,ALUS=DA,RA=A,FUNC=OR,H,ALUD=B,RB=A,CYSTR=NT3
;*** 3: АЛУ, СЛОЖЕНИЕ С 0
CONT DSRC=COMA,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MADR,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A,CYSTR=NT3
;*** 4
CONT DSRC=COMA,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MNADR,DSRC=PROM,ALUS=DA,RA=A,FUNC=OR,H,ALUD=B,RB=A,CYSTR=NT3
;*** 5: АЛУ, OR С 0
CONT DSRC=COMA,ALUS=DZ,FUNC=OR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MADR,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A,CYSTR=NT3
;*** 6
CONT DSRC=COMA,ALUS=DZ,FUNC=OR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MQ,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MQ,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A,CYSTR=NT3
;*** 7: АЛУ, AND C FFFF
CONT DSRC=COMA,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MQ,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MQ,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A,CYSTR=NT3
;*** 8
CONT DSRC=COMA,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A,CYSTR=NT3
;*** 9: АЛУ, AND C FF
CONT DSRC=COMA,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A,CYSTR=NT3
;*** A
CONT DSRC=COMA,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT1F,MAP=PE,%TIK%
;
;
TAKT20:ENTRY
;===== АДРЕС КОМАНДЫ В РЭ - В ПРИЕМНИКИ ШИНЫ D: БОИ, МПС
;
CJP A=TAK20,MAP=PE
TAK20:CONT A=H20,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
;УСТАНАВЛИВАЕМ РЭ
CONT A=CTEST,DSRC=PROM,ALUS=DZ,ALU,YDST=CNT,FFCNT=CLRTKK
CONT A=C3,DSRC=PROM,ALUS=DZ,ALU,YDST=ADRREG,YDEVT=ECBTAG,WRB,BRA=RG3
CONT YDEV=PHYSAD,ECB,WRB,BRA=RG0,ARBI=DWR
WA:CJP A=WA,%WA%
CONT YDEV=PHYSAD,ARBI=FETCH
WAR:CJP A=WAR,%WA%
CT20:CONT %CLRTYP%,CYSTR=NT9
CONT A=M15,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,FFCNT=CLRRC
CONT %TYPE%,FFCNT=CLRTKK
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1: БОИ В РЭ, КОМ.СЛОВО = FFFF
CONT DSRC=COMA,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=ZER,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 2: КОМ.СЛОВО = 0
CONT DSRC=COMA,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=B37,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 3: АК = 1
CONT DSRC=COMA,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%,FFCNT=SETTKK
CONT A=B13,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 4: ПК, АК = 1
CONT DSRC=COMA,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=B32,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 5: АК = 0
CONT DSRC=COMA,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=B31,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=CAK,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 6: 111 - В КОРОТКИЙ АДРЕС
CONT DSRC=COMA,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 7: АЛУ, СЛОЖЕНИЕ С 0, КОМ.СЛОВО = 0
CONT DSRC=COMA,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 8: КОМ.СЛОВО = FFFF
CONT DSRC=COMA,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B37,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 9: АК = 1
CONT DSRC=COMA,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%,FFCNT=SETTKK
CONT A=B13,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** A: ПК, АК = 1
CONT DSRC=COMA,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B32,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** B: АК = 0
CONT DSRC=COMA,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B31,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=CAK,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** C: 111 - В КОРОТКИЙ АДРЕС
CONT DSRC=COMA,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=ZER,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** D: АЛУ, OR С 0, КОМ.СЛОВО = FFFF
CONT DSRC=COMA,ALUS=DZ,FUNC=OR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** E: КОМ.СЛОВО = 0
CONT DSRC=COMA,ALUS=DZ,FUNC=OR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B37,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** F: АК = 1
CONT DSRC=COMA,ALUS=DZ,FUNC=OR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%,FFCNT=SETTKK
CONT A=B13,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 10: ПК, АК = 1
CONT DSRC=COMA,ALUS=DZ,FUNC=OR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B32,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 11: АК = 0
CONT DSRC=COMA,ALUS=DZ,FUNC=OR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B31,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=CAK,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 12: 111 - В КОРОТКИЙ АДРЕС
CONT DSRC=COMA,ALUS=DZ,FUNC=OR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=ZER,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 13: АЛУ, АРИФМ.ОПЕРАЦИИ: СЛОЖЕНИЕ,ВЫЧИТАНИЕ; КОМ.СЛОВО = 0
CONT DSRC=COMA,ALUS=DA,RA=DADR,FUNC=ADD,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 14: КОМ.СЛОВО = FFFF
CONT DSRC=COMA,ALUS=DZ,FUNC=ADD,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B37,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 15: АК = 1
CONT DSRC=COMA,ALUS=DA,RA=DADR,FUNC=SUBR,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%,FFCNT=SETTKK
CONT A=B13,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 16: ПК, АК = 1
CONT DSRC=COMA,ALUS=DA,RA=DADR,FUNC=SUBR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B32,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 17: АК = 0
CONT DSRC=COMA,ALUS=DA,RA=DADR,FUNC=ADD,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B31,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=CAK,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 18: 111 - В КОРОТКИЙ АДРЕС
CONT DSRC=COMA,ALUS=DA,RA=DADR,FUNC=ADD,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A,CYSTR=NT3
;*** 19: АЛУ, AND C FF
CONT DSRC=COMA,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAK,DSRC=PROM,ALUS=DA,RA=A,FUNC=OR,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1A
CONT DSRC=COMA,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT20,MAP=PE,%TIK%
;
;    КОП КОМАНДЫ
;    ===========
;
TAKT21:ENTRY
;===== КОП КОМАНДЫ В НР - В ПРИЕМНИКИ ШИНЫ D: БОИ, МПС
;
CJP A=TAK21,MAP=PE
TAK21:CONT A=H21,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT21:CONT %CLRTYP%,CYSTR=NT9,FFCNT=SETNR
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,FFCNT=CLRRC
CONT %TYPE%,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1: БОИ
CONT DSRC=OPC,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 2
CONT DSRC=OPC,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 3: АЛУ, СЛОЖЕНИЕ С 0
CONT DSRC=OPC,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 4
CONT DSRC=OPC,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 5: АЛУ, OR С 0
CONT DSRC=OPC,ALUS=DZ,FUNC=OR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 6
CONT DSRC=OPC,ALUS=DZ,FUNC=OR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=HF,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A,CYSTR=NT3
;*** 7: АЛУ, AND C F
CONT DSRC=OPC,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=HF,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A,CYSTR=NT3
;*** 8
CONT DSRC=OPC,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=H3F,DSRC=PROM,ECA,WRA,ARA=RG2,FFCNT=SETTKK
CONT ECB,BRA=RG2,DSRC=SHIFT,MPS,PSHF=SH0-20,SHF=LOG,ECA,WRA,ARA=RG1
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 9: ДОПОЛНИТЕЛЬНЫЙ КОП; OR C 0
CONT DSRC=OPC,ALUS=DZ,FUNC=OR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=H3F,DSRC=PROM,ECA,WRA,ARA=RG2,FFCNT=CLRTKK
CONT ECB,BRA=RG2,DSRC=SHIFT,MPS,PSHF=SH0-52,SHF=LOG,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B46,ALUS=DA,RA=DADR,FUNC=OR,H,ALU,ECB,WRB,BRA=RG1
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
CONT A=C555,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** A
CONT DSRC=OPC,ALUS=DZ,FUNC=OR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=H3F,DSRC=PROM,ECA,WRA,ARA=RG2,FFCNT=SETTKK
CONT ECB,BRA=RG2,DSRC=SHIFT,MPS,PSHF=SH0-20,SHF=LOG,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MB3,ALUS=DA,RA=DADR,FUNC=OR,H,ALU,ECB,WRB,BRA=RG1
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** B: АЛУ, AND C CONST
CONT DSRC=OPC,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=H3F,DSRC=PROM,ECA,WRA,ARA=RG2,FFCNT=SETTKK
CONT ECB,BRA=RG2,DSRC=SHIFT,MPS,PSHF=SH0-20,SHF=LOG,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MB3,ALUS=DA,RA=DADR,FUNC=OR,H,ALU,ECB,WRB,BRA=RG1
CONT A=H30,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=H3F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** C
CONT DSRC=OPC,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT21,MAP=PE,%TIK%
;
;
TAKT22:ENTRY
;===== КОП КОМАНДЫ В РЭ - В ПРИЕМНИКИ ШИНЫ D: БОИ, МПС
;
CJP A=TAK22,MAP=PE
TAK22:CONT A=H22,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
;УСТАНАВЛИВАЕМ РЭ
CONT A=CTEST,DSRC=PROM,ALUS=DZ,ALU,YDST=CNT,FFCNT=CLRTKK
CONT A=C3,DSRC=PROM,ALUS=DZ,ALU,YDST=ADRREG,YDEVT=ECBTAG,WRB,BRA=RG3
CONT YDEV=PHYSAD,ECB,WRB,BRA=RG0,ARBI=DWR
WA22:CJP A=WA22,%WA%
CONT YDEV=PHYSAD,ARBI=FETCH
WAR22:CJP A=WAR22,%WA%
CT22:CONT %CLRTYP%,CYSTR=NT9
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,FFCNT=CLRRC
CONT %TYPE%,FFCNT=CLRTKK
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=CF8,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1: БОИ В РЭ, КОМ.СЛОВО = FFFF
CONT DSRC=OPC,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=ZER,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 2: КОМ.СЛОВО = 0
CONT DSRC=OPC,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=B49,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 3: KОП = 1
CONT DSRC=OPC,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%,FFCNT=SETTKK
CONT A=B32,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=H80,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 4: ПК, КОП = H80
CONT DSRC=OPC,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=B31,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=H40,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 5: КОП = H40
CONT DSRC=OPC,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=B31,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B25,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=OR,H,ALU,ECB,WRB,BRA=RG1
CONT A=H41,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 6: КОП = H41
CONT DSRC=OPC,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CF8,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 7: АЛУ, СЛОЖЕНИЕ С 0, КОМ.СЛОВО = FFFF
CONT DSRC=OPC,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=ZER,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 8: КОМ.СЛОВО = 0
CONT DSRC=OPC,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B49,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 9: KОП = 1, OR C 0
CONT DSRC=OPC,ALUS=DZ,FUNC=OR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%,FFCNT=SETTKK
CONT A=B32,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=H80,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** A: ПК, КОП = H80
CONT DSRC=OPC,ALUS=DZ,FUNC=OR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B31,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=H40,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** B: КОП = H40
CONT DSRC=OPC,ALUS=DZ,FUNC=OR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B31,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B25,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=OR,H,ALU,ECB,WRB,BRA=RG1
CONT A=H41,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** C: КОП = H41
CONT DSRC=OPC,ALUS=DZ,FUNC=OR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,FFCNT=CLRTKK
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=CF8,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** D: АЛУ, AND С FF, КОМ.СЛОВО = FFFF
CONT DSRC=OPC,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=ZER,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** E: КОМ.СЛОВО = 0
CONT DSRC=OPC,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B49,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** F: KОП = 1
CONT DSRC=OPC,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%,FFCNT=SETTKK
CONT A=B32,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=H80,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 10: ПК, КОП = H80
CONT DSRC=OPC,ALUS=DQ,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B31,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=H40,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 11: КОП = H40
CONT DSRC=OPC,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B31,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=B25,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=OR,H,ALU,ECB,WRB,BRA=RG1
CONT A=H41,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 12: КОП = H41
CONT DSRC=OPC,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT22,MAP=PE,%TIK%
;
;     ОДНОВРЕМЕННО С ЗАПИСЬЮ В ОЗУ МОД.
;     =================================
;
TAKT23:ENTRY
;===== ОДНОВРЕМЕННО: СТАТУС - В МПС; МПС (A)  - В ОЗУ МОДИФ.
;   ВОЗМОЖНО, НАДО NT5 !?!?
;
CJP A=TAK23,MAP=PE
TAK23:CONT A=H23,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT23:CONT %CLRTYP%,CYSTR=NT9
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT4
;*** 1,2
CONT SТОРС=32,DDEV=STATUS,ALUS=DZ,ALUD=ВА,RА=DADR,RВ=Y,ALU,CSM,WЕМ
>,MNSA=МР,MODNM=ACR
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=CMP,MAP=PE,ALUS=ZA,RA=DADR,H,ALUD=B,RB=A
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT4
;*** 3,4
CONT SТОРС=32,DDEV=STATUS,ALUS=DZ,ALUD=ВА,RА=DADR,RВ=Y,ALU,CSM,WЕМ
>,MNSA=МР,MODNM=ACR
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=CMP,MAP=PE,ALUS=ZA,RA=DADR,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT4
;*** 5,6
CONT SТОРС=32,DDEV=STATUS,ALUS=DZ,ALUD=ВА,RА=DADR,RВ=Y,ALU,CSM,WЕМ
>,MNSA=МР,MODNM=ACR
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=CMP,MAP=PE,ALUS=ZA,RA=DADR,H,ALUD=B,RB=A
CJP A=CT23,MAP=PE,%TIK%
;
;
TAKT24:ENTRY
;===== ОДНОВРЕМЕННО: КОП АРБИТРА - В МПС; МПС (A) - В ОЗУ МОДИФ.
;   M.Б. НАДО NT5 !?!?
;
CJP A=TAK24,MAP=PE
TAK24:CONT A=H24,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT24:CONT %CLRTYP%,CYSTR=NT9
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT4
;*** 1,2
CONT DSRC=ARBOPC,ALUS=DZ,ALUD=ВА,RА=DADR,RВ=Y,ALU,CSM,WЕМ,MNSA=МР,MODNM=ACR
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=CMP,MAP=PE,ALUS=ZA,RA=DADR,H,ALUD=B,RB=A
CONT A=C7,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=C005A,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT4
;*** 3,4
CONT DSRC=ARBOPC,ALUS=DZ,ALUD=ВА,RА=DADR,RВ=Y,ALU,CSM,WЕМ,MNSA=МР,MODNM=ACL
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=CMP,MAP=PE,ALUS=ZA,RA=DADR,H,ALUD=B,RB=A
CONT A=B7,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT4
;*** 5,6
CONT DSRC=ARBOPC,ALUS=DZ,ALUD=ВА,RА=DADR,RВ=Y,ALU,CSM,WЕМ,MNSA=МР,MODNM=ACR
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=CMP,MAP=PE,ALUS=ZA,RA=DADR,H,ALUD=B,RB=A
CJP A=CT24,MAP=PE,%TIK%
;
;
TAKT25:ENTRY
;===== ОДНОВРЕМЕННО: ПЗУ - В МПС + ОПЕРАЦИЯ; МПС (А) - В ОЗУ МОД.
;
CJP A=TAK25,MAP=PE
TAK25:CONT A=H25,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT25:CONT %CLRTYP%
CONT %TYPE%,CYSTR=NT9
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=B17,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1,2
CONT А=H1,DSRC=PROM,ALUS=DА,RА=A,FUNC=SUBR,CI,ALUD=ВA,RВ=DADR,ALU
>,CSM,WЕМ,MNSA=МР,MODNM=ACL
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT А=H1,DSRC=PROM,ALUS=DА,RА=Y,FUNC=SUBR,CI,ALUD=В,RВ=A
CJS A=CMP,MAP=PE,ALUS=ZA,RA=DADR,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MQ,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 3,4
CONT А=MB,DSRC=PROM,ALUS=DА,RА=A,FUNC=SUBR,CI,ALUD=ВA,RВ=DADR,ALU
>,CSM,WЕМ,MNSA=МР,MODNM=ACR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT А=MB,DSRC=PROM,ALUS=DА,RА=Y,FUNC=SUBR,CI,ALUD=В,RВ=A
CJS A=CMP,MAP=PE,ALUS=ZA,RA=DADR,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 5,6
CONT А=MQ,DSRC=PROM,ALUS=DА,RА=A,FUNC=AND,H,ALUD=ВA,RВ=DADR,ALU
>,CSM,WЕМ,MNSA=МР,MODNM=ACR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT А=MQ,DSRC=PROM,ALUS=DА,RА=Y,FUNC=AND,H,ALUD=В,RВ=A
CJS A=CMP,MAP=PE,ALUS=ZA,RA=DADR,H,ALUD=B,RB=Y
CJP A=CT25,MAP=PE,%TIK%
;
;     КОМАНДЫ ПОСЛЕ ФИЗ.АДРЕСА
;     ========================
;
TAKT26:ENTRY
;===== КОМАНДЫ РАЗНОЙ ДЛИТЕЛЬНОСТИ ПОСЛЕ ФИЗ.АДРЕСА
;
CJP A=TAK26,MAP=PE
TAK26:CONT A=H26,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT26:CONT %CLRTYP%
CONT A=CTEST,DSRC=PROM,ALUS=DZ,ALU,YDST=CNT,CYSTR=NT9,FFCNT=SETTKK
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,FFCNT=SETRC
CONT A=C1,DSRC=PROM,ALUS=DZ,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MNADR,DSRC=PROM,ALUS=DA,RA=A,FUNC=OR,H,ALUD=B,RB=A
CONT A=C1,DSRC=PROM,ALUS=DZ,ALU,YDST=ADRREG
CONT YDEV=PHYSAD,ECB,WRB,BRA=RG0,ARBI=DWR,CYSTR=NT4
;*** 1: ЧТЕНИЕ АК В БОИ ПРИ ЗАПИСИ ОПЕРАНДА
CONT DSRC=COMA,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 2
CONT DSRC=COMA,ECA,WRA,ARA=RG2
WA:CJP A=WA,%WA%
CONT CYSTR=NT3
;*** 3
CONT DSRC=COMA,ECA,WRA,ARA=RG0
CONT %TYPE%
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,ALUD=B,RB=Y
CONT %TYPE%
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,ALUD=B,RB=Y
CONT %TYPE%
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MADR,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A
CONT A=C1,DSRC=PROM,ALUS=DZ,ALU,YDST=ADRREG
CONT YDEV=PHYSAD,ECB,WRB,BRA=RG0,ARBI=DWR,CYSTR=NT4
;*** 4: ЧТЕНИЕ АК В МПС
CONT DSRC=COMA,ALUS=DZ,FUNC=OR,ALUD=B,RB=Y,CYSTR=NT3
;*** 5
CONT DSRC=COMA,ALUS=DZ,FUNC=OR,ALUD=B,RB=WR4
WA:CJP A=WA,%WA%
CONT CYSTR=NT3
;*** 6
CONT DSRC=COMA,ALUS=DZ,FUNC=OR,ALUD=B,RB=WR5
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=ZA,RA=WR4,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=ZA,RA=WR5,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MB,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C1,DSRC=PROM,ALUS=DZ,ALU,YDST=ADRREG
CONT YDEV=PHYSAD,ECB,WRB,BRA=RG0,ARBI=DRD,CYSTR=NT4
;*** 7: ЧТЕНИЕ АК В МПС ПРИ ЧТЕНИИ ОПЕРАНДА
CONT DSRC=COMA,ALUS=DZ,FUNC=OR,ALUD=B,RB=Y,CYSTR=NT3
;*** 8
CONT DSRC=COMA,ALUS=DZ,FUNC=OR,ALUD=B,RB=WR4
WA:CJP A=WA,%WA%
CONT CYSTR=NT3
;*** 9
CONT DSRC=COMA,ALUS=DZ,FUNC=OR,ALUD=B,RB=WR5
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=ZA,RA=WR4,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=ZA,RA=WR5,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C1,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C1,DSRC=PROM,ALUS=DZ,ALU,YDST=ADRREG
CONT YDEV=PHYSAD,ECB,WRB,BRA=RG0,ARBI=FETCH,CYSTR=NT4
;*** A: ЧТЕНИЕ АК В МПС ПРИ ВКС
CONT DSRC=COMA,ALUS=DZ,FUNC=OR,ALUD=B,RB=Y,CYSTR=NT3
;*** B
CONT DSRC=COMA,ALUS=DZ,FUNC=OR,ALUD=B,RB=WR4
WA:CJP A=WA,%WA%
CONT CYSTR=NT3
;*** C
CONT DSRC=COMA,ALUS=DZ,FUNC=OR,ALUD=B,RB=WR5
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=ZA,RA=WR4,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=ZA,RA=WR5,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=ZER,DSRC=PROM,ALUS=DZ,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CONT A=HAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C1,DSRC=PROM,ALUS=DZ,ALU,YDST=ADRREG
CONT YDEV=PHYSAD,ECB,WRB,BRA=RG0,ARBI=DWR,CYSTR=NT4
;*** D:  ИЗ ПЗУ + ОПЕРАЦИЯ В АЛУ - В ОЗУ МОДИФИКАТОРОВ, ПРИ ЗАПИСИ ОПЕРАНДА
CONT A=CAAA,DSRC=PROM,ALUS=DA,RA=Y,FUNC=AND,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
>,CYSTR=NT3
;*** E
CONT A=C555,DSRC=PROM,ALUS=DA,RA=Y,FUNC=AND,ALU,CSM,WEM,MNSA=MP,MODNM=ACL
WA:CJP A=WA,%WA%
CONT CYSTR=NT3
;*** F
CONT A=CFFF,DSRC=PROM,ALUS=DA,RA=Y,FUNC=AND,ALU,CSM,WEM,MNSA=MP,MODNM=YCL
CONT %TYPE%
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,ALUD=B,RB=Y
CONT %TYPE%
CONT A=H55,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=YCL,ALUS=DZ,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=ZER,DSRC=PROM,ALUS=DZ,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,ALU,YDST=ADRREG
CONT YDEV=PHYSAD,ECB,WRB,BRA=RG0,ARBI=DWR,CYSTR=NT4
;*** 10: СДВИГ В СДВИГАТЕЛЕ ПРИ ЗАПИСИ ОПЕРАНДА
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS,PSHF=SH0-14,SHF=LOG
>,CYSTR=NT3
;*** 11
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=WR4,ALU,DSRC=SHIFT,MPS,PSHF=SH0-30,SHF=LOG
WA:CJP A=WA,%WA%
CONT CYSTR=NT3
;*** 12
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=WR5,ALU,DSRC=SHIFT,MPS,PSHF=SH0-63,SHF=LOG
CONT A=B13,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT A=B29,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,ALUS=ZA,RA=WR4,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=B64,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,ALUS=ZA,RA=WR5,H,ALUD=B,RB=Y
CJP A=CT26,MAP=PE,%TIK%
;
;    Р Н Г
;   =======
;
TAKT1:ENTRY
;===== ИЗ РНГ - В ПРИЕМНИКИ ШИНЫ D: БОИ, МПС
;
CJP A=TAK1,MAP=PE
TAK1:CONT A=H1,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT1:CONT %CLRTYP%,CYSTR=NT9
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** 1: БОИ
CONT DSRC=MODGN,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** 2
CONT DSRC=MODGN,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** 3: АЛУ, СЛОЖЕНИЕ С 0
CONT DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** 4
CONT DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** 5: АЛУ, AND С FFFF
CONT DSRC=MODGN,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** 6
CONT DSRC=MODGN,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** 7: АЛУ, EXNOR С FFFF: NOT(R.EOR.S)
CONT DSRC=MODGN,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** 8
CONT DSRC=MODGN,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT1,MAP=PE,%TIK%
;
;
TAKT2:ENTRY
;===== ИЗ РНГ ЧЕРЕЗ МПС (+ ОПЕРАЦИЯ!) - В ПРИЕМНИКИ ШИНЫ Y:
;   РНП,АИСП,ОЗУ ПРИПИСОК,БОПП,БОИ ТЕГА,БОИ ДАННЫХ,ОЗУ МОДИФИКАТОРОВ,СТАТУС
;
CJP A=TAK2,MAP=PE
TAK2:CONT A=H2,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT2:CONT %CLRTYP%,CYSTR=NT9
CONT A=HE0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** 1: РНП
CONT DSRC=MODGN,ALUS=DZ,H,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** 2
CONT DSRC=MODGN,ALUS=DZ,H,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** 3: АИСП
CONT DSRC=MODGN,ALUS=DZ,H,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** 4
CONT DSRC=MODGN,ALUS=DZ,H,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** 5: ОЗУ ПРИПИСОК
CONT DSRC=MODGN,ALUS=DZ,H,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** 6
CONT DSRC=MODGN,ALUS=DZ,H,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=HE0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** 7: БОПП
CONT DSRC=MODGN,ALUS=DZ,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** 8
CONT DSRC=MODGN,ALUS=DZ,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=HE0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** 9: БОИ ТЕГА
CONT DSRC=MODGN,ALUS=DZ,H,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CJS A=CMP,MAP=PE,YDEV=ECBTAG,BRA=RG3,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** A
CONT DSRC=MODGN,ALUS=DZ,H,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG2,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** B: БОИ ДАННЫХ
CONT DSRC=MODGN,ALUS=DZ,H,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** C
CONT DSRC=MODGN,ALUS=DZ,H,ALU,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** D: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT DSRC=MODGN,ALUS=DZ,H,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** E
CONT DSRC=MODGN,ALUS=DZ,H,ALU,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** F: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT DSRC=MODGN,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** 10
CONT DSRC=MODGN,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** 11: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- AK
CONT DSRC=MODGN,ALUS=DZ,H,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** 12
CONT DSRC=MODGN,ALUS=DZ,H,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** 13: СТАТУС, РГ.M
CONT DSRC=MODGN,ALUS=DZ,H,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** 14
CONT DSRC=MODGN,ALUS=DZ,H,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT2,MAP=PE,%TIK%
;
;
TAKT3:ENTRY
;===== ИЗ РНГ ЧЕРЕЗ БОИ - В ПРИЕМНИКИ ШИНЫ Y:
;   РНП,АИСП,ОЗУ ПРИПИСОК,БОПП,БОИ ТЕГА,ОЗУ МОДИФИКАТОРОВ,CТАТУС
;
CJP A=TAK3,MAP=PE
TAK3:CONT A=H3,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT3:CONT %CLRTYP%,CYSTR=NT9
CONT A=HE0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** 1: РНП
CONT DSRC=MODGN,%TOYR3%,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** 2
CONT DSRC=MODGN,%TOYR2%,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** 3: АИСП
CONT DSRC=MODGN,%TOYR3%,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** 4
CONT DSRC=MODGN,%TOYR0%,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MOGDN,CYSTR=NT3
;*** 5: ОЗУ ПРИПИСОК
CONT DSRC=MODGN,%TOYR1%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** 6
CONT DSRC=MODGN,%TOYR0%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=HE0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** 7: БОПП
CONT DSRC=MODGN,%TOYR1%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** 8
CONT DSRC=MODGN,%TOYR0%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** 9: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT DSRC=MODGN,%TOYR0%,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** A
CONT DSRC=MODGN,%TOYR1%,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** B: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT DSRC=MODGN,%TOYR2%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** C
CONT DSRC=MODGN,%TOYR0%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** D: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- AK
CONT DSRC=MODGN,%TOYR0%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** E
CONT DSRC=MODGN,%TOYR1%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=HC0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** F: СТАТУС, РГ.M
CONT DSRC=MODGN,%TOYR0%,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=MODGN,CYSTR=NT3
;*** 10
CONT DSRC=MODGN,%TOYR1%,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT3,MAP=PE,%TIK%
;
;      Р Н П
;     =======
;
TAKT4:ENTRY
;===== ИЗ РНП - В ПРИЕМНИКИ ШИНЫ D: БОИ, БОБР+БИЗМ, БМСП, МПС
;
CJP A=TAK4,MAP=PE
TAK4:CONT A=H4,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT4:CONT %CLRTYP%,CYSTR=NT9
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 1: БОИ
CONT DSRC=PROCN,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 2
CONT DSRC=PROCN,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 3: БОБР,БИЗМ
CONT DSRC=PROCN,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 4
CONT DSRC=PROCN,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 5: БМСП
CONT DSRC=PROCN,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 6
CONT DSRC=PROCN,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 7: АЛУ, СЛОЖЕНИЕ С 0
CONT DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 8
CONT DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 9: АЛУ, AND C FFFF
CONT DSRC=PROCN,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** A
CONT DSRC=PROCN,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** B: АЛУ, EXNOR С FFFF
CONT DSRC=PROCN,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** C
CONT DSRC=PROCN,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT А=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,ALU,YDST=PROCN,CYSTR=NT3
;*** D: SUB: CONST - CONST - 1 + CI=1
CONT DSRC=PROCN,ALUS=DA,RA=Y,FUNC=SUBR,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,ALU,YDST=PROCN,CYSTR=NT3
;*** E
CONT DSRC=PROCN,ALUS=DA,RA=Y,FUNC=SUBR,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT4,MAP=PE,%TIK%
;
;
TAKT5:ENTRY
;===== ИЗ РНП ЧЕРЕЗ МПС (+ ОПЕРАЦИЯ!) - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РГ/ТГ,КОП АРБИТРА,АИСП,ОЗУ ПРИПИСОК,БОПП,
;   БОИ ТЕГА,БОИ ДАННЫХ,ОЗУ МОДИФИКАТОРОВ,CТАТУС
;
CJP A=TAK5,MAP=PE
TAK5:CONT A=H5,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT5:CONT %CLRTYP%,CYSTR=NT9
CONT A=HE0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 1: РНГ
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 2
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=M1C,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 3: ТГ.ПРИЗНАКОВ
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 4
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 5: КОП АРБИТРА
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 6
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=APBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 7: АИСП
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 8
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 9: ОЗУ ПРИПИСОК
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** A
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** B: БОПП
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** C
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** D: БОИ ТЕГА
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CJS A=CMP,MAP=PE,YDEV=ECBTAG,BRA=RG3,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** E
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG2,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** F: БОИ ДАННЫХ
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 10
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 11: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 12
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 13: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 14
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 15: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- AK
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 16
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=HC0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 17: СТАТУС, РГ.M
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 18
CONT DSRC=PROCN,ALUS=DZ,FUNC=SUBS,H,CI,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT5,MAP=PE,%TIK%
;
;
TAKT6:ENTRY
;===== ИЗ РНП ЧЕРЕЗ БОИ - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РГ/ТГ,КОП АРБИТРА,АИСП,ОЗУ ПРИПИСОК,БОПП,
;   БОИ ТЕГА,БОИ ДАННЫХ,ОЗУ МОДИФИКАТОРОВ,CТАТУС
;
CJP A=TAK6,MAP=PE
TAK6:CONT A=H6,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT6:CONT %CLRTYP%,CYSTR=NT9
CONT A=HE0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 1: РНГ
CONT DSRC=PROCN,%TOYR3%,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 2
CONT DSRC=PROCN,%TOYR0%,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=H1C,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 3: РГ/ТГ ПРИЗНАКОВ
CONT DSRC=PROCN,%TOYR0%,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 4
CONT DSRC=PROCN,%TOTR0%,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 5: КОП АРБИТРА
CONT DSRC=PROCN,%TOYR2%,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 6
CONT DSRC=PROCN,%TOYR0%,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=APBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 7: АИСП
CONT DSRC=PROCN,%TOYR3%,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 8
CONT DSRC=PROCN,%TOYR0%,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 9: ОЗУ ПРИПИСОК
CONT DSRC=PROCN,%TOYR1%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** A
CONT DSRC=PROCN,%TOYR0%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** B: БОПП
CONT DSRC=PROCN,%TOYR1%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST-PROCN,CYSTR=NT3
;*** C
CONT DSRC=PROCN,%TOYR0%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** D: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT DSRC=PROCN,%TOYR0%,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** E
CONT DSRC=PROCN,%TOYR1%,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** F: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT DSRC=PROCN,%TOYR2%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 10
CONT DSRC=PROM,%TOYR0%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 11: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- AK
CONT DSRC=PROCN,%TOYR0%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 12
CONT DSRC=PROCN,%TOYR1%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=HC0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 13: СТАТУС, РГ.M
CONT DSRC=PROCN,%TOYR0%,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PROCN,CYSTR=NT3
;*** 14
CONT DSRC=PROCN,%TOYR1%,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT6,MAP=PE,%TIK%
;
;     РГ/ТГ ПРИЗНАКОВ
;     ===============
;
TAKT7:ENTRY
;===== ИЗ РГ/ТГ ПРИЗНАКОВ - В ПРИЕМНИКИ ШИНЫ D: БОИ, МПС
;
CJP A=TAK7,MAP=PE
TAK7:CONT A=H7,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT7:CONT %CLRTYP%,CYSTR=NT9
CONT A=MFLFL,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 1: БОИ
CONT DSRC=CNT,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 2
CONT DSRC=CNT,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MFLFL,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 3: АЛУ, СЛОЖЕНИЕ С 0
CONT DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 4
CONT DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 5: АЛУ, AND C FFFF
CONT DSRC=CNT,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 6
CONT DSRC=CNT,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 7: АЛУ, EXNOR С FFFF
CONT DSRC=CNT,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 8
CONT DSRC=CNT,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT7,MAP=PE,%TIK%
;
;
TAKT8:ENTRY
;===== ИЗ РГ/ТГ ПРИЗНАКОВ ЧЕРЕЗ МПС (+ ОПЕРАЦИЯ!) - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,КОП АРБИТРА,АИСП,ОЗУ ПРИПИСОК,БОПП,
;   БОИ ТЕГА,БОИ ДАННЫХ,ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAK8,MAP=PE
TAK8:CONT A=H8,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT8:CONT %CLRTYP%,CYSTR=NT9
CONT A=H1C,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 1: РНГ
CONT DSRC=CNT,ALUS=DZ,H,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 2
CONT DSRC=CNT,ALUS=DZ,H,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=H1C,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 3: РНП
CONT DSRC=CNT,ALUS=DZ,H,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 4
CONT DSRC=CNT,ALUS=DZ,H,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=HC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 5: КОП АРБИТРА
CONT DSRC=CNT,ALUS=DZ,H,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 6
CONT DSRC=CNT,ALUS=DZ,H,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=APBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=H1C,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 7: АИСП
CONT DSRC=CNT,ALUS=DZ,H,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 8
CONT DSRC=CNT,ALUS=DZ,H,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=H1C,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 9: ОЗУ ПРИПИСОК
CONT DSRC=CNT,ALUS=DZ,H,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** A
CONT DSRC=CNT,ALUS=DZ,H,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=H1C,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** B: БОПП
CONT DSRC=CNT,ALUS=DZ,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** C
CONT DSRC=CNT,ALUS=DZ,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=H1C,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** D: БОИ ТЕГА
CONT DSRC=CNT,ALUS=DZ,H,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CJS A=CMP,MAP=PE,YDEV=ECBTAG,BRA=RG3,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** E
CONT DSRC=CNT,ALUS=DZ,H,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG2,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFLFL,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=AALU,YDSDT=CNT,,CYSTR=NT3
;*** F: БОИ ДАННЫХ
CONT DSRC=CNT,ALUS=DZ,H,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 10
CONT DSRC=CNT,ALUS=DZ,H,ALU,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MFLFL,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 11: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT DSRC=CNT,ALUS=DZ,H,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 12
CONT DSRC=CNT,ALUS=DZ,H,ALU,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MFLFL,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 13: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT DSRC=CNT,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 14
CONT DSRC=CNT,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MFLFL,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 15: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- AK
CONT DSRC=CNT,ALUS=DZ,H,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 16
CONT DSRC=CNT,ALUS=DZ,H,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT8,MAP=PE,%TIK%
;
;
TAKT9:ENTRY
;===== ИЗ РГ/ТГ ПРИЗНАКОВ ЧЕРЕЗ БОИ - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,КОП АРБИТРА,АИСП,ОЗУ ПРИПИСОК,БОПП,ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAK9,MAP=PE
TAK9:CONT A=H9,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT9:CONT %CLRTYP%,CYSTR=NT9
CONT A=H1C,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 1: РНГ
CONT DSRC=CNT,%TOYR3%,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 2
CONT DSRC=CNT,%TOYR0%,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=H1C,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 3: РНП
CONT DSRC=CNT,%TOYR3%,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 4
CONT DSRC=CNT,%TOYR2%,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=HC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 5: КОП АРБИТРА
CONT DSRC=CNT,%TOYR2%,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 6
CONT DSRC=CNT,%TOYR0%,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=APBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=H1C,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDS=CNT,CYSTR=NT3
;*** 7: АИСП
CONT DSRC=CNT,%TOYR3%,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 8
CONT DSRC=CNT,%TOYR0%,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=H1C,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 9: ОЗУ ПРИПИСОК
CONT DSRC=CNT,%TOYR1%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** A
CONT DSRC=CNT,%TOYR0%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=H1C,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** B: БОПП
CONT DSRC=CNT,%TOYR1%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** C
CONT DSRC=CNT,%TOYR0%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MFLFL,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** D: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT DSRC=CNT,%TOYR0%,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** E
CONT DSRC=CNT,%TOYR1%,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MFLFL,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** F: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT DSRC=CNT,%TOYR2%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 10
CONT DSRC=CNT,%TOYR0%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MFLFL,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 11: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- AK
CONT DSRC=CNT,%TOYR0%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=CNT,CYSTR=NT3
;*** 12
CONT DSRC=CNT,%TOYR1%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT9,MAP=PE,%TIK%
;
;      Р Ф С
;     =======
;
TAKTA:ENTRY
;===== ИЗ РФС - В ПРИЕМНИКИ ШИНЫ D: БОИ, МПС
;
CJP A=TAKA,MAP=PE
TAKA:CONT A=HA,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CTA:CONT %CLRTYP%,CYSTR=NT9
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT3
;*** 1: БОИ
CONT DSRC=PHYSPG,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT3
;*** 2
CONT DSRC=PHYSPG,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT3
;*** 3: АЛУ, СЛОЖЕНИЕ С 0
CONT DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT3
;*** 4
CONT DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT3
;*** 5: АЛУ, AND C FFFF
CONT DSRC=PHYSPG,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT3
;*** 6
CONT DSRC=PHYSPG,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT3
;*** 7: АЛУ, EXNOR С FFFF
CONT DSRC=PHYSPG,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT3
;*** 8
CONT DSRC=PHYSPG,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CTA,MAP=PE,%TIK%
;
;
TAKTB:ENTRY
;===== ИЗ РФС ЧЕРЕЗ МПС (+ ОПЕРАЦИЯ!) - В ПРИЕМНИКИ ШИНЫ Y:
;   АИСП,ОЗУ ПРИПИСОК,БОИ ДАННЫХ,ОЗУ МОДИФИКАТОРОВ,ОЗУ ПС
;
CJP A=TAKB,MAP=PE
TAKB:CONT A=HB,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CTB:CONT %CLRTYP%,CYSTR=NT9
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT3
;*** 1: АИСП
CONT DSRC=PHYSPG,ALUS=DZ,H,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT3
;*** 2
CONT DSRC=PHYSPG,ALUS=DZ,H,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT3
;*** 3: ОЗУ ПРИПИСОК
CONT DSRC=PHYSPG,ALUS=DZ,H,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT3
;*** 4
CONT DSRC=PHYSPG,ALUS=DZ,H,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT3
;*** 5: БОИ ДАННЫХ
CONT DSRC=PHYSPG,ALUS=DZ,H,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT3
;*** 6
CONT DSRC=PHYSPG,ALUS=DZ,H,ALU,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT3
;*** 7: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT DSRC=PHYSPG,ALUS=DZ,H,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT3
;*** 8
CONT DSRC=PHYSPG,ALUS=DZ,H,ALU,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT3
;*** 9: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT DSRC=PHYSPG,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT3
;*** A
CONT DSRC=PHYSPG,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT3
;*** B: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- AK
CONT DSRC=PHYSPG,ALUS=DZ,H,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT3
;*** C
CONT DSRC=PHYSPG,ALUS=DZ,H,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT3
;*** D: ОЗУ ПС
CONT DSRC=PHYSPG,ALUS=DZ,H,ALU,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT3
;*** E
CONT DSRC=PHYSPG,ALUS=DZ,H,ALU,DDEV=PPMEM1,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM1,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CTB,MAP=PE,%TIK%
;
;
TAKTC:ENTRY
;===== ИЗ РФС ЧЕРЕЗ БОИ - В ПРИЕМНИКИ ШИНЫ Y:
;   АИСП,ОЗУ ПРИПИСОК,ОЗУ МОДИФИКАТОРОВ,ОЗУ ПС
;
CJP A=TAKC,MAP=PE
TAKC:CONT A=HC,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CTC:CONT %CLRTYP%,CYSTR=NT9
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT3
;*** 1: АИСП
CONT DSRC=PHYSPG,%TOYR3%,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT3
;*** 2
CONT DSRC=PHYSPG,%TOYR0%,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT3
;*** 3: ОЗУ ПРИПИСОК
CONT DSRC=PHYSPG,%TOYR1%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT3
;*** 4
CONT DSRC=PHYSPG,%TOYR0%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT3
;*** 5: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT DSRC=PHYSPG,%TOYR0%,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT3
;*** 6
CONT DSRC=PHYSPG,%TOYR1%,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT3
;*** 7: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT DSRC=PHYSPG,%TOYR2%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT3
;*** 8
CONT DSRC=PHYSPG,%TOYR0%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT3
;*** 9: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- AK
CONT DSRC=PHYSPG,%TOYR0%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT3
;*** A
CONT DSRC=PHYSPG,%TOYR1%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT3
;*** B: ОЗУ ПС
CONT DSRC=PHYSPG,%TOYR0%,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT3
;*** C
CONT DSRC=PHYSPG,%TOYR3%,DDEV=PPMEM1,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM1,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CTC,MAP=PE,%TIK%
;
;
TAKTD:ENTRY
;===== РФС - ЧЕРЕЗ МПС - В ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAKD,MAP=PE
TAKD:CONT A=HD,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CTD:CONT %CLRTYP%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=SUBWD,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT9
CJS A=CMP,MAP=PE,%TYPE%
;2
CJS A=SUBWD,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CJS A=CMP,MAP=PE,%TYPE%
;3
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CJS A=SUBWD,MAP=PE
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CTD,MAP=PE,%TIK%
;ЗАПИСЬ ИЗ РФС ЧЕРЕЗ МПС - В ОЗУ МОД.
SUBWD:CONT CYSTR=NT5
;***
CONT DSRC=PHYSPG,ALUS=DZ,ALU,CSM,WEM,MNSA=MP,MODNM=ACL
CRTN CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,H,ALUD=B,RB=Y
;
;
TAKTE:ENTRY
;===== РФС - ЧЕРЕЗ БОИ - В ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAKE,MAP=PE
TAKE:CONT A=HE,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CTE:CONT %CLRTYP%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=SUBWE,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A,ALU,YDST=PHYSPG,CYSTR=NT9
CJS A=CMP,MAP=PE,%TYPE%
;2
CJS A=SUBWE,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CJS A=CMP,MAP=PE,%TYPE%
;3
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PHYSPG
CJS A=SUBWE,MAP=PE
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CTE,MAP=PE,%TIK%
;ЗАПИСЬ ИЗ РФС ЧЕРЕЗ МПС - В ОЗУ МОД.
SUBWE:CONT CYSTR=NT4
;***
CONT DSRC=PHYSPG,ECA,WRA,ARA=RG3,ECB,BRA=RG3,CSM,WEM,MNSA=MP,MODNM=ACL
CRTN CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,H,ALUD=B,RB=Y
;
;     КОП АРБИТРА
;     ===========
;
TAKTF:ENTRY
;===== КОП АРБИТРА - В ПРИЕМНИКИ ШИНЫ D: БОИ, МПС
;
CJP A=TAKF,MAP=PE
TAKF:CONT A=HF,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CTF:CONT %CLRTYP%,CYSTR=NT9
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** 1: БОИ
CONT DSRC=ARBOPC,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** 2
CONT DSRC=ARBOPC,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** 3: АЛУ, СЛОЖЕНИЕ С 0
CONT DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** 4
CONT DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** 5: АЛУ, AND C FFFF
CONT DSRC=ARBOPC,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** 6
CONT DSRC=ARBOPC,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** 7: АЛУ, EXNOR С FFFF
CONT DSRC=ARBOPC,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** 8
CONT DSRC=ARBOPC,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT А=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,ALU,YDST=ARBOPC,CYSTR=NT3
;*** 9: SUB: CONST - CONST - 1 + CI=1
CONT DSRC=ARBOPC,ALUS=DA,RA=Y,FUNC=SUBR,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,ALU,YDST=ARBOPC,CYSTR=NT3
;*** A
CONT DSRC=ARBOPC,ALUS=DA,RA=Y,FUNC=SUBR,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CTF,MAP=PE,%TIK%
;
;
TAKT10:ENTRY
;===== КОП АРБИТРА ЧЕРЕЗ МПС (+ ОПЕРАЦИЯ!) - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,АИСП,ОЗУ ПРИПИСОК,БОПП,БОИ ТЕГА,БОИ ДАННЫХ,ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAK10,MAP=PE
TAK10:CONT A=H10,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT10:CONT %CLRTYP%,CYSTR=NT9
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** 1: РНГ
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** 2
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** 3: РНП
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** 4
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** 5: АИСП
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** 6
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** 7: ОЗУ ПРИПИСОК
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** 8
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** 9: БОПП
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** A
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** B: БОИ ТЕГА
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CJS A=CMP,MAP=PE,YDEV=ECBTAG,BRA=RG3,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** C
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG2,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** D: БОИ ДАННЫХ
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** E
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** F: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** 10
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** 11: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** 12
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** 13: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- AK
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** 14
CONT DSRC=ARBOPC,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT10,MAP=PE,%TIK%
;
;
TAKT11:ENTRY
;===== ИЗ КОП АРБИТРА ЧЕРЕЗ БОИ - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,АИСП,ОЗУ ПРИПИСОК,БОПП,ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAK11,MAP=PE
TAK11:CONT A=H11,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT11:CONT %CLRTYP%,CYSTR=NT9
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** 1: РНГ
CONT DSRC=ARBOPC,%TOYR3%,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** 2
CONT DSRC=ARBOPC,%TOYR0%,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** 3: РНП
CONT DSRC=ARBOPC,%TOYR3%,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** 4
CONT DSRC=ARBOPC,%TOYR2%,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** 5: АИСП
CONT DSRC=ARBOPC,%TOYR3%,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** 6
CONT DSRC=ARBOPC,%TOYR0%,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** 7: ОЗУ ПРИПИСОК
CONT DSRC=ARBOPC,%TOYR1%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** 8
CONT DSRC=ARBOPC,%TOYR0%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** 9: БОПП
CONT DSRC=ARBOPC,%TOYR1%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** A
CONT DSRC=ARBOPC,%TOYR0%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** B: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT DSRC=ARBOPC,%TOYR0%,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** C
CONT DSRC=ARBOPC,%TOYR1%,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** D: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT DSRC=ARBOPC,%TOYR2%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** E
CONT DSRC=ARBOPC,%TOYR0%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** F: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- AK
CONT DSRC=ARBOPC,%TOYR0%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ARBOPC,CYSTR=NT3
;*** 10
CONT DSRC=ARBOPC,%TOYR1%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT11,MAP=PE,%TIK%
;
TAKT12:ENTRY
;===== КОП АРБИТРА - В МПС + ЛОГ. ОПЕРАЦИЯ
;
CJP A=TAK12,MAP=PE
TAK12:CONT A=H12,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT12:CONT %CLRTYP%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,CYSTR=NT9
;1
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=SSR12,MAP=PE
CJS A=CMP,MAP=PE,%TYPE%
;2
CJS A=SSR12,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMSP,MAP=PE,%TYPE%
;3
CJS A=SSR12,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;4
CJS A=SSR12,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;5
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=SRR12,MAP=PE
CJS A=CMP,MAP=PE,%TYPE%
;6
CJS A=SRR12,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;7
CJS A=SRR12,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A,CYSTR=NT9
CJS A=CMP,MAP=PE,%TYPE%
;8
CJS A=SRR12,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT12,MAP=PE,%TIK%
;ЧТЕНИЕ КОП АРБИТРА В МПС
SSR12:CONT ALUS=ZA,RA=A,H,ALU,YDST=ARBOPC
CONT CYSTR=NT3
;***
CONT DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CRTN A=HF,DSRC=PROM,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
;П/П
SRR12:CONT ALUS=ZA,RA=A,H,ALU,YDST=ARBOPC
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=HF,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A,CYSTR=NT3
;***
CRTN DSRC=ARBOPC,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
;
;      П З У
;     =======
;
TAKT13:ENTRY
;===== ИЗ ПЗУ - В ПРИЕМНИКИ ШИНЫ D: БОИ, БОБР+БИЗМ, БМСП, МПС
;
CJP A=TAK13,MAP=PE
TAK13:CONT A=H13,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT13:CONT %CLRTYP%,CYSTR=NT9
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1: БОИ
CONT А=CAAA,DSRC=PROM,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 2
CONT А=C555,DSRC=PROM,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 3: БОБР,БИЗМ
CONT А=CAAA,DSRC=PROM,DDEV=BB,WRD
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 4
CONT А=C555,DSRC=PROM,DDEV=BB,WRD
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 5: БМСП
CONT А=CAAA,DSRC=PROM,DDEV=MODB,WRD
CONT A=H1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 6
CONT А=C555,DSRC=PROM,DDEV=MODB,WRD
CONT A=H1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 7: АЛУ, СЛОЖЕНИЕ С 0
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 8
CONT А=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 9: АЛУ, AND С FFFF
CONT А=CAAA,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** A
CONT А=C555,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** B: АЛУ, EXNOR С FFFF
CONT А=CAAA,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** C
CONT А=C555,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT А=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT3
;*** D: SUB: CONST - CONST - 1 + CI=1
CONT А=CAAA,DSRC=PROM,ALUS=DA,RA=Y,FUNC=SUBR,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT3
;*** E
CONT А=C555,DSRC=PROM,ALUS=DA,RA=Y,FUNC=SUBR,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT13,MAP=PE,%TIK%
;
;
TAKT14:ENTRY
;===== ИЗ ПЗУ ЧЕРЕЗ МПС (+ ОПЕРАЦИЯ!) - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,РГ/ТГ,РФС,КОП АРБИТРА,АИСП,РПС,ОЗУ ПРИПИСОК,БОПП,
;   БОИ ТЕГА,БОИ ДАННЫХ,ОЗУ МОДИФИКАТОРОВ,CТАТУС,ОЗУ ПС,ШФ+РГ/СЧ
;
CJP A=TAK14,MAP=PE
TAK14:CONT A=H14,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT14:CONT %CLRTYP%,CYSTR=NT9
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1: РНГ
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 2
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 3: РНП
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 4
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MFLFL,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 5: ТГ.ПРИЗНАКОВ
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 6
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 7: РФС
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 8
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 9: КОП АРБИТРА
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** A
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=APBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** B: АИСП
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** C
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MH,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=A,CYSTR=NT3
;*** D: РПС
CONT А=SR32,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PSHIFT
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MNH,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=A,CYSTR=NT3
;*** E
CONT А=SL32,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PSHIFT
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** F: ОЗУ ПРИПИСОК
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 10
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 11: БОПП
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 12
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 13: БОИ ТЕГА
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CJS A=CMP,MAP=PE,YDEV=ECBTAG,BRA=RG3,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 14
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG2,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 15: БОИ ДАННЫХ
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 16
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 17: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 18
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 19: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1A
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1B: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- AK
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1C
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1D: СТАТУС, РГ.M
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1E
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1F: ОЗУ ПС
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 20
CONT А=CAAA,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,DDEV=PPMEM1,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 21: РГ/СЧ СУАМ
CONT А=C9,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B9,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 22
CONT А=MB,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,CI,ALU,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT14,MAP=PE,%TIK%
;
;
TAKT15:ENTRY
;===== ИЗ ПЗУ ЧЕРЕЗ БОИ - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,РГ/ТГ,РФС,КОП АРБИТРА,АИСП,РПС,ОЗУ ПРИПИСОК,БОПП,
;   БОИ ТЕГА,БОИ ДАННЫХ,ОЗУ МОДИФИКАТОРОВ,CТАТУС,ОЗУ ПС,ШФ+РГ/СЧ
;
;   ЧАСЫ И ТАЙМЕР СВ НЕ ПРОВЕРЯЕМ В ЭТОМ ТЕСТЕ!
;
CJP A=TAK15,MAP=PE
TAK15:CONT A=H15,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT15:CONT %CLRTYP%,CYSTR=NT9
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1: РНГ
CONT А=CAAA,DSRC=PROM,%TOYR3%,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 2
CONT А=CAAA,DSRC=PROM,%TOYR0%,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 3: РНП
CONT А=CAAA,DSRC=PROM,%TOYR3%,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 4
CONT А=CAAA,DSRC=PROM,%TOYR2%,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MFLFL,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 5: ТГ.ПРИЗНАКОВ
CONT А=CAAA,DSRC=PROM,%TOYR0%,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 6
CONT А=CAAA,DSRC=PROM,%TOTR0%,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 7: РФС
CONT А=CAAA,DSRC=PROM,%TOYR3%,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 8
CONT А=CAAA,DSRC=PROM,%TOYT3%,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 9: КОП АРБИТРА
CONT А=CAAA,DSRC=PROM,%TOYR2%,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** A
CONT А=CAAA,DSRC=PROM,%TOYR0%,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=APBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** B: АИСП
CONT А=CAAA,DSRC=PROM,%TOYR3%,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** C
CONT А=CAAA,DSRC=PROM,%TOYR0%,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MH,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=A,CYSTR=NT3
;*** D: РПС
CONT А=SR32,DSRC=PROM,%TOYR1%,YDST=PSHIFT
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MNH,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=A,CYSTR=NT3
;*** E
CONT А=SL32,DSRC=PROM,%TOYR2%,YDST=PSHIFT
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** F: ОЗУ ПРИПИСОК
CONT А=CAAA,DSRC=PROM,%TOYR1%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 10
CONT А=CAAA,DSRC=PROM,%TOYR0%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 11: БОПП
CONT А=CAAA,DSRC=PROM,%TOYR1%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 12
CONT А=CAAA,DSRC=PROM,%TOYR0%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 13: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT А=CAAA,DSRC=PROM,%TOYR0%,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 14
CONT А=CAAA,DSRC=PROM,%TOYR1%,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 15: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT А=CAAA,DSRC=PROM,%TOYR2%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 16
CONT А=CAAA,DSRC=PROM,%TOYR0%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 17: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- AK
CONT А=CAAA,DSRC=PROM,%TOYR0%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 18
CONT А=CAAA,DSRC=PROM,%TOYR1%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 19: СТАТУС, РГ.M
CONT А=CAAA,DSRC=PROM,%TOYR0%,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1A
CONT А=CAAA,DSRC=PROM,%TOYR1%,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1B: ОЗУ ПС
CONT А=CAAA,DSRC=PROM,%TOYR0%,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1C
CONT А=CAAA,DSRC=PROM,%TOYR3%,DDEV=PPMEM1,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1D: РГ/СЧ СУАМ
CONT А=C9,DSRC=PROM,%TOYR0%,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B9,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1E
CONT А=MB,DSRC=PROM,%TOYR3%,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT15,MAP=PE,%TIK%
;
;
TAKT16:ENTRY
;===== ПЗУ - ЧЕРЕЗ МПС - В БОПП
;
CJP A=TAK16,MAP=PE
TAK16:CONT A=H16,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT16:CONT %CLRTYP%
CONT %TYPE%,CYSTR=NT9
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=B7,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT А=H1,DSRC=PROM,ALUS=DА,RА=DADR,FUNC=SUBR,CI,ALUD=В,RВ=A,CYSTR=NT3
;*** 1
CONT А=H1,DSRC=PROM,ALUS=DА,RА=DADR,FUNC=SUBR,CI,ALUD=В,RВ=A,ALU
>,YDEV=МРМЕМ,WRY,IОМР,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MQ,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT А=HF,DSRC=PROM,ALUS=DА,RА=DADR,FUNC=SUBR,CI,ALUD=В,RВ=A,CYSTR=NT3
;*** 2
CONT А=HF,DSRC=PROM,ALUS=DА,RА=DADR,FUNC=SUBR,CI,ALUD=В,RВ=A,ALU
>,YDEV=МРМЕМ,WRY,IОМР,MPADR=4
CJS A=CMP,MAP=PE,YDEV=МРМЕМ,IОМР,MPADR=4,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT А=HF,DSRC=PROM,ALUS=DА,RА=DADR,FUNC=OR,H,ALUD=В,RВ=A,CYSTR=NT3
;*** 3
CONT А=HF,DSRC=PROM,ALUS=DА,RА=DADR,FUNC=OR,H,ALUD=В,RВ=A,ALU
>,YDEV=МРМЕМ,WRY,IОМР,MPADR=4
CJS A=CMP,MAP=PE,YDEV=МРМЕМ,IОМР,MPADR=4,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT16,MAP=PE,%TIK%
;
;
TAKT17:ENTRY
;===== ПЗУ - ЧЕРЕЗ БОИ - В БОПП
;
CJP A=TAK17,MAP=PE
TAK17:CONT A=H17,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT17:CONT %CLRTYP%
CONT %TYPE%,CYSTR=NT9
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=B7,DSRC=PROM,ALUS=DZ,H,ALUD=В,RВ=A,CYSTR=NT3
;*** 1
CONT А=B7,DSRC=PROM,ECA,WRA,ARA=RG3,ECB,BRA=RG3,YDEV=МРМЕМ,WRY,IОМР,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT А=HF,DSRC=PROM,ALUS=DZ,H,ALUD=В,RВ=A,CYSTR=NT3
;*** 2
CONT А=HF,DSRC=PROM,ECA,WRA,ARA=RG3,ECB,BRA=RG3,YDEV=МРМЕМ,WRY,IОМР,MPADR=4
CJS A=CMP,MAP=PE,YDEV=МРМЕМ,IОМР,MPADR=4,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=В,RВ=A,CYSTR=NT3
;*** 3
CONT А=CAAA,DSRC=PROM,ECA,WRA,ARA=RG3,ECB,BRA=RG3,YDEV=МРМЕМ,WRY,IОМР,MPADR=4
CJS A=CMP,MAP=PE,YDEV=МРМЕМ,IОМР,MPADR=4,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT17,MAP=PE,%TIK%
;
;
TAKT18:ENTRY
;===== ПЗУ - ЧЕРЕЗ МПС - В ОЗУ МОД.
;   NT4 РАБОТАЕТ НЕ ВО ВСЕХ СЛУЧАЯХ !?!?
;
CJP A=TAK18,MAP=PE
TAK18:CONT A=H18,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT18:CONT %CLRTYP%
CONT %TYPE%,CYSTR=NT9
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=B17,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT5
;*** 1
CONT А=H1,DSRC=PROM,ALUS=DА,RА=DADR,FUNC=SUBR,CI,ALUD=В,RВ=A,ALU
>,CSM,WЕМ,MNSA=МР,MODNM=ACL
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MQ,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT4
;*** 2
CONT А=MB,DSRC=PROM,ALUS=DА,RА=DADR,FUNC=SUBR,CI,ALUD=В,RВ=A,ALU
>,CSM,WЕМ,MNSA=МР,MODNM=ACR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT4
;*** 3
CONT А=MQ,DSRC=PROM,ALUS=DА,RА=DADR,FUNC=AND,H,ALUD=В,RВ=A,ALU
>,CSM,WЕМ,MNSA=МР,MODNM=ACR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=B33,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT5
;*** 4
CONT А=H1,DSRC=PROM,ALUS=DА,RА=DADR,FUNC=SUBR,CI,ALU,CSM,WЕМ,MNSA=МР,MODNM=ACL
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MQ,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT4
;*** 5
CONT А=MB,DSRC=PROM,ALUS=DА,RА=DADR,FUNC=SUBR,CI,ALU,CSM,WЕМ,MNSA=МР,MODNM=ACR
CONT A=MB2ZZZ,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT4
;*** 6
CONT А=C555,DSRC=PROM,ALUS=DА,RА=DADR,FUNC=ADD,H,ALU,CSM,WЕМ,MNSA=МР,MODNM=ACR
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT18,MAP=PE,%TIK%
;
;
TAKT19:ENTRY
;===== ПЗУ - ЧЕРЕЗ БОИ - В ОЗУ МОД.
;   NT4 РАБОТАЕТ НЕ ВО ВСЕХ СЛУЧАЯХ !?!?
;
CJP A=TAK19,MAP=PE
TAK19:CONT A=H19,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT19:CONT %CLRTYP%
CONT %TYPE%,CYSTR=NT9
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=B17,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT5
;*** 1
CONT А=B17,DSRC=PROM,ECA,WRA,ARA=RG0,ECB,BRA=RG0,CSM,WЕМ,MNSA=МР,MODNM=ACL
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT4
;*** 2
CONT А=MB,DSRC=PROM,ECA,WRA,ARA=RG0,ECB,BRA=RG0,CSM,WЕМ,MNSA=МР,MODNM=ACR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT4
;*** 3
CONT А=CAAA,DSRC=PROM,ECA,WRA,ARA=RG0,ECB,BRA=RG0,CSM,WЕМ,MNSA=МР,MODNM=ACR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=H1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT5
;*** 4
CONT А=H1,DSRC=PROM,ECA,WRA,ARA=RG0,ECB,BRA=RG0,CSM,WЕМ,MNSA=МР,MODNM=ACL
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB2ZZZ,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT4
;*** 5
CONT А=MB2ZZZ,DSRC=PROM,ECA,WRA,ARA=RG0,ECB,BRA=RG0,CSM,WЕМ,MNSA=МР,MODNM=ACR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT4
;*** 6
CONT А=C555,DSRC=PROM,ECA,WRA,ARA=RG0,ECB,BRA=RG0,CSM,WЕМ,MNSA=МР,MODNM=ACR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT19,MAP=PE,%TIK%
;
;     БОБР + БИЗМ
;     ===========
;
TAKT1A:ENTRY
;===== ИЗ БОБР+БИЗМ - В ПРИЕМНИКИ ШИНЫ D: БОИ, МПС
;
CJP A=TAK1A,MAP=PE
TAK1A:CONT A=H1A,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT1A:CONT %CLRTYP%,CYSTR=NT9
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 1: БОИ
CONT DDEV=BB,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 2
CONT DDEV=BB,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 3: АЛУ, СЛОЖЕНИЕ С 0
CONT DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 4
CONT DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 5: АЛУ, AND C FFFF
CONT DDEV=BB,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 6
CONT DDEV=BB,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 7: АЛУ, EXNOR С FFFF
CONT DDEV=BB,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 8
CONT DDEV=BB,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT1A,MAP=PE,%TIK%
;
;
TAKT1B:ENTRY
;===== ИЗ БОБР+БИЗМ ЧЕРЕЗ МПС (+ ОПЕРАЦИЯ!) - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,КОП АРБИТРА,АИСП,ОЗУ ПРИПИСОК,БОПП,БОИ ТЕГА,БОИ ДАННЫХ,ОЗУ МОД.
;
CJP A=TAK1B,MAP=PE
TAK1B:CONT A=H1B,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT1B:CONT %CLRTYP%,CYSTR=NT9
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 1: РНГ
CONT DDEV=BB,ALUS=DZ,H,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 2
CONT DDEV=BB,ALUS=DZ,H,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 3: РНП
CONT DDEV=BB,ALUS=DZ,H,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 4
CONT DDEV=BB,ALUS=DZ,H,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 5: КОП АРБИТРА
CONT DDEV=BB,ALUS=DZ,H,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 6
CONT DDEV=BB,ALUS=DZ,H,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=APBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 7: АИСП
CONT DDEV=BB,ALUS=DZ,H,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 8
CONT DDEV=BB,ALUS=DZ,H,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 9: ОЗУ ПРИПИСОК
CONT DDEV=BB,ALUS=DZ,H,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** A
CONT DDEV=BB,ALUS=DZ,H,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** B: БОПП
CONT DDEV=BB,ALUS=DZ,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,MCYSTR=NT3
;*** C
CONT DDEV=BB,ALUS=DZ,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** D: БОИ ТЕГА
CONT DDEV=BB,ALUS=DZ,H,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CJS A=CMP,MAP=PE,YDEV=ECBTAG,BRA=RG3,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** E
CONT DDEV=BB,ALUS=DZ,H,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG2,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** F: БОИ ДАННЫХ
CONT DDEV=BB,ALUS=DZ,H,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 10
CONT DDEV=BB,ALUS=DZ,H,ALU,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 11: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT DDEV=BB,ALUS=DZ,H,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 12
CONT DDEV=BB,ALUS=DZ,H,ALU,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 13: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT DDEV=BB,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 14
CONT DDEV=BB,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 15: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- AK
CONT DDEV=BB,ALUS=DZ,H,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 16
CONT DDEV=BB,ALUS=DZ,H,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT1B,MAP=PE,%TIK%
;
;
TAKT1C:ENTRY
;===== ИЗ БОБР+БИЗМ ЧЕРЕЗ БОИ - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,КОП АРБИТРА,АИСП,ОЗУ ПРИПИСОК,БОПП,ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAK1C,MAP=PE
TAK1C:CONT A=H1C,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT1C:CONT %CLRTYP%,CYSTR=NT9
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 1: РНГ
CONT DDEV=BB,%TOYR3%,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 2
CONT DDEV=BB,%TOYR0%,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 3: РНП
CONT DDEV=BB,%TOYR3%,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 4
CONT DDEV=BB,%TOYR2%,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEB=BB,WRD,CYSTR=NT3
;*** 5: КОП АРБИТРА
CONT DDEV=BB,%TOYR2%,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 6
CONT DDEV=BB,%TOYR0%,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=APBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 7: АИСП
CONT DDEV=BB,%TOYR3%,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 8
CONT DDEV=BB,%TOYR0%,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 9: ОЗУ ПРИПИСОК
CONT DDEV=BB,%TOYR1%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** A
CONT DDEV=BB,%TOYR0%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,MCYSTR=NT3
;*** B: БОПП
CONT DDEV=BB,%TOYR1%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** C
CONT DDEV=BB,%TOYR0%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** D: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT DDEV=BB,%TOYR0%,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** E
CONT DDEV=BB,%TOYR1%,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** F: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT DDEV=BB,%TOYR2%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 10
CONT DDEV=PROM,%TOYR0%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 11: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- AK
CONT DDEV=BB,%TOYR0%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=BB,WRD,CYSTR=NT3
;*** 12
CONT DDEV=BB,%TOYR1%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT1C,MAP=PE,%TIK%
;
;     Б М С П
;    =========
;
TAKT1D:ENTRY
;===== ИЗ ОЗУ БМСП - В ПРИЕМНИКИ ШИНЫ D: БОИ, МПС
;
CJP A=TAK1D,MAP=PE
TAK1D:CONT A=H1D,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT1D:CONT %CLRTYP%,CYSTR=NT9
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 1: БОИ
CONT DDEV=MODB,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 2
CONT DDEV=MODB,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 3: АЛУ, СЛОЖЕНИЕ С 0
CONT DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 4
CONT DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 5: АЛУ, AND C FFFF
CONT DDEV=MODB,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 6
CONT DDEV=MODB,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 7: АЛУ, EXNOR С FFFF
CONT DDEV=MODB,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 8
CONT DDEV=MODB,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT А=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,DDEV=MODB,WRD,CYSTR=NT3
;*** 9: SUB: CONST - CONST - 1 + CI=1
CONT DDEV=MODB,ALUS=DA,RA=Y,FUNC=SUBR,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,DDEV=MODB,WRD,CYSTR=NT3
;*** A
CONT DDEV=MODB,ALUS=DA,RA=Y,FUNC=SUBR,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT1D,MAP=PE,%TIK%
;
;
TAKT1E:ENTRY
;===== ИЗ ОЗУ БМСП ЧЕРЕЗ МПС (+ ОПЕРАЦИЯ!) - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,КОП АРБИТРА,АИСП,ОЗУ ПРИПИСОК,БОПП,
;   БОИ ТЕГА,БОИ ДАННЫХ,ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAK1E,MAP=PE
TAK1E:CONT A=H1E,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT1E:CONT %CLRTYP%,CYSTR=NT9
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 1: РНГ
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 2
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 3: РНП
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 4
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 5: КОП АРБИТРА
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 6
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=APBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 7: АИСП
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 8
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 9: ОЗУ ПРИПИСОК
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** A
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** B: БОПП
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** C
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** D: БОИ ТЕГА
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CJS A=CMP,MAP=PE,YDEV=ECBTAG,BRA=RG3,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** E
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG2,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** F: БОИ ДАННЫХ
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 10
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 11: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 12
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 13: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 14
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 15: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- AK
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 16
CONT DDEV=MODB,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT1E,MAP=PE,%TIK%
;
;
TAKT1F:ENTRY
;===== ИЗ ОЗУ БМСП ЧЕРЕЗ БОИ - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,КОП АРБИТРА,АИСП,ОЗУ ПРИПИСОК,БОПП,ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAK1F,MAP=PE
TAK1F:CONT A=H1F,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT1F:CONT %CLRTYP%,CYSTR=NT9
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 1: РНГ
CONT DDEV=MODB,%TOYR3%,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 2
CONT DDEV=MODB,%TOYR0%,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 3: РНП
CONT DDEV=MODB,%TOYR3%,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 4
CONT DDEV=MODB,%TOYR2%,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 5: КОП АРБИТРА
CONT DDEV=MODB,%TOYR2%,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 6
CONT DDEV=MODB,%TOYR0%,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=APBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 7: АИСП
CONT DDEV=MODB,%TOYR3%,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 8
CONT DDEV=MODB,%TOYR0%,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 9: ОЗУ ПРИПИСОК
CONT DDEV=MODB,%TOYR1%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** A
CONT DDEV=MODB,%TOYR0%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** B: БОПП
CONT DDEV=MODB,%TOYR1%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** C
CONT DDEV=MODB,%TOYR0%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** D: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT DDEV=MODB,%TOYR0%,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** E
CONT DDEV=MODB,%TOYR1%,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** F: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT DDEV=MODB,%TOYR2%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 10
CONT DDEV=MODB,%TOYR0%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 11: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- AK
CONT DDEV=MODB,%TOYR0%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=MODB,WRD,CYSTR=NT3
;*** 12
CONT DDEV=MODB,%TOYR1%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT1F,MAP=PE,%TIK%
;
;     СТАТУС, РГ.M
;     ============
;
TAKT20:ENTRY
;===== ИЗ СТАТУСНОГО РГ.(M) - В ПРИЕМНИКИ ШИНЫ D: БОИ, МПС
;
CJP A=TAK20,MAP=PE
TAK20:CONT A=H20,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT20:CONT %CLRTYP%,CYSTR=NT9
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
>,CYSTR=NT3
;*** 1: БОИ
CONT STOPC=32,DDEV=STATUS,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,DDEV=STAUS,WRD,STOPC=0,CEM
CONT STOPC=0,CEN,CYSTR=NT3
;*** 2
CONT STOPC=20,DDEV=STATUS,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
>,CYSTR=NT3
;*** 3: АЛУ, СЛОЖЕНИЕ С 0
CONT STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT STOPC=0,CEN,CYSTR=NT3
;*** 4
CONT STOPC=20,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
>,CYSTR=NT3
;*** 5: АЛУ, AND C FFFF
CONT STOPC=32,DDEV=STATUS,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT STOPC=0,CEN,CYSTR=NT3
;*** 6
CONT STOPC=20,DDEV=STATUS,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
>,CYSTR=NT3
;*** 7: АЛУ, EXNOR С FFFF
CONT STOPC=32,DDEV=STATUS,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT STOPC=0,CEN,CYSTR=NT3
;*** 8
CONT STATUS=20,DDEV=STATUS,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT20,MAP=PE,%TIK%
;
;
TAKT21:ENTRY
;===== ИЗ СТАТУСНОГО РГ.(M,N) ЧЕРЕЗ МПС (+ ОПЕРАЦИЯ!) - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,АИСП,ОЗУ ПРИПИСОК,БОПП,БОИ ТЕГА,БОИ ДАННЫХ,ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAK21,MAP=PE
TAK21:CONT A=H21,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT21:CONT %CLRTYP%,CYSTR=NT9
CONT A=HC0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
>,CYSTR=NT3
;*** 1: РНГ
CONT STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
COMT STOPC=0,CEN,CYSTR=NT3
;*** 2
CONT STOPC=20,DDEV=STATUS,ALUS=DZ,H,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=HC0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
>,CYSTR=NT3
;*** 3: РНП
CONT STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT STOPC=0,CEN,CYSTR=NT3
;*** 4
CONT STATUS=20,DDEV=STATUS,ALUS=DZ,H,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=H1C,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
>,CYSTR=NT3
;*** 5: АИСП
CONT STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT STOPC=0,CEN,CYSTR=NT3
;*** 6
CONT STOPC=20,DDEV=STATUS,ALUS=DZ,H,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=H1C,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
>,CYSTR=NT3
;*** 7: ОЗУ ПРИПИСОК
CONT STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT STOPC=0,CEN,CYSTR=NT3
;*** 8
CONT STOPC=20,DDEV=STATUS,ALUS=DZ,H,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
>,CYSTR=NT3
;*** 9: БОПП
CONT STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT STOPC=0,CEN,CYSTR=NT3
;*** A
CONT STOPC=20,DDEV=STATUS,ALUS=DZ,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
>,CYSTR=NT3
;*** B: БОИ ТЕГА
CONT STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CJS A=CMP,MAP=PE,YDEV=ECBTAG,BRA=RG3,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT STOPC=0,CEN,CYSTR=NT3
;*** C
CONT STOPC=20,DDEV=STATUS,ALUS=DZ,H,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG2,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
>,CYSTR=NT3
;*** D: БОИ ДАННЫХ
CONT STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT STOPC=0,CEN,CYSTR=NT3
;*** E
CONT STOPC=20,DDEV=STATUS,ALUS=DZ,H,ALU,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
>,CYSTR=NT3
;*** F: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT STOPC=0,CEN,CYSTR=NT3
;*** 10
CONT STOPC=20,DDEV=STATUS,ALUS=DZ,H,ALU,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
>,CYSTR=NT3
;*** 11: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT STOPC=0,CEN,CYSTR=NT3
;*** 12
CONT STOPC=20,DDEV=STATUS,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
>,CYSTR=NT3
;*** 13: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- AK
CONT STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT STOPC=0,CENCYSTR=NT3
;*** 14
CONT STOPC=20,DDEV=STATUS,ALUS=DZ,H,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT21,MAP=PE,%TIK%
;
;
TAKT22:ENTRY
;===== ИЗ СТАТУСНОГО РГ.(M,N) ЧЕРЕЗ БОИ - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,АИСП,ОЗУ ПРИПИСОК,БОПП,ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAK22,MAP=PE
TAK22:CONT A=H22,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT22:CONT %CLRTYP%,CYSTR=NT9
CONT A=HC0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0
>,CYSTR=NT3
;*** 1: РНГ
CONT STOPC=32,DDEV=STATUS,%TOYR3%,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT STOPC=0,CEN,CYSTR=NT3
;*** 2
CONT STOPC=20,DDEV=STATUS,%TOYR0%,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
>,CYSTR=NT3
;*** 3: РНП
CONT STOPC=32,DDEV=STATUS,%TOYR3%,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT STOPC=0,CEN,CYSTR=NT3
;*** 4
CONT STOPC=20,DDEV=STATUS,%TOYR2%,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STOPC,WRD,STOPC=0,CEM
>,CYSTR=NT3
;*** 5: АИСП
CONT STOPC=32,DDEV=STATUS,%TOYR3%,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STOPC,WRD,STOPC=0,CEM
CONT STOPC=0,CEN,CYSTR=NT3
;*** 6
CONT STOPC=20,DDEV=STATUS,%TOYR0%,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
>,CYSTR=NT3
;*** 7: ОЗУ ПРИПИСОК
CONT STOPC=32,DSRC=PROM,%TOYR1%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT STOPC=0,CEN,CYSTR=NT3
;*** 8
CONT STOPC=20,DDEV=STATUS,%TOYR0%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=HC0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
>,CYSTR=NT3
;*** 9: БОПП
CONT STOPC=32,DDEV=STATUS,%TOYR1%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT STOPC=0,CEN,CYSTR=NT3
;*** A
CONT STOPC=20,DDEV=STATUS,%TOYR0%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
>,CYSTR=NT3
;*** B: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT STOPC=32,DDEV=STATUS,%TOYR0%,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT STOPC=0,CENCYSTR=NT3
;*** C
CONT STOPC=20,DDEV=STATUS,%TOYR1%,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
>,CYSTR=NT3
;*** D: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT STOPC=32,DDEV=STATUS,%TOYR2%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT STOPC=0,CEN,CYSTR=NT3
;*** E
CONT STOPC=20,DDEV=STATUS,%TOYR0%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
>,CYSTR=NT3
;*** F: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- AK
CONT STOPC=32,DDEV=STATUS,%TOYR0%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT STOPC=0,CEN,CYSTR=NT3
;*** 10
CONT STOPC=20,DDEV=STATUS,%TOYR1%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT22,MAP=PE,%TIK%
;
;
TAKT23:ENTRY
;===== СТАТУСНЫЙ РГ.М - В МПС
;
CJP A=TAK23,MAP=PE
TAK23:CONT A=H23,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT23:CONT %CLRTYP%
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT9
;1
CJS A=SUBR23,MAP=PE
CJS A=CMP,MAP=PE,%TYPE%
;2
CJS A=SUBR23,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;3
CJS A=SUBR23,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;4
CJS A=SUBR23,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT23,MAP=PE,%TIK%
;П/П ЗАПИСИ И ЧТЕНИЯ СТАТУСНОГО РЕГИСТРА М
SUBR23:CONT ALUS=ZA,RA=A,H,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CONT CYSTR=NT3
;***
CRTN STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
;
;
TAKT24:ENTRY
;===== СТАТУСНЫЙ РГ.M - ЧЕРЕЗ МПС - В ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAK24,MAP=PE
TAK24:CONT A=H24,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT24:CONT %CLRTYP%
;1
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=SUBW24,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD
>,STOPC=0,CEM,CYSTR=NT9
CJS A=CMP,MAP=PE,%TYPE%
;2
CJS A=SUBW24,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD
>,STOPC=0,CEM
CJS A=CMP,MAP=PE,%TYPE%
;3
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD
>,STOPC=0,CEM
CJS A=SUBW24,MAP=PE
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT24,MAP=PE,%TIK%
;П/П ЗАПИСИ ИЗ СТАТУСНОГО РГ. M ЧЕРЕЗ МПС В ОЗУ МОД.
SUBW24:CONT CYSTR=NT4
;***
CONT STOPC=32,DDEV=STATUS,ALUS=DZ,ALU,CSM,WEM,MNSA=MP,MODNM=ACL
CRTN CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,H,ALUD=B,RB=Y
;
;
TAKT25:ENTRY
;===== СТАТУСНЫЙ РГ.M - ЧЕРЕЗ БОИ - В ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAK25,MAP=PE
TAK25:CONT A=H25,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT25:CONT %CLRTYP%
;1
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=SUBW25,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD
>,STOPC=0,CEM,CYSTR=NT9
CJS A=CMP,MAP=PE,%TYPE%
;2
CJS A=SUBW25,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD
>,STOPC=0,CEM
CJS A=CMP,MAP=PE,%TYPE%
;3
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=STATUS,WRD
>,STOPC=0,CEM
CJS A=SUBW25,MAP=PE
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT25,MAP=PE,%TIK%
;П/П ЗАПИСИ ИЗ СТАТУСНОГО РГ. M ЧЕРЕЗ БОИ В ОЗУ МОД.
SUBW25:CONT CYSTR=NT3
;***
CONT STOPC=32,DDEV=STATUS,ECA,WRA,ARA=RG3,ECB,BRA=RG3,CSM,WEM,MNSA=MP,MODNM=ACL
CRTN CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,H,ALUD=B,RB=Y
;
;     ОЗУ ПС
;    ========
;
TAKT26:ENTRY
;===== ИЗ ОЗУ ПС - В ПРИЕМНИКИ ШИНЫ D: БОИ, МПС
;
CJP A=TAK26,MAP=PE
TAK26:CONT A=H26,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT26:CONT %CLRTYP%,CYSTR=NT9
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD,CYSTR=NT3
;*** 1: БОИ
CONT DDEV=PPMEM0,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM1,WRD,CYSTR=NT3
;*** 2
CONT DDEV=PPMEM1,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD,CYSTR=NT3
;*** 3: АЛУ, СЛОЖЕНИЕ С 0
CONT DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM1,WRD,CYSTR=NT3
;*** 4
CONT DDEV=PPMEM1,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD,CYSTR=NT3
;*** 5: АЛУ, AND C FFFF
CONT DDEV=PPMEM0,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM1,WRD,CYSTR=NT3
;*** 6
CONT DDEV=PPMEM1,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD,CYSTR=NT3
;*** 7: АЛУ, EXNOR С FFFF
CONT DDEV=PPMEM0,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM1,WRD,CYSTR=NT3
;*** 8
CONT DDEV=PPMEM1,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT26,MAP=PE,%TIK%
;
;
TAKT27:ENTRY
;===== ИЗ ОЗУ ПС ЧЕРЕЗ МПС (+ ОПЕРАЦИЯ!) - В ПРИЕМНИКИ ШИНЫ Y:
;   РФС,АИСП,ОЗУ ПРИПИСОК,БОИ ДАННЫХ,ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAK27,MAP=PE
TAK27:CONT A=H27,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT27:CONT %CLRTYP%,CYSTR=NT9
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD,CYSTR=NT3
;*** 1: РФС
CONT DDEV=PPMEM0,ALUS=DZ,H,ALU,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM1,WRD,CYSTR=NT3
;*** 2
CONT DDEV=PPMEM1,ALUS=DZ,H,ALU,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PPMEM0,WRD,CYSTR=NT3
;*** 3: АИСП
CONT DDEV=PPMEM0,ALUS=DZ,H,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=PPMEM1,WRD,CYSTR=NT3
;*** 4
CONT DDEV=PPMEM1,ALUS=DZ,H,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD,CYSTR=NT3
;*** 5: ОЗУ ПРИПИСОК
CONT DDEV=PPMEM0,ALUS=DZ,H,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM1,WRD,CYSTR=NT3
;*** 6
CONT DDEV=PPMEM1,ALUS=DZ,H,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD,CYSTR=NT3
;*** 7: БОИ ДАННЫХ
CONT DDEV=PPMEM0,ALUS=DZ,H,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM1,WRD,CYSTR=NT3
;*** 8
CONT DDEV=PPMEM1,ALUS=DZ,H,ALU,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD,CYSTR=NT3
;*** 9: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT DDEV=PPMEM0,ALUS=DZ,H,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM1,WRD,CYSTR=NT3
;*** A
CONT DDEV=PPMEM1,ALUS=DZ,H,ALU,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD,CYSTR=NT3
;*** B: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT DDEV=PPMEM0,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM1,WRD,CYSTR=NT3
;*** C
CONT DDEV=PPMEM1,ALUS=DZ,H,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD,CYSTR=NT3
;*** D: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- AK
CONT DDEV=PPMEM0,ALUS=DZ,H,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM1,WRD,CYSTR=NT3
;*** E
CONT DDEV=PPMEM1,ALUS=DZ,H,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT27,MAP=PE,%TIK%
;
;
TAKT28:ENTRY
;===== ИЗ ОЗУ ПС ЧЕРЕЗ БОИ - В ПРИЕМНИКИ ШИНЫ Y:
;   РФС,АИСП,ОЗУ ПРИПИСОК,ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAK28,MAP=PE
TAK28:CONT A=H28,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT28:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD,CYSTR=NT3
;*** 1: РФС
CONT DDEV=PPMEM0,%TOYR3%,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM1,WRD,CYSTR=NT3
;*** 2
CONT DDEV=PPMEM1,%TOYT3%,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD,CYSTR=NT3
;*** 3: АИСП
CONT DDEV=PPMEM0,%TOYR3%,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM1,WRD,CYSTR=NT3
;*** 4
CONT DDEV=PPMEM1,%TOYR0%,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD,CYSTR=NT3
;*** 5: ОЗУ ПРИПИСОК
CONT DDEV=PPMEM0,%TOYR1%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM1,WRD,CYSTR=NT3
;*** 6
CONT DDEV=PPMEM1,%TOYR0%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD,CYSTR=NT3
;*** 7: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT DDEV=PPMEM0,%TOYR0%,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMRM1,WRD,CYSTR=NT3
;*** 8
CONT DDEV=PPMEM1,%TOYR1%,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD,CYSTR=NT3
;*** 9: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT DDEV=PPMEM0,%TOYR2%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM1,WRD,CYSTR=NT3
;*** A
CONT DDEV=PPMEM1,%TOYR0%,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD,CYSTR=NT3
;*** B: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- AK
CONT DDEV=PPMEM0,%TOYR0%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM1,WRD,CYSTR=NT3
;*** C
CONT DDEV=PPMEM1,%TOYR1%,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT28,MAP=PE,%TIK%
;
;
TAKT29:ENTRY
;===== ОЗУ ПС - ЧЕРЕЗ МПС - В ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAK29,MAP=PE
TAK29:CONT A=H29,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT29:CONT %CLRTYP%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=SUBW29,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD,CYSTR=NT9
CJS A=CMP,MAP=PE,%TYPE%
;2
CJS A=SUBW29,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,%TYPE%
;3
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD
CJS A=SUBW29,MAP=PE
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT29,MAP=PE,%TIK%
;ЗАПИСЬ ИЗ ОЗУ ПС ЧЕРЕЗ МПС - В ОЗУ МОД.
SUBW29:CONT CYSTR=NT5
;***
CONT DDEV=PPMEM0,ALUS=DZ,ALU,CSM,WEM,MNSA=MP,MODNM=ACL
CRTN CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,H,ALUD=B,RB=Y
;
;
TAKT2A:ENTRY
;===== ОЗУ ПС - ЧЕРЕЗ БОИ - В ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAK2A,MAP=PE
TAK2A:CONT A=H2A,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT2A:CONT %CLRTYP%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=SUBW2A,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD,CYSTR=NT9
CJS A=CMP,MAP=PE,%TYPE%
;2
CJS A=SUBW2A,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,%TYPE%
;3
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,DDEV=PPMEM0,WRD
CJS A=SUBW2A,MAP=PE
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT2A,MAP=PE,%TIK%
;ЗАПИСЬ ИЗ ОЗУ ПС ЧЕРЕЗ БОИ - В ОЗУ МОД.
SUBW2A:CONT CYSTR=NT4
;***
CONT DDEV=PPMEM0,ECA,WRA,ARA=RG3,ECB,BRA=RG3,CSM,WEM,MNSA=MP,MODNM=ACL
CRTN CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,H,ALUD=B,RB=Y
;
;     БОИ ДАННЫХ
;     ==========
;
TAKT2B:ENTRY
;===== ИЗ БОИ (КАНАЛ А) - В ПРИЕМНИКИ ШИНЫ D: БОБР+БИЗМ, БМСП, МПС
;
CJP A=TAK2B,MAP=PE
TAK2B:CONT A=H2B,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT2B:CONT %CLRTYP%,CYSTR=NT9
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG1,CYSTR=NT3
;*** 1: БОБР,БИЗМ
CONT ECA,ARA=RG1,DDEV=BB,WRD
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 2
CONT ECA,ARA=RG3,DDEV=BB,WRD
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 3: БМСП
CONT ECA,ARA=RG0,DDEV=MODB,WRD
CONT A=H1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG2,CYSTR=NT3
;*** 4
CONT ECA,ARA=RG2,DDEV=MODB,WRD
CONT A=H1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 5: АЛУ, СЛОЖЕНИЕ С 0
CONT ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 6
CONT ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 7: АЛУ, AND С FFFF
CONT ECA,ARA=RG3,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,ARA=RG0,CYSTR=NT3
;*** 8
CONT ECA,ARA=RG0,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG2,CYSTR=NT3
;*** 9: АЛУ, EXNOR С FFFF
CONT ECA,ARA=RG2,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** A
CONT ECA,ARA=RG0,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT А=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,ECA,WRA,ARA=RG1,CYSTR=NT3
;*** B: SUB: CONST - CONST - 1 + CI=1
CONT ECA,ARA=RG1,ALUS=DA,RA=Y,FUNC=SUBR,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** C
CONT ECA,ARA=RG3,ALUS=DA,RA=Y,FUNC=SUBR,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT2B,MAP=PE,%TIK%
;
;
TAKT2C:ENTRY
;===== ИЗ БОИ (КАНАЛ А) - ЧЕРЕЗ МПС (+ ОПЕРАЦИЯ!) - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,РГ/ТГ,РФС,КОП АРБИТРА,АИСП,РПС,ОЗУ ПРИПИСОК,БОПП,
;   БОИ ТЕГА,БОИ ДАННЫХ,ОЗУ МОДИФИКАТОРОВ,CТАТУС,ОЗУ ПС,ШФ+РГ/СЧ
;
CJP A=TAK2C,MAP=PE
TAK2C:CONT A=H2C,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT2C:CONT %CLRTYP%,CYSTR=NT9
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG1,CYSTR=NT3
;*** 1: РНГ
CONT ECA,ARA=RG1,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 2
CONT ECA,ARA=RG0,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 3: РНП
CONT ECA,ARA=RG0,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 4
CONT ECA,ARA=RG3,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MFLFL,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG2,CYSTR=NT3
;*** 5: ТГ.ПРИЗНАКОВ
CONT ECA,ARA=RG2,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 6
CONT ECA,ARA=RG0,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 7: РФС
CONT ECA,ARA=RG0,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 8
CONT ECA,ARA=RG3,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 9: КОП АРБИТРА
CONT ECA,ARA=RG0,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** A
CONT ECA,ARA=RG3,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=APBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** B: АИСП
CONT ECA,ARA=RG3,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** C
CONT ECA,ARA=RG0,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MH,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=A
CONT A=SR32,DSRC=PROM,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** D: РПС
CONT ECA,ARA=RG0,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PSHIFT
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MNH,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=A,
CONT A=SL32,DSRC=PROM,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** E
CONT ECA,ARA=RG3,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PSHIFT
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG2,CYSTR=NT3
;*** F: ОЗУ ПРИПИСОК
CONT ECA,ARA=RG2,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 10
CONT ECA,ARA=RG0,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 11: БОПП
CONT ECA,ARA=RG0,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 12
CONT ECA,ARA=RG3,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 13: БОИ ТЕГА
CONT ECA,ARA=RG0,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CJS A=CMP,MAP=PE,YDEV=ECBTAG,BRA=RG3,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 14
CONT ECA,ARA=RG3,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG2,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG1,CYSTR=NT3
;*** 15: БОИ ДАННЫХ
CONT ECA,ARA=RG1,ALUS=DZ,FUNC=SUBS,H,CI,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 16
CONT ECA,ARA=RG0,ALUS=DZ,FUNC=SUBS,H,CI,ALU,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 17: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT ECA,ARA=RG0,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 18
CONT ECA,ARA=RG3,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 19: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT ECA,ARA=RG3,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 1A
CONT ECA,ARA=RG0,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 1B: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- AK
CONT ECA,ARA=RG3,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG2,CYSTR=NT3
;*** 1C
CONT ECA,ARA=RG2,ALUS=DZ,FUNC=SUBS,H,CI,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 1D: СТАТУС, РГ.M
CONT ECA,ARA=RG3,ALUS=DZ,FUNC=SUBS,H,CI,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 1E
CONT ECA,ARA=RG0,ALUS=DZ,FUNC=SUBS,H,CI,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 1F: ОЗУ ПС
CONT ECA,WRA,ARA=RG3,ALUS=DZ,FUNC=SUBS,H,CI,ALU,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 20
CONT ECA,ARA=RG0,ALUS=DZ,FUNC=SUBS,H,CI,ALU,DDEV=PPMEM1,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C9,DSRC=PROM,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 21: РГ/СЧ СУАМ
CONT ECA,ARA=RG0,ALUS=DZ,FUNC=SUBS,H,CI,ALU,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B9,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,
CONT A=MB,DSRC=PROM,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 22
CONT ECA,ARA=RG3,ALUS=DZ,FUNC=SUBS,H,CI,ALU,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT2C,MAP=PE,%TIK%
;
;
TAKT2D:ENTRY
;===== ИЗ БОИ (КАНАЛ B) - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,РГ/ТГ,РФС,КОП АРБИТРА,АИСП,РПС,ОЗУ ПРИПИСОК,БОПП,
;   ОЗУ МОДИФИКАТОРОВ,CТАТУС,ОЗУ ПС,ШФ+РГ/СЧ
;
CJP A=TAK2D,MAP=PE
TAK2D:CONT A=H2D,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT2D:CONT %CLRTYP%,CYSTR=NT9
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 1: РНГ
CONT ECB,BRA=RG3,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 2
CONT ECB,BRA=RG0,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 3: РНП
CONT ECB,BRA=RG0,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 4
CONT ECB,BRA=RG3,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MFLFL,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 5: ТГ.ПРИЗНАКОВ
CONT ECB,BRA=RG0,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 6
CONT ECB,BRA=RG3,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 7: РФС
CONT ECB,BRA=RG3,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 8
CONT ECB,BRA=RG0,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 9: КОП АРБИТРА
CONT ECB,BRA=RG3,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** A
CONT ECB,BRA=RG0,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=APBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** B: АИСП
CONT ECB,BRA=RG3,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** C
CONT ECB,BRA=RG0,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MH,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=A
CONT A=SR32,DSRC=PROM,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** D: РПС
CONT ECB,BRA=RG3,YDST=PSHIFT
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MNH,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=A
CONT A=SL32,DSRC=PROM,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** E
CONT ECB,BRA=RG0,YDST=PSHIFT
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** F: ОЗУ ПРИПИСОК
CONT ECB,BRA=RG0,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 10
CONT ECB,BRA=RG3,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 11: БОПП
CONT ECB,BRA=RG0,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 12
CONT ECB,BRA=RG3,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 13: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT ECB,BRA=RG0,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 14
CONT ECB,BRA=RG3,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 15: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT ECB,BRA=RG0,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 16
CONT ECB,BRA=RG3,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 17: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- AK
CONT ECB,BRA=RG3,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,BRA=RG0,CYSTR=NT3
;*** 18
CONT ECB,BRA=RG0,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 19: СТАТУС, РГ.M
CONT ECB,BRA=RG3,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 1A
CONT ECB,BRA=RG0,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 1B: ОЗУ ПС
CONT ECB,BRA=RG0,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 1C
CONT ECB,BRA=RG3,DDEV=PPMEM1,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C9,DSRC=PROM,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 1D: РГ/СЧ СУАМ
CONT ECB,BRA=RG0,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B9,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 1E
CONT ECB,BRA=RG3,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT2D,MAP=PE,%TIK%
;
;
TAKT2E:ENTRY
;===== БОИ ДАННЫХ (B) - В ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAK2E,MAP=PE
TAK2E:CONT A=H2E,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT2E:CONT %CLRTYP%
CONT %TYPE%,CYSTR=NT9
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=B7,DSRC=PROM,ECA,WRA,ARA=RG2,ALUS=DZ,ALUD=B,RB=A,CYSTR=NT3
;*** 1
CONT ECB,BRA=RG2,CSM,WЕМ,MNSA=МР,MODNM=ACL
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CF530,DSRC=PROM,ECA,WRA,ARA=RG3,ALUS=DZ,ALUD=B,RB=A,CYSTR=NT3
;*** 2
CONT ECB,BRA=RG3,CSM,WЕМ,MNSA=МР,MODNM=ACR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C0202,DSRC=PROM,ECA,WRA,ARA=RG0,ALUS=DZ,ALUD=B,RB=A,CYSTR=NT3
;*** 3
CONT ECB,BRA=RG0,CSM,WЕМ,MNSA=МР,MODNM=ACL
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT2E,MAP=PE,%TIK%
;
;     ОЗУ МОДИФИКАТОРОВ
;     =================
;
TAKT2F:ENTRY
;===== ИЗ ОЗУ МОДИФИКАТОРОВ - В ПРИЕМНИКИ ШИНЫ D: БОИ, БОБР+БИЗМ, БМСП, МПС
;
CJP A=TAK2F,MAP=PE
TAK2F:CONT A=H2F,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT2F:CONT %CLRTYP%,CYSTR=NT9
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M4
>,CYSTR=NT3
;*** 1: БОИ
CONT CSM,MNSA=MP,MODNM=M4,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M15
>,CYSTR=NT3
;*** 2
CONT CSM,MNSA=MP,MODNM=M15,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M4
>,CYSTR=NT3
;*** 3: БОБР,БИЗМ
CONT CSM,MNSA=MP,MODNM=M4,DDEV=BB,WRD
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M8
>,CYSTR=NT3
;*** 4
CONT CSM,MNSA=MP,MODNM=M8,DDEV=BB,WRD
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M4
>,CYSTR=NT3
;*** 5: БМСП
CONT CSM,MNSA=MP,MODNM=M4,DDEV=MODB,WRD
CONT A=H1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M8
>,CYSTR=NT3
;*** 6
CONT CSM,MNSA=MP,MODNM=M8,DDEV=MODB,WRD
CONT A=H1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M4
>,CYSTR=NT3
;*** 7: АЛУ, СЛОЖЕНИЕ С 0
CONT CSM,MNSA=MP,MODNM=M4,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M5
>,CYSTR=NT3
;*** 8
CONT CSM,MNSA=MP,MODNM=M5,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M8
>,CYSTR=NT3
;*** 9: АЛУ, AND С FFFF
CONT CSM,MNSA=MP,MODNM=M8,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M1
>,CYSTR=NT3
;*** A
CONT CSM,MNSA=MP,MODNM=M1,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M2
>,CYSTR=NT3
;*** B: АЛУ, EXNOR С FFFF
CONT CSM,MNSA=MP,MODNM=M2,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M7
>,CYSTR=NT3
;*** C
CONT CSM,MNSA=MP,MODNM=M7,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT А=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,ALU,CSM,WEM,MNSA=MP,MODMN=M2
>,CYSTR=NT3
;*** D: SUB: CONST - CONST - 1 + CI=1
CONT CSM,MNSA=MP,MODNM=M2,ALUS=DA,RA=Y,FUNC=SUBR,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,ALU,CSM,WEM,MNSA=MP,MODNM=M5
>,CYSTR=NT3
;*** E
CONT CSM,MNSA=MP,MODNM=M5,ALUS=DA,RA=Y,FUNC=SUBR,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT2F,MAP=PE,%TIK%
;
;
TAKT30:ENTRY
;===== ИЗ ОЗУ МОДИФИКАТОРОВ - ЧЕРЕЗ МПС (+ ОПЕРАЦИЯ!) - В ПРИЕМНИКИ ШИНЫ Y:
;   РНП,РГ/ТГ,РФС,КОП АРБИТРА,АИСП,РПС,ОЗУ ПРИПИСОК,БОПП,
;   БОИ ТЕГА,БОИ ДАННЫХ,CТАТУС,ОЗУ ПС,ШФ+РГ/СЧ
;
CJP A=TAK30,MAP=PE
TAK30:CONT A=H30,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT30:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M4
>,CYSTR=NT3
;*** 1: РНП
CONT CSM,MNSA=MP,MODNM=M4,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M1
>,CYSTR=NT3
;*** 2
CONT CSM,MNSA=MP,MODNM=M1,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MFLFL,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M9
>,CYSTR=NT3
;*** 3: ТГ.ПРИЗНАКОВ
CONT CSM,MNSA=MP,MODNM=M9,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M2
>,CYSTR=NT3
;*** 4
CONT CSM,MNSA=MP,MODNM=M2,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M6
>,CYSTR=NT3
;*** 5: РФС
CONT CSM,MNSA=MP,MODNM=M6,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M6
>,CYSTR=NT3
;*** 6
CONT CSM,MNSA=MP,MODNM=M6,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M4
>,CYSTR=NT3
;*** 7: КОП АРБИТРА
CONT CSM,MNSA=MP,MODNM=M4,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
>,CYSTR=NT3
;*** 8
CONT CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=APBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACL
>,CYSTR=NT3
;*** 9: АИСП
CONT CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M1
>,CYSTR=NT3
;*** A
CONT CSM,MNSA=MP,MODNM=M1,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MH,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=A
CONT A=SR32,DSRC=PROM,%TOYG1%,CSM,WEM,MNSA=MP,MODNM=YCL,CYSTR=NT3
;*** B: РПС
CONT CSM,MNSA=MP,MODNM=YCL,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PSHIFT
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MNH,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=A
CONT A=SL32,DSRC=PROM,%TOYR0%,CSM,WEM,MNSA=MP,MODNM=M1,CYSTR=NT3
;*** C
CONT CSM,MNSA=MP,MODNM=M1,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDST=PSHIFT
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M1
>,CYSTR=NT3
;*** D: ОЗУ ПРИПИСОК
CONT CSM,MNSA=MP,MODNM=M1,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODMN=ACR
>,CYSTR=NT3
;*** E
CONT CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,MNSA=MP,MODNM=M1
>,CYSTR=NT3
;*** F: БОПП
CONT CSM,MNSA=MP,MODNM=M1,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=MPMEM,WRY,IOMP
>,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
>,CYSTR=NT3
;*** 10
CONT CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEV=MPMEM,WRY,IOMP
>,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M1
>,CYSTR=NT3
;*** 11: БОИ ТЕГА
CONT CSM,MNSA=MP,MODNM=M1,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CJS A=CMP,MAP=PE,YDEV=ECBTAG,BRA=RG3,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
>,CYSTR=NT3
;*** 12
CONT CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,FUNC=SUBS,H,CI,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG2,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M1
>,CYSTR=NT3
;*** 13: БОИ ДАННЫХ
CONT CSM,MNSA=MP,MODNM=M1,ALUS=DZ,FUNC=SUBS,H,CI,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
>,CYSTR=NT3
;*** 14
CONT CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,FUNC=SUBS,H,CI,ALU,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M8
>,CYSTR=NT3
;*** 15: СТАТУС, РГ.M
CONT CSM,MNSA=MP,MODNM=M8,ALUS=DZ,FUNC=SUBS,H,CI,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
>,CYSTR=NT3
;*** 16
CONT CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,FUNC=SUBS,H,CI,ALU,DDEV=STATUS,WRD
>,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
>,CYSTR=NT3
;*** 17: ОЗУ ПС
CONT CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,FUNC=SUBS,H,CI,ALU,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M1
>,CYSTR=NT3
;*** 18
CONT CSM,MNSA=MP,MODNM=M1,ALUS=DZ,FUNC=SUBS,H,CI,ALU,DDEV=PPMEM1,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C9,DSRC=PROM,%TOYR0%,CSM,WEM,MNSA=MP,MODNM=M1,CYSTR=NT3
;*** 19: РГ/СЧ СУАМ
CONT CSM,MNSA=MP,MODNM=M1,ALUS=DZ,FUNC=SUBS,H,CI,ALU,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B9,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,%TOYR3%,CSM,WEM,MNSA=MP,MODNM=ACR,CYSTR=NT3
;*** 1A
CONT CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,FUNC=SUBS,H,CI,ALU,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT30,MAP=PE,%TIK%
;
;
TAKT31:ENTRY
;===== ИЗ ОЗУ МОДИФИКАТОРОВ - ЧЕРЕЗ БОИ - В ПРИЕМНИКИ ШИНЫ Y:
;   РНП,РГ/ТГ,РФС,КОП АРБИТРА,АИСП,РПС,ОЗУ ПРИПИСОК,БОПП,CТАТУС,ОЗУ ПС,ШФ+РГ/СЧ
;
CJP A=TAK31,MAP=PE
TAK31:CONT A=H31,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT31:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M1
>,CYSTR=NT3
;*** 1: РНП
CONT CSM,MNSA=MP,MODNM=M1,%TOYR3%,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
>,CYSTR=NT3
;*** 2
CONT CSM,MNSA=MP,MODNM=ACR,%TOYR2%,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MFLFL,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
>,CYSTR=NT3
;*** 3: ТГ.ПРИЗНАКОВ
CONT CSM,MNSA=MP,MODNM=ACR,%TOYR0%,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M1
>,CYSTR=NT3
;*** 4
CONT CSM,MNSA=MP,MODNM=M1,%TOTR0%,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
>,CYSTR=NT3
;*** 5: РФС
CONT CSM,MNSA=MP,MODNM=ACR,%TOYR3%,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M1
>,CYSTR=NT3
;*** 6
CONT CSM,MNSA=MP,MODNM=M1,%TOYT3%,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
>,CYSTR=NT3
;*** 7: КОП АРБИТРА
CONT CSM,MNSA=MP,MODNM=ACR,%TOYR2%,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M3
>,CYSTR=NT3
;*** 8
CONT CSM,MNSA=MP,MODNM=M3,%TOYR0%,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=APBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M1
>,CYSTR=NT3
;*** 9: АИСП
CONT CSM,MNSA=MP,MODNM=M1,%TOYR3%,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
>,CYSTR=NT3
;*** A
CONT CSM,MNSA=MP,MODNM=ACR,%TOYR0%,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MH,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=A
CONT A=SR32,DSRC=PROM,%TOYR3%,CSM,WEM,MNSA=MP,MODNM=M1,CYSTR=NT3
;*** B: РПС
CONT CSM,MNSA=MP,MODNM=M1,%TOYR1%,YDST=PSHIFT
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MNH,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=A
CONT A=SL32,DSRC=PROM,%TOYR1%,CSM,WEM,MNSA=MP,MODNM=M4,CYSTR=NT3
;*** C
CONT CSM,MNSA=MP,MODNM=M4,%TOYR2%,YDST=PSHIFT
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
>,CYSTR=NT3
;*** D: ОЗУ ПРИПИСОК
CONT CSM,MNSA=MP,MODNM=ACR,%TOYR1%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M1
>,CYSTR=NT3
;*** E
CONT CSM,MNSA=MP,MODNM=M1,%TOYR0%,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M4
>,CYSTR=NT3
;*** F: БОПП
CONT CSM,MNSA=MP,MODNM=M4,%TOYR1%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
>,CYSTR=NT3
;*** 10
CONT CSM,MNSA=MP,MODNM=ACR,%TOYR0%,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M1
>,CYSTR=NT3
;*** 11: СТАТУС, РГ.M
CONT CSM,MNSA=MP,MODNM=M1,%TOYR0%,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
>,CYSTR=NT3
;*** 12
CONT CSM,MNSA=MP,MODNM=ACR,%TOYR1%,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=M1
>,CYSTR=NT3
;*** 13: ОЗУ ПС
CONT CSM,MNSA=MP,MODNM=M1,%TOYR0%,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODMN=ACR
>,CYSTR=NT3
;*** 14
CONT CSM,MNSA=MP,MODNM=ACR,%TOYR3%,DDEV=PPMEM1,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C9,DSRC=PROM,%TOYR3%,CSM,WEM,MNSA=MP,MODNM=M1,CYSTR=NT3
;*** 15: РГ/СЧ СУАМ
CONT CSM,MNSA=MP,MODNM=M1,%TOYR0%,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B9,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,%TOYR0%,CSM,WEM,MNSA=MP,MODNM=ACR,CYSTR=NT3
;*** 16
CONT CSM,MNSA=MP,MODNM=ACR,%TOYR3%,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT31,MAP=PE,%TIK%
;
;
TAKT32:ENTRY
;===== ОЗУ МОДИФ.- В БОИ ДАННЫХ
;
CJP A=TAK32,MAP=PE
TAK32:CONT A=H32,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT32:CONT %CLRTYP%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,CYSTR=NT9
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACL
>,CYSTR=NT3
;*** 1
CONT CSM,MNSA=МР,MODNM=ACL,ЕСА,WRA,ARA=RG2
CONT %TYPE%
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
>,CYSTR=NT3
;*** 2
CONT CSM,MNSA=МР,MODNM=ACR,ЕСА,WRA,ARA=RG0
CONT %TYPE%
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT32,MAP=PE,%TIK%
;
;
TAKT33:ENTRY
;===== ОЗУ МОДИФ.- В МПС + ОПЕРАЦИЯ
;   В МП ИСПОЛЬЗОВАТЬ NT4 !?!?
;
CJP A=TAK33,MAP=PE
TAK33:CONT A=H33,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT33:CONT %CLRTYP%
CONT %TYPE%,CYSTR=NT9
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACL
>,CYSTR=NT3
;*** 1; ЗДЕСЬ NT3 РАБОТАЕТ НЕ ВСЕГДА !?!?
CJS A=CMP,MAP=PE,CSM,MNSA=МР,MODNM=ACL,ALUS=DZ,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACL
>,CYSTR=NT3
;*** 2
CJS A=CMP,MAP=PE,CSM,MNSA=МР,MODNM=ACL,ALUS=DA,RA=BYTE,FUNC=AND,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
>,CYSTR=NT3
;*** 3
CJS A=CMP,MAP=PE,CSM,MNSA=МР,MODNM=ACR,ALUS=DA,RA=BYTE,FUNC=AND,H,ALUD=B,RB=Y
CJP A=CT33,MAP=PE,%TIK%
;
;
TAKT34:ENTRY
;===== ОЗУ МОДИФ.- ЧЕРЕЗ МПС (С ЗАПИСЬЮ И БЕЗ ЗАПИСИ В РГ.) - В РНП
;
CJP A=TAK34,MAP=PE
TAK34:CONT A=H34,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT34:CONT %CLRTYP%
CONT %TYPE%,CYSTR=NT9
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=C7,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
>,CYSTR=NT3
;*** 1,2
CJS A=CMP,MAP=PE,CSM,MNSA=МР,MODNM=ACR,ALUS=DZ,ALUD=B,RB=Y,ALU,YDST=PROCN
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACL
>,CYSTR=NT3
;*** 3
CONT CSM,MNSA=МР,MODNM=ACL,ALUS=DZ,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,ALUD=B,RB=Y
CJP A=CT34,MAP=PE,%TIK%
;
;
TAKT35:ENTRY
;===== ОЗУ МОДИФ.- ЧЕРЕЗ БОИ - В РНП
;
CJP A=TAK35,MAP=PE
TAK35:CONT A=H35,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT35:CONT %CLRTYP%
CONT %TYPE%,CYSTR=NT9
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CF0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACL
>,CYSTR=NT3
;*** 1
CONT CSM,MNSA=МР,MODNM=ACL,ECA,WRA,ARA=RG3,ECB,BRA=RG3,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACL
CONT %TYPE%,CYSTR=NT3
;*** 2
CONT CSM,MNSA=МР,MODNM=ACL,ECA,WRA,ARA=RG3,ECB,BRA=RG3,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACL
CONT %TYPE%,CYSTR=NT3
;*** 3
CONT CSM,MNSA=МР,MODNM=ACL,ECA,WRA,ARA=RG3,ECB,BRA=RG3,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACL
CONT %TYPE%,CYSTR=NT3
;*** 4
CONT CSM,MNSA=МР,MODNM=ACL,ECA,WRA,ARA=RG3,ECB,BRA=RG3,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,ALUD=B,RB=Y
CJP A=CT35,MAP=PE,%TIK%
;
;
TAKT36:ENTRY
;===== ОЗУ МОДИФИКАТОРОВ - ЧЕРЕЗ МПС - В СТАТУСНЫЙ РЕГИСТР;
;
CJP A=TAK36,MAP=PE
TAK36:CONT A=H36,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT36:CONT %CLRTYP%
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,CYSTR=NT9
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
>,CYSTR=NT3
;*** 1
CONT CSM,MNSA=МР,MODNM=ACR,ALUS=DZ,ALU,DDEV=STATUS,WRD,SТОРС=0,СЕМ
CONT %TYPE%
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
>,CYSTR=NT3
;*** 2
CONT CSM,MNSA=МР,MODNM=ACR,ALUS=DZ,ALU,DDEV=STATUS,WRD,SТОРС=0,СЕМ
CONT %TYPE%
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT36,MAP=PE,%TIK%
;
;
TAKT37:ENTRY
;===== ОЗУ МОДИФИКАТОРОВ - ЧЕРЕЗ БОИ  - В СТАТУСНЫЙ РЕГИСТР
;
CJP A=TAK37,MAP=PE
TAK37:CONT A=H37,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT37:CONT %CLRTYP%
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,CYSTR=NT9
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACL
>,CYSTR=NT3
;*** 1
CONT CSM,MNSA=МР,MODNM=ACL,ECA,WRA,ARA=RG3,ECB,BRA=RG3,DDEV=STATUS,WRD
>,SТОРС=0,СЕМ
CONT %TYPE%
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CSM,WEM,MNSA=MP,MODNM=ACL
>,CYSTR=NT3
;*** 2
CONT CSM,MNSA=МР,MODNM=ACL,ECA,WRA,ARA=RG3,ECB,BRA=RG3,DDEV=STATUS,WRD
>,SТОРС=0,СЕМ
CONT %TYPE%
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT37,MAP=PE,%TIK%
;
;    А И С П
;   =========
;
TAKT1:ENTRY
;===== ИЗ АИСП - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,РГ/ТГ,РФС,КОП АРБИТРА,РПС,
;   БОИ ДАННЫХ,ОЗУ МОДИФИКАТОРОВ,СТАТУС,РГ/СЧ СУАМ
;
CJP A=TAK1,MAP=PE
TAK1:CONT A=H1,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT1:CONT %CLRTYP%,CYSTR=NT9
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT9
;*** 1: РНГ
CONT YDEV=RADRR,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** 2
CONT YDEV=RADRR,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** 3: РНП
CONT YDEV=RADRR,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** 4
CONT YDEV=RADRR,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=H1C,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** 5: РГ/ТГ
CONT YDEV=RADRR,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** 6
CONT YDEV=RADRR,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** 7: РФС
CONT YDEV=RADRR,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** 8
CONT YDEV=RADRR,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** 9: КОП АРБИТРА
CONT YDEV=RADRR,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** A
CONT YDEV=RADRR,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B33,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=SL32,DSRC=PROM,ALUS=DZ,ALU,YDST=ADRREG,CYSTR=NT3
;*** B: РПС
CONT YDEV=RADRR,YDST=PSHIFT
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=SR32,DSRC=PROM,ALUS=DZ,ALU,YDST=,CYSTR=NT3
;*** C
CONT YDEV=RADRR,YDST=PSHIFT
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** D: БОИ ДАННЫХ
CONT YDEV=RADRR,ECB,WRB,BRA=RG1
CJS A=CMP,MAP=PE,ECA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** E
CONT YDEV=RADRR,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** F: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT YDEV=RADRR,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** 10
CONT YDEV=RADRR,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** 11: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT YDEV=RADRR,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** 12
CONT YDEV=RADRR,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** 13: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- AK
CONT YDEV=RADRR,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** 14
CONT YDEV=RADRR,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** 15: СТАТУС, РГ.M
CONT YDEV=RADRR,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** 16
CONT YDEV=RADRR,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** 17: ОЗУ ПС
CONT YDEV=RADRR,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** 18
CONT YDEV=RADRR,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C4,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG,CYSTR=NT3
;*** 19: РГ/СЧ СУАМ
CONT YDEV=RADRR,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C2,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG,CYSTR=NT3
;*** 1A
CONT YDEV=RADRR,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT1,MAP=PE,%TIK%
;
;
TAKT2:ENTRY
;===== ИЗ АИСП - ЧЕРЕЗ СДВИГАТЕЛЬ - В ПРИЕМНИКИ ШИНЫ D: БОБР+БИЗМ,БМСП,БОИ,МПС
;
CJP A=TAK2,MAP=PE
TAK2:CONT A=H2,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT2:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRRREG,CYSTR=NT3
;*** 1: БОБР+БИЗМ
CONT YDEV=RADRR,%TRSH%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** 2
CONT YDEV=RADRR,%TRSH%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=С1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** 3: БМСП
CONT YDEV=RADRR,%TRSH%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** 4
CONT YDEV=RADRR,%TRSH%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** 5: БОИ
CONT YDEV=RADRR,%TRSH%,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** 6
CONT YDEV=RADRR,%TRSH%,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** 7: АЛУ, СЛОЖЕНИЕ С 0
CONT YDEV=RADRR,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** 8
CONT YDEV=RADRR,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** 9: АЛУ, AND С FFFF
CONT YDEV=RADRR,%TRSH%,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** A
CONT YDEV=RADRR,%TRSH%,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** B: АЛУ, EXNOR С FFFF: NOT(R.EOR.S)
CONT YDEV=RADRR,%TRSH%,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** C
CONT YDEV=RADRR,%TRSH%,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT2,MAP=PE,%TIK%
;
;
TAKT3:ENTRY
;===== ИЗ АИСП - ЧЕРЕЗ БОИ - В ПРИЕМНИКИ ШИНЫ D: БОБР+БИЗМ,БМСП,МПС
;
CJP A=TAK3,MAP=PE
TAK3:CONT A=H3,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT3:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** 1: БОБР+БИЗМ
CONT YDEV=RADRR,%TODR0%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** 2
CONT YDEV=RADRR,%TODR3%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=С1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** 3: БМСП
CONT YDEV=RADRR,%TODR0%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** 4
CONT YDEV=RADRR,%TODR3%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** 5: АЛУ, СЛОЖЕНИЕ С 0
CONT YDEV=RADRR,%TODR0%,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** 6
CONT YDEV=RADRR,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** 7: АЛУ, AND С FFFF
CONT YDEV=RADRR,%TODR0%,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** 8
CONT YDEV=RADRR,%TODR3%,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** 9: АЛУ, EXNOR С FFFF: NOT(R.EOR.S)
CONT YDEV=RADRR,%TODR0%,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT3
;*** A
CONT YDEV=RADRR,%TODR3%,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT3,MAP=PE,%TIK%
;
;    РЕГИСТРЫ ПРИПИСКИ
;    =================
;
TAKT4:ENTRY
;===== ИЗ РЕГИСТРОВ ПРИПИСКИ - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,РГ/ТГ,РФС,КОП АРБИТРА,АИСП,РПС,
;   БОИ ДАННЫХ,ОЗУ МОДИФИКАТОРОВ,СТАТУС,ОЗУ ПС,РГ/СЧ СУАМ
;
CJP A=TAK4,MAP=PE
TAK4:CONT A=H4,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT4:CONT %CLRTYP%,CYSTR=NT9
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT9
;*** 1: РНГ
CONT YDEV=PSMEM,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 2
CONT YDEV=PSMEM,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 3: РНП
CONT YDEV=PSMEM,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 4
CONT YDEV=PSMEM,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=H1C,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 5: РГ/ТГ
CONT YDEV=PSMEM,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 6
CONT YDEV=PSMEM,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 7: РФС
CONT YDEV=PSMEM,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 8
CONT YDEV=PSMEM,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 9: КОП АРБИТРА
CONT YDEV=PSMEM,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** A
CONT YDEV=PSMEM,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** B: АИСП
CONT YDEV=PSMEM,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** C
CONT YDEV=PSMEM,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B33,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=SL32,DSRC=PROM,ALUS=DZ,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** D: РПС
CONT YDEV=PSMEM,YDST=PSHIFT
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=SR32,DSRC=PROM,ALUS=DZ,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** E
CONT YDEV=PSMEM,YDST=PSHIFT
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** F: БОИ ДАННЫХ
CONT YDEV=PSMEM,ECB,WRB,BRA=RG1
CJS A=CMP,MAP=PE,ECA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 10
CONT YDEV=PSMEM,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 11: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT YDEV=PSMEM,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 12
CONT YDEV=PSMEM,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 13: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT YDEV=PSMEM,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 14
CONT YDEV=PSMEM,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 15: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- AK
CONT YDEV=PSMEM,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 16
CONT YDEV=PSMEM,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 17: СТАТУС, РГ.M
CONT YDEV=PSMEM,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 18
CONT YDEV=PSMEM,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 19: ОЗУ ПС
CONT YDEV=PSMEM,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 1A
CONT YDEV=PSMEM,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C4,DSRC=PROM,ALUS=DZ,H,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 1B: РГ/СЧ СУАМ
CONT YDEV=PSMEM,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C2,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 1C
CONT YDEV=PSMEM,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT4,MAP=PE,%TIK%
;
;
TAKT5:ENTRY
;===== ИЗ РЕГ.ПР.- ЧЕРЕЗ СДВИГАТЕЛЬ - В ПРИЕМНИКИ ШИНЫ D: БОБР+БИЗМ,БМСП,БОИ,МПС
;
CJP A=TAK5,MAP=PE
TAK5:CONT A=H5,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT5:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 1: БОБР+БИЗМ
CONT YDEV=PSMEM,%TRSH%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 2
CONT YDEV=PSMEM,%TRSH%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=С1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 3: БМСП
CONT YDEV=PSMEM,%TRSH%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 4
CONT YDEV=PSMEM,%TRSH%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 5: БОИ
CONT YDEV=PSMEM,%TRSH%,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEN,WRY,CYSTR=NT3
;*** 6
CONT YDEV=PSMEM,%TRSH%,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 7: АЛУ, СЛОЖЕНИЕ С 0
CONT YDEV=PSMEM,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 8
CONT YDEV=PSMEM,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 9: АЛУ, AND С FFFF
CONT YDEV=PSMEM,%TRSH%,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** A
CONT YDEV=PSMEM,%TRSH%,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** B: АЛУ, EXNOR С FFFF: NOT(R.EOR.S)
CONT YDEV=PSMEM,%TRSH%,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** C
CONT YDEV=PSMEM,%TRSH%,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT5,MAP=PE,%TIK%
;
;
TAKT6:ENTRY
;===== ИЗ РЕГ.ПР.- ЧЕРЕЗ БОИ - В ПРИЕМНИКИ ШИНЫ D: БОБР+БИЗМ,БМСП,МПС
;
CJP A=TAK6,MAP=PE
TAK6:CONT A=H6,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT6:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 1: БОБР+БИЗМ
CONT YDEV=PSMEM,%TODR0%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 2
CONT YDEV=PSMEM,%TODR3%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=С1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 3: БМСП
CONT YDEV=PSMEM,%TODR0%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 4
CONT YDEV=PSMEM,%TODR3%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 5: АЛУ, СЛОЖЕНИЕ С 0
CONT YDEV=PSMEM,%TODR0%,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 6
CONT YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 7: АЛУ, AND С FFFF
CONT YDEV=PSMEM,%TODR0%,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 8
CONT YDEV=PSMEM,%TODR3%,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** 9: АЛУ, EXNOR С FFFF: NOT(R.EOR.S)
CONT YDEV=PSMEM,%TODR0%,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY,CYSTR=NT3
;*** A
CONT YDEV=PSMEM,%TODR3%,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT6,MAP=PE,%TIK%
;
;    Б О П П
;   =========
;
TAKT7:ENTRY
;===== ИЗ БОПП - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,РГ/ТГ,КОП АРБИТРА,АИСП,ОЗУ ПРИПИСОК,ТЕГ,БОИ ДАННЫХ,
;   ОЗУ МОДИФИКАТОРОВ,СТАТУС
;
CJP A=TAK7,MAP=PE
TAK7:CONT A=H7,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT7:CONT %CLRTYP%,CYSTR=NT9
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT9
;*** 1: РНГ
CONT YDEV=MPMEM,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** 2
CONT YDEV=MPMEM,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** 3: РНП
CONT YDEV=MPMEM,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** 4
CONT YDEV=MPMEM,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=H1C,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** 5: РГ/ТГ
CONT YDEV=MPMEM,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** 6
CONT YDEV=MPMEM,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** 7: КОП АРБИТРА
CONT YDEV=MPMEM,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** 8
CONT YDEV=MPMEM,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** 9: АИСП
CONT YDEV=MPMEM,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** A
CONT YDEV=MPMEM,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** B: БОИ ДАННЫХ
CONT YDEV=MPMEM,ECB,WRB,BRA=RG1
CJS A=CMP,MAP=PE,ECA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** C
CONT YDEV=MPMEM,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** D: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT YDEV=MPMEM,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** E
CONT YDEV=MPMEM,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** F: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT YDEV=MPMEM,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** 10
CONT YDEV=MPMEM,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** 11: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- AK
CONT YDEV=MPMEM,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** 12
CONT YDEV=MPMEM,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=HC0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** 13: СТАТУС, РГ.M
CONT YDEV=MPMEM,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** 14
CONT YDEV=MPMEM,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT7,MAP=PE,%TIK%
;
;
TAKT8:ENTRY
;===== ИЗ БОПП - ЧЕРЕЗ СДВИГАТЕЛЬ - В ПРИЕМНИКИ ШИНЫ D: БОБР+БИЗМ,БМСП,БОИ,МПС
;
CJP A=TAK8,MAP=PE
TAK8:CONT A=H8,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT8:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** 1: БОБР+БИЗМ
CONT YDEV=MPMEM,%TRSH%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** 2
CONT YDEV=MPMEM,%TRSH%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=С1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** 3: БМСП
CONT YDEV=MPMEM,%TRSH%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** 4
CONT YDEV=MPMEM,%TRSH%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** 5: БОИ
CONT YDEV=MPMEM,%TRSH%,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** 6
CONT YDEV=MPMEM,%TRSH%,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** 7: АЛУ, СЛОЖЕНИЕ С 0
CONT YDEV=MPMEM,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** 8
CONT YDEV=MPMEM,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** 9: АЛУ, AND С FFFF
CONT YDEV=MPMEM,%TRSH%,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** A
CONT YDEV=MPMEM,%TRSH%,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** B: АЛУ, EXNOR С FFFF: NOT(R.EOR.S)
CONT YDEV=MPMEM,%TRSH%,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** C
CONT YDEV=MPMEM,%TRSH%,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT8,MAP=PE,%TIK%
;
;
TAKT9:ENTRY
;===== ИЗ БОПП - ЧЕРЕЗ БОИ - В ПРИЕМНИКИ ШИНЫ D: БОБР+БИЗМ,БМСП,МПС
;
CJP A=TAK9,MAP=PE
TAK9:CONT A=H9,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT9:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** 1: БОБР+БИЗМ
CONT YDEV=MPMEM,%TODR0%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** 2
CONT YDEV=MPMEM,%TODR3%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=С1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** 3: БМСП
CONT YDEV=MPMEM,%TODR0%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** 4
CONT YDEV=MPMEM,%TODR3%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** 5: АЛУ, СЛОЖЕНИЕ С 0
CONT YDEV=MPMEM,%TODR0%,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** 6
CONT YDEV=MPMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** 7: АЛУ, AND С FFFF
CONT YDEV=MPMEM,%TODR0%,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** 8
CONT YDEV=MPMEM,%TODR3%,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** 9: АЛУ, EXNOR С FFFF: NOT(R.EOR.S)
CONT YDEV=MPMEM,%TODR0%,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,CYSTR=NT3
;*** A
CONT YDEV=MPMEM,%TODR3%,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT9,MAP=PE,%TIK%
;
;
TAKTA:ENTRY
;===== БОПП - ЧЕРЕЗ БОИ - В МПС
;
CJP A=TAKA,MAP=PE
TAKA:CONT A=HA,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CTA:CONT %CLRTYP%
CONT A=HB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,CYSTR=NT9
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
;1
CJS A=SUBRA,MAP=PE
CJS A=CMP,MAP=PE,%TYPE%
;2
CJS A=SUBRA,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;3
CJS A=SUBRA,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;4
CJS A=SUBRA,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CTA,MAP=PE,%TIK%
;ЗАПИСЬ ИЗ РГ.МПС В РГ.БОПП, ЧТЕНИЕ
SUBRA:CONT ALUS=ZA,RA=A,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
;***
CONT CYSTR=NT3
CRTN YDEV=MPMEM,IOMP,MPADR=4,ECB,WRB,BRA=RG3,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
;
;
TAKTB:ENTRY
;===== БОПП - ЧЕРЕЗ СДВИГАТЕЛЬ - В МПС
;
CJP A=TAKB,MAP=PE
TAKB:CONT A=HB,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CTB:CONT %CLRTYP%
CONT A=HB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,CYSTR=NT9
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
;1
CJS A=SUBRB,MAP=PE
CJS A=CMP,MAP=PE,%TYPE%
;2
CJS A=SUBRB,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;3
CJS A=SUBRB,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;4
CJS A=SUBRB,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CTB,MAP=PE,%TIK%
;ЗАПИСЬ ИЗ МПС В РГ.БОПП, ЧТЕНИЕ ЧЕРЕЗ СДВИГАТЕЛЬ
SUBRB:CONT ALUS=ZA,RA=A,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT CYSTR=NT4
;***
CRTN YDEV=MPMEM,IOMP,MPADR=4,DSRC=SHIFT,MPS,PSHF=SH0,SHF=LOG,ALUS=DZ,H
>,ALUD=B,RB=Y
;
;
TAKTC:ENTRY
;===== БОПП - ЧЕРЕЗ СДВИГАТЕЛЬ - В МПС + ЛОГ.ОПЕРАЦИЯ
;
CJP A=TAKC,MAP=PE
TAKC:CONT A=HC,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CTC:CONT %CLRTYP%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
;1
CJS A=SUBRC,MAP=PE,CYSTR=NT9
CJS A=CMP,MAP=PE,%TYPE%
;2
CJS A=SUBRC,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;3
CJS A=SUBRC,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;4
CJS A=SUBRC,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
>,DSRC=SHIFT,MPS,PSHF=SH0-56,SHF=LOG,CYSTR=NT4
;*** 5; СДВИГ НА 56 Р. ВЛЕВО
CJS А=CMP,МАР=РЕ,YDEV=МРМЕМ,IОМР,MPADR=4,DSRC=SHIFT,MPS,PSHF=SН0-56
>,SHF=LOG,ALUS=DZ,Н,ALUD=В,RВ=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=MB3,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A
CONT A=MB3,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT4
;*** 6; СДВИГ НА 16 Р. ВЛЕВО
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,DSRC=SHIFT,MPS,PSHF=SH0-16
>,SHF=LOG,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=H1E,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT4
;*** 7; СДВИГ НА 1 Р. ВЛЕВО
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,DSRC=SHIFT,MPS,PSHF=SH0-1
>,SHF=LOG,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=HF0,DSRC=PROM,ALUS=DZ,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=H78,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT4
;*** 8; СДВИГ НА 1 Р. ВПРАВО
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,DSRC=SHIFT,MPS,PSHF=SH0+1
>,SHF=LOG,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CONT A=HF0,DSRC=PROM,ALUS=DZ,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=HF6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT4
;*** 9; СДВИГ НА 0 Р. ВПРАВО
CONT YDEV=MPMEM,IOMP,MPADR=4,DSRC=SHIFT,MPS,PSHF=SH0,SHF=LOG,ALUS=DA
>,RA=Y,FUNC=OR,H,ALUD=B,RB=Y
CONT A=MB,DSRC=PROM,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CTC,MAP=PE,%TIK%
;ЧТЕНИЕ ЧЕРЕЗ СДВИГАТЕЛЬ + ЛОГ. ОПЕРАЦИЯ
SUBRC:CONT ALUS=ZA,RA=A,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MB,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A,CYSTR=NT4
;*** 1,2,3,4
CRTN YDEV=MPMEM,IOMP,MPADR=4,DSRC=SHIFT,MPS,PSHF=SH0,SHF=LOG,ALUS=DA,RA=Y
>,FUNC=AND,H,ALUD=B,RB=Y
;
;
TAKTD:ENTRY
;===== БОПП - ЧЕРЕЗ СДВИГАТЕЛЬ - В МПС + ЛОГ.ОПЕРАЦИЯ + ПРИЗНАКИ В СУСС
;
CJP A=TAKD,MAP=PE
TAKD:CONT A=HD,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CTD:CONT %CLRTYP%
CONT A=H1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=SUBRD,MAP=PE,CYSTR=NT9
CJS A=ERRD,MAP=PE,COND=CT,STOPC=NZ,%TYPE%
;2
CONT A=B8,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=SUBRD,MAP=PE
CJS A=ERRD,MAP=PE,COND=CT,STOPC=NZ,%TYPE%
;3
CJS A=SUBRD,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CJS A=ERRD,MAP=PE,COND=CT,STOPC=/NZ,%TYPE%
;4
CJS A=SUBRD,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=ERRD,MAP=PE,COND=CT,STOPC=NZ,%TYPE%
CJP A=CTD,MAP=PE,%TIK%
;БОПП: ЧТЕНИЕ ЧЕРЕЗ СДВИГАТЕЛЬ + ЛОГ. ОПЕРАЦИЯ + ЗАПИСЬ В СУСС
SUBRD:CONT ALUS=ZA,RA=A,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT5
;***
CRTN YDEV=MPMEM,IOMP,MPADR=4,DSRC=SHIFT,MPS,PSHF=SH0,SHF=LOG,ALUS=DA,RA=Y
>,FUNC=AND,H,ALUD=B,RB=Y,CEN
;П/У НА ОШИБКУ
ERRD:CJS A=ERRINH,MAP=PE
CJP A=ERRTST,MAP=PE
;
;    Т Е Г
;   =======
;
TAKTE:ENTRY
;===== ИЗ БОИ ТЕГА - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,РГ/ТГ,КОП АРБИТРА,АИСП,ОЗУ МОДИФИКАТОРОВ,СТАТУС,ОЗУ ПС
;
CJP A=TAKE,MAP=PE
TAKE:CONT A=HE,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CTE:CONT %CLRTYP%,CYSTR=NT9
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
>,CYSTR=NT9
;*** 1: РНГ
CONT YDEVT=ECBTAG,BRA=RG3,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
>,CYSTR=NT3
;*** 2
CONT YDEVT=ECBTAG,BRA=RG1,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
>,CYSTR=NT3
;*** 3: РНП
CONT YDEVT=ECBTAG,BRA=RG3,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
>,CYSTR=NT3
;*** 4
CONT YDEVT=ECBTAG,BRA=RG1,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=H1C,DSRC=PROM,AUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
>,CYSTR=NT3
;*** 5: РГ/ТГ
CONT YDEVT=ECBTAG,BRA=RG3,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
>,CYSTR=NT3
;*** 6
CONT YDEVT=ECBTAG,BRA=RG1,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
>,CYSTR=NT3
;*** 7: КОП АРБИТРА
CONT YDEVT=ECBTAG,BRA=RG3,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
>,CYSTR=NT3
;*** 8
CONT YDEVT=ECBTAG,BRA=RG1,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
>,CYSTR=NT3
;*** 9: АИСП
CONT YDEVT=ECBTAG,BRA=RG3,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
>,CYSTR=NT3
;*** A
CONT YDEVT=ECBTAG,BRA=RG1,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
>,CYSTR=NT3
;*** B: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT YDEVT=ECBTAG,BRA=RG3,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
>,CYSTR=NT3
;*** C
CONT YDEVT=ECBTAG,BRA=RG1,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
>,CYSTR=NT3
;*** D: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT YDEVT=ECBTAG,BRA=RG3,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
>,CYSTR=NT3
;*** E
CONT YDEVT=ECBTAG,BRA=RG1,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
>,CYSTR=NT3
;*** F: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- AK
CONT YDEVT=ECBTAG,BRA=RG3,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
>,CYSTR=NT3
;*** 10
CONT YDEVT=ECBTAG,BRA=RG2,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=HC0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
>,CYSTR=NT3
;*** 11: СТАТУС, РГ.M
CONT YDEVT=ECBTAG,BRA=RG1,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
>,CYSTR=NT3
;*** 12
CONT YDEVT=ECBTAG,BRA=RG3,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
>,CYSTR=NT3
;*** 13: ОЗУ ПС
CONT YDEVT=ECBTAG,BRA=RG2,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
>,CYSTR=NT3
;*** 14
CONT YDEVT=ECBTAG,BRA=RG1,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CTE,MAP=PE,%TIK%
;
;
TAKTF:ENTRY
;===== ИЗ ТЕГА - ЧЕРЕЗ СДВИГАТЕЛЬ - В ПРИЕМНИКИ ШИНЫ D: БОБР+БИЗМ,БМСП,БОИ,МПС
;
CJP A=TAKF,MAP=PE
TAKF:CONT A=HF,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CTF:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
>,CYSTR=NT3
;*** 1: БОБР+БИЗМ
CONT YDEVT=ECBTAG,BRA=RG3,%TRSH%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
>,CYSTR=NT3
;*** 2
CONT YDEVT=ECBTAG,BRA=RG1,%TRSH%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=С1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
>,CYSTR=NT3
;*** 3: БМСП
CONT YDEVT=ECBTAG,BRA=RG2,%TRSH%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
>,CYSTR=NT3
;*** 4
CONT YDEVT=ECBTAG,BRA=RG2,%TRSH%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
>,CYSTR=NT3
;*** 5: БОИ
CONT YDEVT=ECBTAG,BRA=RG3,%TRSH%,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=ECBTAG,WRB,BRA=RG1
>,CYSTR=NT3
;*** 6
CONT YDEVT=ECBTAG,BRA=RG1,%TRSH%,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
>,CYSTR=NT3
;*** 7: АЛУ, СЛОЖЕНИЕ С 0
CONT YDEVT=ECBTAG,BRA=RG3,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
>,CYSTR=NT3
;*** 8
CONT YDEVT=ECBTAG,BRA=RG1,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
>,CYSTR=NT3
;*** 9: АЛУ, AND С FFFF
CONT YDEVT=ECBTAG,BRA=RG3,%TRSH%,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
>,CYSTR=NT3
;*** A
CONT YDEVT=ECBTAG,BRA=RG1,%TRSH%,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
>,CYSTR=NT3
;*** B: АЛУ, EXNOR С FFFF: NOT(R.EOR.S)
CONT YDEVT=ECBTAG,BRA=RG3,%TRSH%,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
>,CYSTR=NT3
;*** C
CONT YDEVT=ECBTAG,BRA=RG1,%TRSH%,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CTF,MAP=PE,%TIK%
;
;    М П С (ВЫХОД A)
;    ===============
;
TAKT10:ENTRY
;===== ИЗ МПС (ВЫХОД А) - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,РГ/ТГ,РФС,КОП АРБИТРА,АИСП,РПС,ОЗУ ПРИПИСОК,БОПП,ТЕГ,
;   БОИ ДАННЫХ,ОЗУ МОДИФИКАТОРОВ,СТАТУС,ОЗУ ПС,РГ/СЧ СУАМ
;
CJP A=TAK10,MAP=PE
TAK10:CONT A=H10,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT10:CONT %CLRTYP%,CYSTR=NT9
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT9
;*** 1: РНГ
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 2
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 3: РНП
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 4
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MFLFL,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 5: РГ/ТГ
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 6
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 7: РФС
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 8
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 9: КОП АРБИТРА
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** A
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** B: АИСП
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** C
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=SL32,DSRC=PROM,ALUS=DZ,ALUD=B,RB=A,CYSTR=NT3
;*** D: РПС
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDST=PSHIFT
CONT A=B33,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=SR32,DSRC=PROM,ALUS=DZ,ALUD=B,RB=A,CYSTR=NT3
;*** E
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDST=PSHIFT
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** F: ОЗУ ПРИПИСОК
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 10
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 11: БОПП
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 12
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 13: ТЕГ
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG1,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 14
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG2,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 15: БОИ ДАННЫХ
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,ECB,WRB,BRA=RG1
CJS A=CMP,MAP=PE,ECA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 16
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 17: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 18
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 19: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1A
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1B: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- AK
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1C
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1D: СТАТУС, РГ.M
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1E
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1F: ОЗУ ПС
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 20
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=C4,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 21: РГ/СЧ СУАМ
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,RLD
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 22
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,RLD
CONT A=C2,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT10,MAP=PE,%TIK%
;
;
TAKT11:ENTRY
;===== ИЗ МПС (A) - ЧЕРЕЗ СДВИГАТЕЛЬ - В ПРИЕМНИКИ ШИНЫ D: БОБР+БИЗМ,БМСП,БОИ
;
CJP A=TAK11,MAP=PE
TAK11:CONT A=H11,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT11:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1: БОБР+БИЗМ
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,%TRSH%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 2
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,%TRSH%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=С1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 3: БМСП
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,%TRSH%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 4
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,%TRSH%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 5: БОИ
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,%TRSH%,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 6
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,%TRSH%,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT11,MAP=PE,%TIK%
;
;
TAKT12:ENTRY
;===== ИЗ МПС (A) - ЧЕРЕЗ БОИ - В ПРИЕМНИКИ ШИНЫ D: БОБР+БИЗМ,БМСП
;
CJP A=TAK12,MAP=PE
TAK12:CONT A=H12,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT12:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1: БОБР+БИЗМ
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,%TODR0%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 2
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,%TODR3%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=С1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 3: БМСП
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,%TODR0%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 4
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,A,%TODR3%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT12,MAP=PE,%TIK%
;
;    М П С (ПОСЛЕ АЛУ)
;    =================
;
TAKT13:ENTRY
;===== ИЗ МПС (ПОСЛЕ АЛУ) - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,РГ/ТГ,РФС,КОП АРБИТРА,АИСП,РПС,ОЗУ ПРИПИСОК,БОПП,ТЕГ,
;   БОИ ДАННЫХ,ОЗУ МОДИФИКАТОРОВ,СТАТУС,ОЗУ ПС,РГ/СЧ СУАМ
;
CJP A=TAK13,MAP=PE
TAK13:CONT A=H13,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT13:CONT %CLRTYP%,CYSTR=NT9
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1: РНГ
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 2
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 3: РНП
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 4
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MFLFL,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 5: РГ/ТГ
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 6
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 7: РФС
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 8
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 9: КОП АРБИТРА
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** A
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** B: АИСП
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** C
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=SL32,DSRC=PROM,ALUS=DZ,ALUD=B,RB=A,CYSTR=NT3
;*** D: РПС
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDST=PSHIFT
CONT A=B33,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=SR32,DSRC=PROM,ALUS=DZ,ALUD=B,RB=A,CYSTR=NT3
;*** E
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDST=PSHIFT
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** F: ОЗУ ПРИПИСОК
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 10
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 11: БОПП
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 12
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 13: ТЕГ
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG1,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 14
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG2,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 15: БОИ ДАННЫХ
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,ECB,WRB,BRA=RG1
CJS A=CMP,MAP=PE,ECA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 16
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 17: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 18
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 19: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1A
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1B: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- AK
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1C
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1D: СТАТУС, РГ.M
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,YSTR=NT3
;*** 1E
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1F: ОЗУ ПС
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 20
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=C4,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 21: РГ/СЧ СУАМ
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,RLD
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 22
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,RLD
CONT A=C2,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT13,MAP=PE,%TIK%
;
;
TAKT14:ENTRY
;===== ИЗ МПС(АЛУ) - ЧЕРЕЗ СДВИГАТЕЛЬ - В ПРИЕМНИКИ ШИНЫ D: БОБР+БИЗМ,БМСП,БОИ
;
CJP A=TAK14,MAP=PE
TAK14:CONT A=H14,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT14:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1: БОБР+БИЗМ
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,%TRSH%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 2
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,%TRSH%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=С1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 3: БМСП
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,%TRSH%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 4
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,%TRSH%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 5: БОИ
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,%TRSH%,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 6
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,%TRSH%,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT14,MAP=PE,%TIK%
;
;
TAKT15:ENTRY
;===== ИЗ МПС (АЛУ) - ЧЕРЕЗ БОИ - В ПРИЕМНИКИ ШИНЫ D: БОБР+БИЗМ,БМСП
;
CJP A=TAK15,MAP=PE
TAK15:CONT A=H15,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT15:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 1: БОБР+БИЗМ
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,%TODR0%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 2
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,%TODR3%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=С1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 3: БМСП
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,%TODR0%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
;*** 4
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,%TODR3%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CJP A=CT15,MAP=PE,%TIK%
;
;    БОИ ДАННЫХ (КАНАЛ B)
;    ====================
;
TAKT16:ENTRY
;===== ИЗ БОИ ДАННЫХ (КАНАЛ В) - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,РГ/ТГ,РФС,КОП АРБИТРА,АИСП,РПС,ОЗУ ПРИПИСОК,БОПП,
;   ОЗУ МОДИФИКАТОРОВ,СТАТУС,ОЗУ ПС,РГ/СЧ СУАМ
;
CJP A=TAK16,MAP=PE
TAK16:CONT A=H16,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT16:CONT %CLRTYP%,CYSTR=NT9
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,ECB,WRB,BRA=RG1,CYSTR=NT9
;*** 1: РНГ
CONT ECB,BRA=RG1,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,ECB,WRB,BRA=RG2,CYSTR=NT3
;*** 2
CONT ECB,BRA=RG2,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,ECB,WRB,BRA=RG0,CYSTR=NT3
;*** 3: РНП
CONT ECB,BRA=RG0,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,ECB,WRB,BRA=RG3,CYSTR=NT3
;*** 4
CONT ECB,BRA=RG3,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MFLFL,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,ECB,WRB,BRA=RG2,CYSTR=NT3
;*** 5: РГ/ТГ
CONT ECB,BRA=RG2,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,ECB,WRB,BRA=RG0,CYSTR=NT3
;*** 6
CONT ECB,BRA=RG0,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,ECB,WEB,BRA=RG3,CYSTR=NT3
;*** 7: РФС
CONT ECB,BRA=RG3,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,ECB,WRB,BRA=RG3,CYSTR=NT3
;*** 8
CONT ECB,BRA=RG3,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,ECB,WRB,BRA=RG0,CYSTR=NT3
;*** 9: КОП АРБИТРА
CONT ECB,BRA=RG0,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** A
CONT ECB,BRA=RG3,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** B: АИСП
CONT ECB,BRA=RG0,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** C
CONT ECA,ARA=RG3,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B33,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=SL32,DSRC=PROM,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** D: РПС
CONT ECB,BRA=RG0,YDST=PSHIFT
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=SR32,DSRC=PROM,ECA,WRA,ARA=RG2,CYSTR=NT3
;*** E
CONT ECB,BRA=RG2,YDST=PSHIFT
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG1,CYSTR=NT3
;*** F: ОЗУ ПРИПИСОК
CONT ECB,BRA=RG1,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 10
CONT ECB,BRA=RG3,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG2,CYSTR=NT3
;*** 11: БОПП
CONT ECB,BRA=RG2,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TRR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 12
CONT ECB,BRA=RG0,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TOYR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 13: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT ECB,BRA=RG3,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG1,CYSTR=NT3
;*** 14
CONT ECB,BRA=RG1,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG1,CYSTR=NT3
;*** 15: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT ECB,BRA=RG1,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 16
CONT ECB,BRA=RG3,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 17: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- AK
CONT ECB,BRA=RG0,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG1,CYSTR=NT3
;*** 18
CONT ECB,BRA=RG1,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 19: СТАТУС, РГ.M
CONT ECB,BRA=RG3,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG1,CYSTR=NT3
;*** 1A
CONT ECB,BRA=RG1,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 1B: ОЗУ ПС
CONT ECB,BRA=RG0,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 1C
CONT ECB,BRA=RG3,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C4,DSRC=PROM,ALUS=DZ,H,ECA,WRA,ARA=RG2,CYSTR=NT3
;*** 1D: РГ/СЧ СУАМ
CONT ECB,BRA=RG2,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C2,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 1E
CONT ECB,BRA=RG0,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT16,MAP=PE,%TIK%
;
;
TAKT17:ENTRY
;===== ИЗ БОИ Д.- ЧЕРЕЗ СДВИГАТЕЛЬ - В ПРИЕМНИКИ ШИНЫ D: БОБР+БИЗМ,БМСП,БОИ,МПС
;
CJP A=TAK17,MAP=PE
TAK17:CONT A=H17,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT17:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 1: БОБР+БИЗМ
CONT ECB,BRA=RG3,%TRSH%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 2
CONT ECB,BRA=RG0,%TRSH%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=С1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG2,CYSTR=NT3
;*** 3: БМСП
CONT ECB,BRA=RG2,%TRSH%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 4
CONT ECB,BRA=RG0,%TRSH%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 5: БОИ
CONT ECB,BRA=RG3,%TRSH%,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG1,CYSTR=NT3
;*** 6
CONT ECB,BRA=RG1,%TRSH%,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 7: АЛУ, СЛОЖЕНИЕ С 0
CONT ECB,BRA=RG3,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0,CYSTR=NT3
;*** 8
CONT ECB,BRA=RG0,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3,CYSTR=NT3
;*** 9: АЛУ, AND С FFFF
CONT ECB,BRA=RG3,%TRSH%,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG2,CYSTR=NT3
;*** A
CONT ECB,BRA=RG2,%TRSH%,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG1,CYSTR=NT3
;*** B: АЛУ, EXNOR С FFFF: NOT(R.EOR.S)
CONT ECB,BRA=RG1,%TRSH%,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG1,CYSTR=NT3
;*** C
CONT ECB,BRA=RG1,%TRSH%,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CJP A=CT17,MAP=PE,%TIK%
END
*END
*NO LIST   
*CALL MICLOA:TAK=800
*CALL MPROM
*END F   
*END FILE














