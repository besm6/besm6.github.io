*NАМЕ 12:TAKTEST4
*       ПОДБОР ДЛИТЕЛЬНОСТИ ТАКТА, ЧАСТЬ 4
*TIME:01.00
*DISC:664/SYSTEM,microb
*FILE:arc,30,W
*file:lib,67,r
*LIBRA:23,25
*CALL ficMEMORY
*peRSO:67
*NО LIST
*CALL MICROB
;
;СПИСОК ВОЗМОЖНЫХ ЗНАЧЕНИЙ ПОЛЕЙ:
;--------------------------------
;
FLIST SQI=JZ,CJS,JМАР,CJP,PUSH,JSRP,CJV,JRP,RFCT,RРСТ,CRTN,CJPP,LDCT,LООР,
      CONT,TWB
FLIST МАР=РЕ,GRP,МЕ
FLIST ALUD=Q,NО,ВА,В,RSBQ,RSB,LSBQ,LSB
FLIST FUNC=ADD,SUBR,SUBS,OR,AND,NOTRS,EXOR,EXNOR
FLIST ALUS=AQ,АВ,ZQ,ZВ,ZА,DА,DQ,DZ
FLIST RА=А,У,INTR,РС,РССОРУ,DADR,HALF,ВУТЕ,EXPN,MANT,WR6,WR5,WR4,WR3,WR2,WR1
FLIST RВ=А,У,INTR,РС,РССОРУ,DADR,HALF,ВУТЕ,EXPN,MANT,WR6,WR5,WR4,WR3,WR2,WR1
FLIST CI=CI0,CI1,CIX,CIC
FLIST SHMUX=LSLSL,NSNSL,ASLLS,NDNS,CDLDL,ADNDL,LDLD,LDLND,RSLRSL,RSSRSS,
      RSRS,IDCS,RDSRDS,RDLRDL,VDCD,RDRD
FLIST SТОРС=NС,NN,NZ,NV,/NС,/NN,/NZ,/NV,МС,MN,MZ,MV,/МС,/MN,/MZ,/MV,
      IС,IN,IZ,IV,/IС,/IN,/IZ,/IV,SETNC,SETNN,SETNZ,SETNV,
      УТОМ,MTON,SЕТМ,SETN,MCN,NСМ,CLRM,CLRN,INVM,CLRNC,CLRNN,CLRNZ,CLRNV
FLIST MNSA=U,IRA,МР
FLIST MODNM=М0,М1,М2,М3,М4,М5,М6,М7,М8,М9,М10,М11,М12,М13,М14,SР,С,RR,
      RRR,SPRADR,СТТ,ACL,ACR,YCL,YCR,РСС,РССС,CTL,CTR,SVFA,PROCNC,MREZ
FLIST DSRC=MODGN,PROCN,CNT,PHYSPG,ARBOPC,MULRZ1,MULRZ2,СОМА,SHIFT,ОРС,
      LOS,PROM
FLIST RTIME=RТ
FLIST WTIME=WТ
FLIST YDST=MODGN,PROCN,CNT,PHYSPG,ARBOPC,MUL1,MUL2,ADRREG,PSHIFT,CCLR,BTRCLR
FLIST SHF=CICL,LOG,ARIPH,EMULF
FLIST ARBI=CCRD,CCWR,DCRD,DCWR,FЕТСН,DRD,DWR,RDMWR,BTRWR,BTRRD,BICLR,BIRD
FLIST CYSTR=NТ3,NТ4,NТ5,NТ6,NТ7,NТ8,NТ9,NТ10
FLIST BRA=RG0,RG1,RG2,RG3
FLIST ARA=RG0,RG1,RG2,RG3
FLIST YDEV=PHYSAD,RADRR,PSMEM,МРМЕМ,SТОРМ0,SТОРМ1
FLIST YDEVT=ECBTAG
FLIST DDEV=ВВ,MODB,CLRCD,STATUS,РРМЕМ0,РРМЕМ1
FLIST YDTIM=CTIME
FLIST FFCNT=LOGGRP,MULGRP,ADDGRP,SЕТС,CLRRCB,SETRCB,CLRJMP,SETJMP,
      SETEI,CLREI,CLRTR0,SETTR0,CLRTR1,SETTR1,CLRCT,CLRCTT,CLRTKK,SЕТТКК,
      STRTLD,СНТКК,SETHLT,CLRINT,CLRRUN,LDCPMP,PRGINT,EXTINT,SETNR,SETER
FLIST MPADR=ADRB1,ADRB2,ADRB3,ADRB4,DАТАВ1,DАТАВ2,DАТАВ3,DАТАВ4,
      DАТАВ5,DАТАВ6,DАТАВ7,DАТАВ8,INFB1,INFB2,FМР,FСР
FLIST COND=YES,NORMB,RNDB,OVRIB,BNB,OVRFTB,DRG,EMLRG,RСВ,СВ,CEMLRG,
      СТ,TR1,INTSTP,RUN,NMLRDY,INT,FULMEM,ARBRDY,СРМР,IR15,ТККВ
;
;СПИСОК ОШИБОЧНЫХ КОМБИНАЦИЙ ПОЛЕЙ
;---------------------------------
;
;ШИНА D:
;-------
;
;ИСТОЧНИКИ: DSRC
;           CSM-WЕМ
;           ЕСА-WRA
;           DDEV-WRD
;
СНЕСК DSRC+CSM-WЕМ
СНЕСК DSRC+ЕСА-WRA
СНЕСК DSRC+DDEV-WRD
СНЕСК CSM-WЕМ+ЕСА-WRA
СНЕСК CSM-WЕМ+DDEV-WRD
СНЕСК ЕСА-WRA+DDEV-WRD
;
;ШИНА У:
;-------
;
;ИСТОЧНИКИ: YDEVT-WRB
;           ALU
;           ЕСВ-WRB
;           YDEV-WRY
;           YDTIM+RTIME
;
СНЕСК YDEVT-WRB+ALU
СНЕСК YDEVT-WRB+ЕСВ-WRB
СНЕСК YDEVT-WRB+YDEV-WRY
СНЕСК YDEVT-WRB+YDTIM+RTIME
СНЕСК ALU+ЕСВ-WRB
СНЕСК ALU+YDEV-WRY
СНЕСК ALU+YDTIM+RTIME
СНЕСК ЕСВ-WRB+YDEV-WRY
СНЕСК ЕСВ-WRB+YDTIM+RTIME
СНЕСК YDEV-WRY+YDTIM+RTIME
;
;     ==================
;     МАКРОСЫ ДЛЯ ТЕСТОВ
;     ==================
;
MACRO TN DSRC=PROM,ALUS=DZ,Н,ALUD=В,RВ=EXPN,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=0
MACRO Т DSRC=PROM,ALUS=DZ,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=0
MACRO TIK ALUS=ZВ,RВ=MANT,Н,CI,ALUD=В,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=3
MACRO TIK3 ALUS=ZВ,RВ=WR3,Н,CI,ALUD=В,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=3
MACRO CLRTYP ALUS=DZ,FUNC=AND,Н,ALUD=В,RВ=INTR,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=1
MACRO ТУРЕ ALUS=ZВ,RВ=INTR,Н,CI,ALUD=В,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=1
MACRO С3 ALUS=DZ,FUNC=AND,Н,ALUD=В,RВ=WR3,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=3
;
;     ============================================
;     МАКРОСЫ ДЛЯ ОБ'ЕДИНЕНИЯ МЕЛКИХ ТЕСТОВ В ОДИН
;     ============================================
;
;ВАРИАНТ ДЛЯ ОДНОГО БОЛЬШОГО
MACRO J CONT
MACRO S CONT
;ВАРИАНТ ДЛЯ ОТДЕЛЬНЫХ ТЕСТОВ
;MACRO J CJP
;MACRO S CJS
;
;     ==================
;     МАКРОСЫ ДЛЯ КОМАНД
;     ==================
;
MACRO МА CSM,MNSA=IRA,ALUS=DQ,FUNC=ADD,ALUD=В,RВ=DADR,ALU,YDST=ADRREG
MACRO MAWF CSM,MNSA=МР,MODNM=SР,ALUS=DZ,ALUD=В,RВ=DADR,ALU,YDST=ADRREG
MACRO ARF CSM,MNSA=МР,MODNM=SР,ALUS=DZ,FUNC=SUBS,ALUD=В,RВ=DADR,ALU,YDST=ADRREG
MACRO SSPRG ЕСВ,WRB,BRA=RG3
MACRO PHAW YDEV=PHYSAD,ЕСВ,WRB,BRA=RG0,ARBI=DWR
MACRO PHAR YDEV=PHYSAD,ЕСВ,WRB,BRA=RG0,ARBI=DRD
MACRO RСА DSRC=СОМА,ALUS=DZ,ALUD=Q
MACRO WА МАР=РЕ,COND=ARBRDY,IСС
MACRO SPRG ЕСВ,BRA=RG3,CSM,WЕМ,MNSA=МР,MODNM=SР
MACRO АС CSM,MNSA=МР,MODNM=С,ALUS=DQ,FUNC=ADD,ALUD=Q
MACRO TRSH DSRC=SHIFT,MPS,PSHF=SН0,SHF=LOG
MACRO R МАР=РЕ,COND=RСВ
MACRO М МАР=МЕ,COND=ТККВ,DDEV=CLRCD,WRD,ISE
MACRO MED МАР=МЕ,COND=ТККВ,LЕТС,ISE
MACRO ML МАР=МЕ,DDEV=CLRCD,WRD,ISE
MACRO МЕ МАР=МЕ,LЕТС
MACRO MI МАР=МЕ,COND=ТККВ,DDEV=CLRC,WRD
MACRO TODR1 ECB,WRB,BRA=RG1,ECA,ARA=RG1
MACRO TODR2 ECB,WRB,BRA=RG2,ECA,ARA=RG2
MACRO TODR3 ECB,WRB,BRA=RG3,ECA,ARA=RG3
MACRO TOYR1 ECA,WRA,ARA=RG1,ECB,BRA=RG1
MACRO TOYR2 ECA,WRA,ARA=RG2,ECB,BRA=RG2
MACRO TOYR3 ECA,WRA,ARA=RG3,ECB,BRA=RG3
;
*FULL LIST
TAK4:PROG B;
;     ==================================
;     ПОДБОР ДЛИТЕЛЬНОСТИ ТАКТА, ЧАСТЬ 4
;     ==================================
;
;   РАСПРЕДЕЛЕНИЕ РЕГИСТРОВ ПРИ ПОДБОРЕ ДЛИТЕЛЬНОСТИ ТАКТА:
;   А - ЧТО ПИШЕМ, Y - ЧТО ПРОЧИТАЛИ, Q - РЕЗ-Т СРАВНЕНИЯ, BYTE - МАСКА
;   4 РГ. БОПП ИСПОЛЬЗУЕТСЯ В НЕКОТОРЫХ ТЕСТАХ ДЛЯ ЗАПИСИ ДАННЫХ.
;   В СЛУЧАЕ ОШИБКИ В БОПП ЗАПИСЫВАЕТСЯ А (8-11 РГ.) И Y (12-15 РГ.)
;   ОСТАЛЬНОЕ - ТАК ЖЕ.
;
EXTERNAL INITST,ERRTST,ERRINH,CMP
;
;     А И С П
;    =========
;
TK4T1:ENTRY
;===== ИЗ АИСП - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,РГ/ТГ,РФС,КОП АРБИТРА,РПС,
;   БОИ ДАННЫХ,ОЗУ МОДИФИКАТОРОВ,СТАТУС,РГ/СЧ СУАМ
;
CJP A=TAK1,MAP=PE
TAK1:CONT A=H1,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT1:CONT %CLRTYP%,CYSTR=NT9
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT %TYPE%,CYSTR=NT3
;*** 1: РНГ
CONT YDEV=RADRR,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT %TYPE%,CYSTR=NT3
;*** 2
CONT YDEV=RADRR,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT %TYPE%,CYSTR=NT3
;*** 3: РНП
CONT YDEV=RADRR,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT %TYPE%,CYSTR=NT3
;*** 4
CONT YDEV=RADRR,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H1C,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT %TYPE%,CYSTR=NT3
;*** 5: РГ/ТГ
CONT YDEV=RADRR,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT %TYPE%,CYSTR=NT3
;*** 6
CONT YDEV=RADRR,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT %TYPE%,CYSTR=NT3
;*** 7: РФС
CONT YDEV=RADRR,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT %TYPE%,CYSTR=NT3
;*** 8
CONT YDEV=RADRR,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT %TYPE%,CYSTR=NT4
;*** 9: КОП АРБИТРА
CONT YDEV=RADRR,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,%TOYR3%,CYSTR=NT3
;*** A
CONT YDEV=RADRR,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B33,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=SL32,DSRC=PROM,ALUS=DZ,ALU,YDST=ADRREG
CONT %TYPE%,CYSTR=NT3
;*** B: РПС
CONT YDEV=RADRR,YDST=PSHIFT
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=SR32,DSRC=PROM,ALUS=DZ,ALU,YDST=ADRREG
CONT %TYPE%,CYSTR=NT3
;*** C
CONT YDEV=RADRR,YDST=PSHIFT
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT %TYPE%,CYSTR=NT3
;*** D: БОИ ДАННЫХ
CONT YDEV=RADRR,ECB,WRB,BRA=RG1
CJS A=CMP,MAP=PE,ECA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT %TYPE%,CYSTR=NT3
;*** E
CONT YDEV=RADRR,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT %TYPE%,CYSTR=NT4
;*** F: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT YDEV=RADRR,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT %TYPE%,CYSTR=NT4
;*** 10
CONT YDEV=RADRR,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT %TYPE%,CYSTR=NT4
;*** 11: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT YDEV=RADRR,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT %TYPE%,CYSTR=NT4
;*** 12
CONT YDEV=RADRR,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H11,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT %TYPE%,CYSTR=NT3
;*** 13: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП + MOD
CONT YDEV=RADRR,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H1F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT %TYPE%,CYSTR=NT4
;*** 14
CONT YDEV=RADRR,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT %TYPE%,CYSTR=NT4
;*** 15: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- IRA
CONT YDEV=RADRR,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT %TYPE%,CYSTR=NT4
;*** 16
CONT YDEV=RADRR,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT %TYPE%,CYSTR=NT3
;*** 17: СТАТУС, РГ.M
CONT YDEV=RADRR,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT %TYPE%,CYSTR=NT3
;*** 18
CONT YDEV=RADRR,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT %TYPE%,CYSTR=NT3
;*** 19: ОЗУ ПС
CONT YDEV=RADRR,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT %TYPE%,CYSTR=NT3
;*** 1A
CONT YDEV=RADRR,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C4,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 1B: РГ/СЧ СУАМ
CONT YDEV=RADRR,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C2,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CYSTR=NT3
;*** 1C
CONT YDEV=RADRR,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
%J% A=CT1,MAP=PE,%TIK%
;
;
TK4T2:ENTRY
;===== ИЗ АИСП - ЧЕРЕЗ СДВИГАТЕЛЬ - В ПРИЕМНИКИ ШИНЫ D: БОБР+БИЗМ,БМСП,БОИ,МПС
;
CJP A=TAK2,MAP=PE
TAK2:CONT A=H2,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT2:CONT %CLRTYP%,CYSTR=NT9
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 1: БОБР+БИЗМ
CONT YDEV=RADRR,%TRSH%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 2
CONT YDEV=RADRR,%TRSH%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=С1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,%TOYR3%,CYSTR=NT3
;*** 3: БМСП
CONT YDEV=RADRR,%TRSH%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 4
CONT YDEV=RADRR,%TRSH%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 5: БОИ
CONT YDEV=RADRR,%TRSH%,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,%TOYR3%,CYSTR=NT4
;*** 6
CONT YDEV=RADRR,%TRSH%,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,%TOYR3%,CYSTR=NT5
;*** 7: АЛУ, СЛОЖЕНИЕ С 0
CONT YDEV=RADRR,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 8
CJS A=CMP,MAP=PE,YDEV=RADRR,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 9: АЛУ, AND С FFFF
CJS A=CMP,MAP=PE,YDEV=RADRR,%TRSH%,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** A
CJS A=CMP,MAP=PE,YDEV=RADRR,%TRSH%,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG,CYSTR=NT5
;*** B: АЛУ, EXNOR С FFFF: NOT(R.EOR.S)
CONT YDEV=RADRR,%TRSH%,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** C
CJS A=CMP,MAP=PE,YDEV=RADRR,%TRSH%,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
%J% A=CT2,MAP=PE,%TIK%
;
;
TK4T3:ENTRY
;===== ИЗ АИСП - ЧЕРЕЗ БОИ - В ПРИЕМНИКИ ШИНЫ D: БОБР+БИЗМ,БМСП,МПС
;
CJP A=TAK3,MAP=PE
TAK3:CONT A=H3,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT3:CONT %CLRTYP%,CYSTR=NT9
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 1: БОБР+БИЗМ
CONT YDEV=RADRR,%TODR2%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2
CONT YDEV=RADRR,%TODR3%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=С1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3: БМСП
CONT YDEV=RADRR,%TODR2%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 4
CONT YDEV=RADRR,%TODR3%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 5: АЛУ, СЛОЖЕНИЕ С 0
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR2%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 6
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,%TOYR3%,CYSTR=NT3
;*** 7: АЛУ, AND С FFFF
CONT YDEV=RADRR,%TODR3%,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 8
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 9: АЛУ, EXNOR С FFFF: NOT(R.EOR.S)
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,%TOYR3%,CYSTR=NT4
;*** A
CONT YDEV=RADRR,%TODR3%,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
%J% A=CT3,MAP=PE,%TIK%
;
;    РЕГИСТРЫ ПРИПИСКИ
;    =================
;
TK4T4:ENTRY
;===== ИЗ РЕГИСТРОВ ПРИПИСКИ - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,РГ/ТГ,РФС,КОП АРБИТРА,АИСП,РПС,
;   БОИ ДАННЫХ,ОЗУ МОДИФИКАТОРОВ,СТАТУС,ОЗУ ПС,РГ/СЧ СУАМ
;
CJP A=TTAK4,MAP=PE
TTAK4:CONT A=H4,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT4:CONT %CLRTYP%,CYSTR=NT9
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT %TYPE%,CYSTR=NT3
;*** 1: РНГ
CONT YDEV=PSMEM,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT %TYPE%,CYSTR=NT3
;*** 2
CONT YDEV=PSMEM,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT %TYPE%,CYSTR=NT3
;*** 3: РНП
CONT YDEV=PSMEM,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT %TYPE%,CYSTR=NT3
;*** 4
CONT YDEV=PSMEM,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H1C,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT %TYPE%,CYSTR=NT3
;*** 5: РГ/ТГ
CONT YDEV=PSMEM,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT %TYPE%,CYSTR=NT3
;*** 6
CONT YDEV=PSMEM,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT %TYPE%,CYSTR=NT3
;*** 7: РФС
CONT YDEV=PSMEM,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT %TYPE%,CYSTR=NT3
;*** 8
CONT YDEV=PSMEM,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT %TYPE%,CYSTR=NT3
;*** 9: КОП АРБИТРА
CONT YDEV=PSMEM,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT %TYPE%,CYSTR=NT3
;*** A
CONT YDEV=PSMEM,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B33,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=SL32,DSRC=PROM,ALUS=DZ,ALU,YDEV=PSMEM,WRY
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** B: РПС
CONT YDEV=PSMEM,YDST=PSHIFT
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=SR32,DSRC=PROM,ALUS=DZ,ALU,YDEV=PSMEM,WRY
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,ALU,CYSTR=NT3
;*** C
CONT YDEV=PSMEM,YDST=PSHIFT
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT %TYPE%,CYSTR=NT3
;*** D: БОИ ДАННЫХ
CONT YDEV=PSMEM,ECB,WRB,BRA=RG1
CJS A=CMP,MAP=PE,ECA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT %TYPE%,CYSTR=NT3
;*** E
CONT YDEV=PSMEM,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT %TYPE%,CYSTR=NT4
;*** F: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT YDEV=PSMEM,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT %TYPE%,CYSTR=NT4
;*** 10
CONT YDEV=PSMEM,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT %TYPE%,CYSTR=NT4
;*** 11: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT YDEV=PSMEM,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT A=CAAA,DSRC=PROM,%TOYR3%,CYSTR=NT4
;*** 12
CONT YDEV=PSMEM,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H1F,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT %TYPE%,CYSTR=NT4
;*** 13: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП + MOD
CONT YDEV=PSMEM,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=H15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT A=CAAA,DSRC=PROM,%TOYR3%,CYSTR=NT4
;*** 14
CONT YDEV=PSMEM,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT %TYPE%,CYSTR=NT4
;*** 15: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- IRA
CONT YDEV=PSMEM,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT A=CFFF,DSRC=PROM,%TOYR2%,CYSTR=NT4
;*** 16
CONT YDEV=PSMEM,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT %TYPE%,CYSTR=NT3
;*** 17: СТАТУС, РГ.M
CONT YDEV=PSMEM,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT %TYPE%,CYSTR=NT3
;*** 18
CONT YDEV=PSMEM,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT %TYPE%,CYSTR=NT3
;*** 19: ОЗУ ПС
CONT YDEV=PSMEM,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT %TYPE%,CYSTR=NT3
;*** 1A
CONT YDEV=PSMEM,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C4,DSRC=PROM,ALUS=DZ,H,ALU,YDEV=PSMEM,WRY
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 1B: РГ/СЧ СУАМ
CONT YDEV=PSMEM,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALU,YDEV=PSMEM,WRY
CONT A=C2,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CYSTR=NT3
;*** 1C
CONT YDEV=PSMEM,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
%J% A=CT4,MAP=PE,%TIK%
;
;
TK4T5:ENTRY
;===== ИЗ РП - ЧЕРЕЗ СДВИГАТЕЛЬ - В ПРИЕМНИКИ ШИНЫ D: БОБР+БИЗМ,БМСП,БОИ,МПС
;
CJP A=TAK5,MAP=PE
TAK5:CONT A=H5,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT5:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT A=ZER,DSRC=PROM,%TOYR3%,CYSTR=NT4
;*** 1: БОБР+БИЗМ
CONT YDEV=PSMEM,%TRSH%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 2
CONT YDEV=PSMEM,%TRSH%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=С1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT A=ZER,DSRC=PROM,%TOYR3%,CYSTR=NT3
;*** 3: БМСП
CONT YDEV=PSMEM,%TRSH%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 4
CONT YDEV=PSMEM,%TRSH%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT A=ZER,DSRC=PROM,%TOYR3%,CYSTR=NT5
;*** 5: БОИ
CONT YDEV=PSMEM,%TRSH%,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 6
CONT YDEV=PSMEM,%TRSH%,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT A=ZER,DSRC=PROM,%TOYR3%,CYSTR=NT5
;*** 7: АЛУ, СЛОЖЕНИЕ С 0
CONT YDEV=PSMEM,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 8
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 9: АЛУ, AND С FFFF
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TRSH%,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT A=ZER,DSRC=PROM,%TOYR3%,CYSTR=NT5
;*** A
CONT YDEV=PSMEM,%TRSH%,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,ALU,CYSTR=NT5
;*** B: АЛУ, EXNOR С FFFF: NOT(R.EOR.S)
CONT YDEV=PSMEM,%TRSH%,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** C
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TRSH%,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
%J% A=CT5,MAP=PE,%TIK%
;
;
TK4T6:ENTRY
;===== ИЗ РП - ЧЕРЕЗ БОИ - В ПРИЕМНИКИ ШИНЫ D: БОБР+БИЗМ,БМСП,МПС
;
CJP A=TAK6,MAP=PE
TAK6:CONT A=H6,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT6:CONT %CLRTYP%,CYSTR=NT9
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 1: БОБР+БИЗМ
CONT YDEV=PSMEM,%TODR3%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2
CONT YDEV=PSMEM,%TODR3%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=С1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3: БМСП
CONT YDEV=PSMEM,%TODR3%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 4
CONT YDEV=PSMEM,%TODR3%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 5: АЛУ, СЛОЖЕНИЕ С 0
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR2%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 6
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 7: АЛУ, AND С FFFF
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 8
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 9: АЛУ, EXNOR С FFFF: NOT(R.EOR.S)
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=PSMEM,WRY
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** A
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
%J% A=CT6,MAP=PE,%TIK%
;
;    Б О П П
;   =========
;
TK4T7:ENTRY
;===== ИЗ БОПП - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,РГ/ТГ,КОП АРБИТРА,АИСП,ОЗУ ПРИПИСОК,ТЕГ,БОИ ДАННЫХ,
;   ОЗУ МОДИФИКАТОРОВ,СТАТУС
;
CJP A=TAK7,MAP=PE
TAK7:CONT A=H7,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT7:CONT %CLRTYP%,CYSTR=NT9
CONT A=HE0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT %TYPE%,CYSTR=NT3
;*** 1: РНГ
CONT YDEV=MPMEM,IOMP,MPADR=4,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT %TYPE%,CYSTR=NT3
;*** 2
CONT YDEV=MPMEM,IOMP,MPADR=4,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT %TYPE%,CYSTR=NT3
;*** 3: РНП
CONT YDEV=MPMEM,IOMP,MPADR=4,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT %TYPE%,CYSTR=NT3
;*** 4
CONT YDEV=MPMEM,IOMP,MPADR=4,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H1C,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT %TYPE%,CYSTR=NT3
;*** 5: РГ/ТГ
CONT YDEV=MPMEM,IOMP,MPADR=4,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT %TYPE%,CYSTR=NT3
;*** 6
CONT YDEV=MPMEM,IOMP,MPADR=4,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT %TYPE%,CYSTR=NT3
;*** 7: КОП АРБИТРА
CONT YDEV=MPMEM,IOMP,MPADR=4,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT %TYPE%,CYSTR=NT3
;*** 8
CONT YDEV=MPMEM,IOMP,MPADR=4,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT %TYPE%,CYSTR=NT3
;*** 9: АИСП
CONT YDEV=MPMEM,IOMP,MPADR=4,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT %TYPE%,CYSTR=NT3
;*** A
CONT YDEV=MPMEM,IOMP,MPADR=4,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT %TYPE%,CYSTR=NT3
;*** B: БОИ ДАННЫХ
CONT YDEV=MPMEM,IOMP,MPADR=4,ECB,WRB,BRA=RG1
CJS A=CMP,MAP=PE,ECA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT %TYPE%,CYSTR=NT3
;*** C
CONT YDEV=MPMEM,IOMP,MPADR=4,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT %TYPE%,CYSTR=NT4
;*** D: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT YDEV=MPMEM,IOMP,MPADR=4,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT %TYPE%,CYSTR=NT4
;*** E
CONT YDEV=MPMEM,IOMP,MPADR=4,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT %TYPE%,CYSTR=NT4
;*** F: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT YDEV=MPMEM,IOMP,MPADR=4,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT %TYPE%,CYSTR=NT4
;*** 10
CONT YDEV=MPMEM,IOMP,MPADR=4,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT %TYPE%,CYSTR=NT4
;*** 11: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП + MOD
CONT YDEV=MPMEM,IOMP,MPADR=4,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H1F,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT %TYPE%,CYSTR=NT4
;*** 12
CONT YDEV=MPMEM,IOMP,MPADR=4,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT %TYPE%,CYSTR=NT4
;*** 13: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- IRA
CONT YDEV=MPMEM,IOMP,MPADR=4,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT %TYPE%,CYSTR=NT4
;*** 14
CONT YDEV=MPMEM,IOMP,MPADR=4,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=HC0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT %TYPE%,CYSTR=NT3
;*** 15: СТАТУС, РГ.M
CONT YDEV=MPMEM,IOMP,MPADR=4,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT %TYPE%,CYSTR=NT3
;*** 16
CONT YDEV=MPMEM,IOMP,MPADR=4,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT7,MAP=PE,%TIK%
;
;
TK4T8:ENTRY
;===== ИЗ БОПП - ЧЕРЕЗ СДВИГАТЕЛЬ - В ПРИЕМНИКИ ШИНЫ D: БОБР+БИЗМ,БМСП,БОИ,МПС
;
CJP A=TAK8,MAP=PE
TAK8:CONT A=H8,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT8:CONT %CLRTYP%,CYSTR=NT9
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 1: БОБР+БИЗМ
CONT YDEV=MPMEM,IOMP,MPADR=4,%TRSH%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 2
CONT YDEV=MPMEM,IOMP,MPADR=4,%TRSH%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=С1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3: БМСП
CONT YDEV=MPMEM,IOMP,MPADR=4,%TRSH%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 4
CONT YDEV=MPMEM,IOMP,MPADR=4,%TRSH%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 5: БОИ
CONT YDEV=MPMEM,IOMP,MPADR=4,%TRSH%,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 6
CONT YDEV=MPMEM,IOMP,MPADR=4,%TRSH%,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT5
;*** 7: АЛУ, СЛОЖЕНИЕ С 0
CONT YDEV=MPMEM,IOMP,MPADR=4,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 8
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,ALU,CYSTR=NT5
;*** 9: АЛУ, AND С FFFF
CONT YDEV=MPMEM,IOMP,MPADR=4,%TRSH%,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** A
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TRSH%,ALUS=DA,RA=DADR,FUNC=AND,H
>,ALUD=B,RB=Y
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,ALU,CYSTR=NT5
;*** B: АЛУ, EXNOR С FFFF: NOT(R.EOR.S)
CONT YDEV=MPMEM,IOMP,MPADR=4,%TRSH%,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** C
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TRSH%,ALUS=DA,RA=DADR,FUNC=EXNOR,H
>,ALUD=B,RB=Y
%J% A=CT8,MAP=PE,%TIK%
;
;
TK4T9:ENTRY
;===== ИЗ БОПП - ЧЕРЕЗ БОИ - В ПРИЕМНИКИ ШИНЫ D: БОБР+БИЗМ,БМСП,МПС
;
CJP A=TAK9,MAP=PE
TAK9:CONT A=H9,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT9:CONT %CLRTYP%,CYSTR=NT9
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 1: БОБР+БИЗМ
CONT YDEV=MPMEM,IOMP,MPADR=4,%TODR2%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2
CONT YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=С1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 3: БМСП
CONT YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 4
CONT YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 5: АЛУ, СЛОЖЕНИЕ С 0
CONT YDEV=MPMEM,IOMP,MPADR=4,%TODR2%,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 6
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,ALU,CYSTR=NT3
;*** 7: АЛУ, AND С FFFF
CONT YDEV=MPMEM,IOMP,MPADR=4,%TODR2%,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 8
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DA,RA=DADR,FUNC=AND,H
>,ALUD=B,RB=Y
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,ALU,CYSTR=NT4
;*** 9: АЛУ, EXNOR С FFFF: NOT(R.EOR.S)
CONT YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** A
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DA,RA=DADR,FUNC=EXNOR,H
>,ALUD=B,RB=Y
%J% A=CT9,MAP=PE,%TIK%
;
;
TK4TA:ENTRY
;===== БОПП - ЧЕРЕЗ БОИ - В МПС
;   ПРИ NT3 НЕ РАБОТАЕТ ПЕРЕСЫЛКА 0: ОШИБКА НОМЕР 3
;
CJP A=TAKA,MAP=PE
TAKA:CONT A=HA,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CTA:CONT %CLRTYP%,CYSTR=NT9
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
;1
CJS A=SUBRA,MAP=PE
CJS A=CMP,MAP=PE,%TYPE%
;2
CJS A=SUBRA,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;3
CJS A=SUBRA,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;4
CJS A=SUBRA,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
%J% A=CTA,MAP=PE,%TIK%
;
;
TK4TB:ENTRY
;===== БОПП - ЧЕРЕЗ СДВИГАТЕЛЬ - В МПС
;
CJP A=TAKB,MAP=PE
TAKB:CONT A=HB,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CTB:CONT %CLRTYP%,CYSTR=NT9
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
;1
CJS A=SUBRB,MAP=PE
CJS A=CMP,MAP=PE,%TYPE%
;2
CJS A=SUBRB,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;3
CJS A=SUBRB,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;4
CJS A=SUBRB,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
%J% A=CTB,MAP=PE,%TIK%
;
;
TK4TC:ENTRY
;===== БОПП - ЧЕРЕЗ СДВИГАТЕЛЬ - В МПС + ЛОГ.ОПЕРАЦИЯ
;
CJP A=TAKC,MAP=PE
TAKC:CONT A=HC,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CTC:CONT %CLRTYP%,CYSTR=NT9
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
;1
CJS A=SUBRC,MAP=PE
CJS A=CMP,MAP=PE,%TYPE%
;2
CJS A=SUBRC,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;3
CJS A=SUBRC,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;4
CJS A=SUBRC,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
>,DSRC=SHIFT,MPS,PSHF=SH0-56,SHF=LOG
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 5; СДВИГ НА 56 Р. ВЛЕВО
CJS А=CMP,МАР=РЕ,YDEV=МРМЕМ,IОМР,MPADR=4,DSRC=SHIFT,MPS,PSHF=SН0-56
>,SHF=LOG,ALUS=DZ,Н,ALUD=В,RВ=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=MB3,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A
CONT A=MB3,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 6; СДВИГ НА 16 Р. ВЛЕВО
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,DSRC=SHIFT,MPS,PSHF=SH0-16
>,SHF=LOG,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=H1E,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,ALU,CYSTR=NT5
;*** 7; СДВИГ НА 1 Р. ВЛЕВО
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,DSRC=SHIFT,MPS,PSHF=SH0-1
>,SHF=LOG,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=HF0,DSRC=PROM,ALUS=DZ,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=H78,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,ALU,CYSTR=NT6
;*** 8; СДВИГ НА 1 Р. ВПРАВО
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,DSRC=SHIFT,MPS,PSHF=SH0+1
>,SHF=LOG,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CONT A=HF0,DSRC=PROM,ALUS=DZ,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=HF6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,ALU,CYSTR=NT5
;*** 9; СДВИГ НА 0 Р. ВПРАВО
CONT YDEV=MPMEM,IOMP,MPADR=4,DSRC=SHIFT,MPS,PSHF=SH0,SHF=LOG,ALUS=DA
>,RA=Y,FUNC=OR,H,ALUD=B,RB=Y
CONT A=MB,DSRC=PROM,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
%J% A=CTC,MAP=PE,%TIK%
;
;
TK4TD:ENTRY
;===== БОПП - ЧЕРЕЗ СДВИГАТЕЛЬ - В МПС + ЛОГ.ОПЕРАЦИЯ + ПРИЗНАКИ В СУСС
;   ПРИ NT4 СРАЗУ ЖЕ ОШИБКА НОМЕР 3, РЕЖЕ - НОМЕР 1
;
CJP A=TAKD,MAP=PE
TAKD:CONT A=HD,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CTD:CONT %CLRTYP%,CYSTR=NT9
CONT A=H1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=SUBRD,MAP=PE
CJS A=ERRD,MAP=PE,COND=CT,STOPC=NZ,%TYPE%
;2
CONT A=B8,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=SUBRD,MAP=PE
CJS A=ERRD,MAP=PE,COND=CT,STOPC=NZ,%TYPE%
;3
CJS A=SUBRD,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CJS A=ERRD,MAP=PE,COND=CT,STOPC=/NZ,%TYPE%
;4
CJS A=SUBRD,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=ERRD,MAP=PE,COND=CT,STOPC=NZ,%TYPE%
%J% A=CTD,MAP=PE,%TIK%
;
;    Т Е Г
;   =======
;
TK4TE:ENTRY
;===== ИЗ БОИ ТЕГА - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,РГ/ТГ,КОП АРБИТРА,АИСП,ОЗУ МОДИФИКАТОРОВ,СТАТУС,ОЗУ ПС
;
CJP A=TAKE,MAP=PE
TAKE:CONT A=HE,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CTE:CONT %CLRTYP%,CYSTR=NT9
CONT A=HE0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CONT %TYPE%,CYSTR=NT3
;*** 1: РНГ
CONT YDEVT=ECBTAG,BRA=RG3,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
CONT %TYPE%,CYSTR=NT3
;*** 2
CONT YDEVT=ECBTAG,BRA=RG1,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CONT %TYPE%,CYSTR=NT3
;*** 3: РНП
CONT YDEVT=ECBTAG,BRA=RG3,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
CONT %TYPE%,CYSTR=NT3
;*** 4
CONT YDEVT=ECBTAG,BRA=RG1,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H1C,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CONT %TYPE%,CYSTR=NT3
;*** 5: РГ/ТГ
CONT YDEVT=ECBTAG,BRA=RG3,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
CONT %TYPE%,CYSTR=NT3
;*** 6
CONT YDEVT=ECBTAG,BRA=RG1,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CONT %TYPE%,CYSTR=NT3
;*** 7: КОП АРБИТРА
CONT YDEVT=ECBTAG,BRA=RG3,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
CONT %TYPE%,CYSTR=NT3
;*** 8
CONT YDEVT=ECBTAG,BRA=RG1,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CONT %TYPE%,CYSTR=NT3
;*** 9: АИСП
CONT YDEVT=ECBTAG,BRA=RG3,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
CONT %TYPE%,CYSTR=NT3
;*** A
CONT YDEVT=ECBTAG,BRA=RG1,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR2%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CONT %TYPE%,CYSTR=NT4
;*** B: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT YDEVT=ECBTAG,BRA=RG3,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
CONT %TYPE%,CYSTR=NT4
;*** C
CONT YDEVT=ECBTAG,BRA=RG1,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CONT %TYPE%,CYSTR=NT4
;*** D: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT YDEVT=ECBTAG,BRA=RG3,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
CONT %TYPE%,CYSTR=NT4
;*** E
CONT YDEVT=ECBTAG,BRA=RG1,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CONT %TYPE%,CYSTR=NT4
;*** F: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП + MOD
CONT YDEVT=ECBTAG,BRA=RG3,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H1F,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
CONT %TYPE%,CYSTR=NT4
;*** 10
CONT YDEVT=ECBTAG,BRA=RG1,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CONT %TYPE%,CYSTR=NT4
;*** 11: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- IRA
CONT YDEVT=ECBTAG,BRA=RG3,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
CONT %TYPE%,CYSTR=NT4
;*** 12
CONT YDEVT=ECBTAG,BRA=RG2,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=HC0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
CONT %TYPE%,CYSTR=NT3
;*** 13: СТАТУС, РГ.M
CONT YDEVT=ECBTAG,BRA=RG1,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CONT %TYPE%,CYSTR=NT3
;*** 14
CONT YDEVT=ECBTAG,BRA=RG3,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CTE,MAP=PE,%TIK%
;
;
TK4TF:ENTRY
;===== ИЗ ТЕГА - ЧЕРЕЗ СДВИГАТЕЛЬ - В ПРИЕМНИКИ ШИНЫ D: БОБР+БИЗМ,БМСП,БОИ,МПС
;
CJP A=TAKF,MAP=PE
TAKF:CONT A=HF,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CTF:CONT %CLRTYP%,CYSTR=NT9
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 1: БОБР+БИЗМ
CONT YDEVT=ECBTAG,BRA=RG3,%TRSH%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 2
CONT YDEVT=ECBTAG,BRA=RG1,%TRSH%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=С1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3: БМСП
CONT YDEVT=ECBTAG,BRA=RG2,%TRSH%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 4
CONT YDEVT=ECBTAG,BRA=RG2,%TRSH%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 5: БОИ
CONT YDEVT=ECBTAG,BRA=RG3,%TRSH%,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 6
CONT YDEVT=ECBTAG,BRA=RG1,%TRSH%,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 7: АЛУ, СЛОЖЕНИЕ С 0
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG3,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 8
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG1,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 9: АЛУ, AND С FFFF
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG3,%TRSH%,ALUS=DA,RA=DADR,FUNC=AND,H
>,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** A
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG1,%TRSH%,ALUS=DA,RA=DADR,FUNC=AND,H
>,ALUD=B,RB=Y
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,ALU,CYSTR=NT5
;*** B: АЛУ, EXNOR С FFFF: NOT(R.EOR.S)
CONT YDEVT=ECBTAG,BRA=RG3,%TRSH%,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** C
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG1,%TRSH%,ALUS=DA,RA=DADR,FUNC=EXNOR,H
>,ALUD=B,RB=Y
%J% A=CTF,MAP=PE,%TIK%
;
;    М П С (ВЫХОД A)
;    ===============
;
TK4T10:ENTRY
;===== ИЗ МПС (ВЫХОД А) - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,РГ/ТГ,РФС,КОП АРБИТРА,АИСП,РПС,ОЗУ ПРИПИСОК,БОПП,ТЕГ,
;   БОИ ДАННЫХ,ОЗУ МОДИФИКАТОРОВ,СТАТУС,ОЗУ ПС,РГ/СЧ СУАМ
;
CJP A=TAK10,MAP=PE
TAK10:CONT A=H10,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT10:CONT %CLRTYP%,CYSTR=NT9
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** 1: РНГ
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** 2
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** 3: РНП
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** 4
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MFLFL,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** 5: РГ/ТГ
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** 6
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** 7: РФС
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** 8
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** 9: КОП АРБИТРА
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** A
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** B: АИСП
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** C
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR2%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=SL32,DSRC=PROM,ALUS=DZ,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** D: РПС
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDST=PSHIFT
CONT A=B33,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT A=SR32,DSRC=PROM,ALUS=DZ,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,ALU,CYSTR=NT3
;*** E
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDST=PSHIFT
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** F: ОЗУ ПРИПИСОК
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** 10
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** 11: БОПП
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** 12
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 13: ТЕГ
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG1,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** 14
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG2,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 15: БОИ ДАННЫХ
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,ECB,WRB,BRA=RG1
CJS A=CMP,MAP=PE,ECA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** 16
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 17: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT4
;*** 18
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** 19: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** 1A
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H11,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** 1B: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП + MOD
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** 1C
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,ALU,FFCNT=CLRTKK,CYSTR=NT3
;*** 1D: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- IRA
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,ALU,FFCNT=CLRTKK,CYSTR=NT3
;*** 1E
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 1F: СТАТУС, РГ.M
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** 20
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 21: ОЗУ ПС
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** 22
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C4,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 23: РГ/СЧ СУАМ
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,RLD
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CYSTR=NT3
;*** 24
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,RLD
CONT A=C2,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
%J% A=CT10,MAP=PE,%TIK%
;
;
TK4T11:ENTRY
;===== ИЗ МПС (A) - ЧЕРЕЗ СДВИГАТЕЛЬ - В ПРИЕМНИКИ ШИНЫ D: БОБР+БИЗМ,БМСП,БОИ
;
CJP A=TAK11,MAP=PE
TAK11:CONT A=H11,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT11:CONT %CLRTYP%,CYSTR=NT9
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 1: БОБР+БИЗМ
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,%TRSH%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 2
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,%TRSH%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=С1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3: БМСП
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,%TRSH%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 4
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,%TRSH%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 5: БОИ
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,%TRSH%,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 6
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,%TRSH%,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT11,MAP=PE,%TIK%
;
;
TK4T12:ENTRY
;===== ИЗ МПС (A) - ЧЕРЕЗ БОИ - В ПРИЕМНИКИ ШИНЫ D: БОБР+БИЗМ,БМСП
;
CJP A=TAK12,MAP=PE
TAK12:CONT A=H12,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT12:CONT %CLRTYP%,CYSTR=NT9
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 1: БОБР+БИЗМ
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,%TODR3%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,%TODR3%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=С1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3: БМСП
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,%TODR2%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 4
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,%TODR3%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT12,MAP=PE,%TIK%
;
;    НАЧАЛО М П С (ПОСЛЕ АЛУ), КОНЕЦ - В TKTEST3!
;    ============================================
;
TK4T13:ENTRY
;===== ИЗ МПС (ПОСЛЕ АЛУ) - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,РГ/ТГ,РФС,КОП АРБИТРА,АИСП,РПС,ОЗУ ПРИПИСОК,БОПП,ТЕГ,
;   БОИ ДАННЫХ,ОЗУ МОДИФИКАТОРОВ,СТАТУС,ОЗУ ПС,РГ/СЧ СУАМ
;
CJP A=TAK13,MAP=PE
TAK13:CONT A=H13,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT13:CONT %CLRTYP%,CYSTR=NT9
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** 1: РНГ
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** 2
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 3: РНП
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** 4
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MFLFL,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** 5: РГ/ТГ
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** 6
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** 7: РФС
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** 8
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 9: КОП АРБИТРА
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** A
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** B: АИСП
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR2%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** C
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR2%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=SL32,DSRC=PROM,ALUS=DZ,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** D: РПС
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDST=PSHIFT
CONT A=B33,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT A=SR32,DSRC=PROM,ALUS=DZ,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,ALU,CYSTR=NT3
;*** E
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDST=PSHIFT
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** F: ОЗУ ПРИПИСОК
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** 10
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 11: БОПП
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** 12
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 13: ТЕГ
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG1,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT4
;*** 14
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG2,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 15: БОИ ДАННЫХ
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,ECB,WRB,BRA=RG1
CJS A=CMP,MAP=PE,ECA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** 16
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 17: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT4
;*** 18
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT4
;*** 19: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT4
;*** 1A
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H11,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT4
;*** 1B: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП + MOD
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT4
;*** 1C
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,ALU,FFCNT=CLRTKK,CYSTR=NT3
;*** 1D: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- IRA
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,ALU,FFCNT=CLRTKK,CYSTR=NT3
;*** 1E
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** 1F: СТАТУС, РГ.M
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** 20
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 21: ОЗУ ПС
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT %TYPE%,CYSTR=NT3
;*** 22
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C4,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 23: РГ/СЧ СУАМ
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,RLD
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CYSTR=NT3
;*** 24
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,RLD
CONT A=C2,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
%J% A=CT13,MAP=PE,%TIK%
;
;
TK4T14:ENTRY
;===== ИЗ МПС(АЛУ) - ЧЕРЕЗ СДВИГАТЕЛЬ - В ПРИЕМНИКИ ШИНЫ D: БОБР+БИЗМ,БМСП,БОИ
;
CJP A=TAK14,MAP=PE
TAK14:CONT A=H14,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT14:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 1: БОБР+БИЗМ
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,%TRSH%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 2
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,%TRSH%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=С1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TOYR3%,CYSTR=NT3
;*** 3: БМСП
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,%TRSH%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,%TOYR3%,CYSTR=NT3
;*** 4
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,%TRSH%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 5: БОИ
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,%TRSH%,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 6
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,%TRSH%,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT14,MAP=PE,%TIK%
;
;    БОИ ДАННЫХ (КАНАЛ B)
;    ====================
;
TK4T15:ENTRY
;===== ИЗ БОИ ДАННЫХ (КАНАЛ В) - В ПРИЕМНИКИ ШИНЫ Y:
;   РНГ,РНП,РГ/ТГ,РФС,КОП АРБИТРА,АИСП,РПС,ОЗУ ПРИПИСОК,БОПП,
;   ОЗУ МОДИФИКАТОРОВ,СТАТУС,ОЗУ ПС,РГ/СЧ СУАМ
;
CJP A=TAK15,MAP=PE
TAK15:CONT A=H15,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT15:CONT %CLRTYP%,CYSTR=NT9
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,ECB,WRB,BRA=RG1
CONT %TYPE%,CYSTR=NT3
;*** 1: РНГ
CONT ECB,BRA=RG1,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,ECB,WRB,BRA=RG2
CONT %TYPE%,CYSTR=NT3
;*** 2
CONT ECB,BRA=RG2,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,ECB,WRB,BRA=RG0
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 3: РНП
CONT ECB,BRA=RG0,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,ECB,WRB,BRA=RG3
CONT %TYPE%,CYSTR=NT3
;*** 4
CONT ECB,BRA=RG3,YDST=PROCN
CJS A=CMP,MAP=PE,DSRC=PROCN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MFLFL,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,ECB,WRB,BRA=RG2
CONT %TYPE%,CYSTR=NT3
;*** 5: РГ/ТГ
CONT ECB,BRA=RG2,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,ECB,WRB,BRA=RG0
CONT %TYPE%,CYSTR=NT3
;*** 6
CONT ECB,BRA=RG0,YDST=CNT
CJS A=CMP,MAP=PE,DSRC=CNT,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,ECB,WRB,BRA=RG3
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 7: РФС
CONT ECB,BRA=RG3,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,ECB,WRB,BRA=RG3
CONT %TYPE%,CYSTR=NT3
;*** 8
CONT ECB,BRA=RG3,YDST=PHYSPG
CJS A=CMP,MAP=PE,DSRC=PHYSPG,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,ECB,WRB,BRA=RG0
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 9: КОП АРБИТРА
CONT ECB,BRA=RG0,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT %TYPE%,CYSTR=NT3
;*** A
CONT ECB,BRA=RG3,YDST=ARBOPC
CJS A=CMP,MAP=PE,DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** B: АИСП
CONT ECB,BRA=RG0,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT %TYPE%,CYSTR=NT3
;*** C
CONT ECB,BRA=RG3,YDST=ADRREG
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR2%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B33,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=SL32,DSRC=PROM,ECA,WRA,ARA=RG0
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** D: РПС
CONT ECB,BRA=RG0,YDST=PSHIFT
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=SR32,DSRC=PROM,ECA,WRA,ARA=RG2
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,ALU,CYSTR=NT3
;*** E
CONT ECB,BRA=RG2,YDST=PSHIFT
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG1
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** F: ОЗУ ПРИПИСОК
CONT ECB,BRA=RG1,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT %TYPE%,CYSTR=NT3
;*** 10
CONT ECB,BRA=RG3,YDEV=PSMEM,WRY
CJS A=CMP,MAP=PE,YDEV=PSMEM,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG2
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 11: БОПП
CONT ECB,BRA=RG2,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT %TYPE%,CYSTR=NT3
;*** 12
CONT ECB,BRA=RG0,YDEV=MPMEM,WRY,IOMP,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TODR3%,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 13: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- МП
CONT ECB,BRA=RG3,CSM,WEM,MNSA=MP,MODNM=M1
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=M1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG1
CONT %TYPE%,CYSTR=NT4
;*** 14
CONT ECB,BRA=RG1,CSM,WEM,MNSA=MP,MODNM=RRR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=RRR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG1
CONT %TYPE%,CYSTR=NT4
;*** 15: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП
CONT ECB,BRA=RG1,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT %TYPE%,CYSTR=NT4
;*** 16
CONT ECB,BRA=RG3,CSM,WEM,MNSA=U
CJS A=CMP,MAP=PE,CSM,MNSA=U,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H11,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG1
CONT %TYPE%,CYSTR=NT4
;*** 17: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- АИСП + MOD
CONT ECB,BRA=RG1,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H15,DSRC=PROM,ALUS=DZ,H,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT %TYPE%,CYSTR=NT4
;*** 18
CONT ECB,BRA=RG3,CSM,WEM,MNSA=U,MOD
CJS A=CMP,MAP=PE,CSM,MNSA=U,MOD,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,ALU,FFCNT=CLRTKK,CYSTR=NT4
;*** 19: ОЗУ МОДИФИКАТОРОВ, АДРЕС МОД.- IRA
CONT ECB,BRA=RG0,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT %TYPE%,CYSTR=NT4
;*** 1A
CONT ECB,BRA=RG3,CSM,WEM,MNSA=IRA
CJS A=CMP,MAP=PE,CSM,MNSA=IRA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,ECA,WRA,ARA=RG3
CONT %TYPE%,CYSTR=NT3
;*** 1B: СТАТУС, РГ.M
CONT ECB,BRA=RG3,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG1
CONT %TYPE%,CYSTR=NT3
;*** 1C
CONT ECB,BRA=RG1,DDEV=STATUS,WRD,STOPC=0,CEM
CJS A=CMP,MAP=PE,STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=MPG,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 1D: ОЗУ ПС
CONT ECB,BRA=RG0,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT %TYPE%,CYSTR=NT3
;*** 1E
CONT ECB,BRA=RG3,DDEV=PPMEM0,WRD
CJS A=CMP,MAP=PE,DDEV=PPMEM0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C4,DSRC=PROM,ALUS=DZ,H,ECA,WRA,ARA=RG2
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 1F: РГ/СЧ СУАМ
CONT ECB,BRA=RG2,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ECA,WRA,ARA=RG0
CONT A=C2,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,CYSTR=NT3
;*** 20
CONT ECB,BRA=RG0,RLD
PUSH A=ZER,ICC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
RFCT ALUS=ZA,RA=Y,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
%J% A=CT15,MAP=PE,%TIK%
;
;
TK4T16:ENTRY
;===== ИЗ БОИ Д.- ЧЕРЕЗ СДВИГАТЕЛЬ - В ПРИЕМНИКИ ШИНЫ D: БОБР+БИЗМ,БМСП,БОИ,МПС
;
CJP A=TAK16,MAP=PE
TAK16:CONT A=H16,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT16:CONT %CLRTYP%,CYSTR=NT9
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 1: БОБР+БИЗМ
CONT ECB,BRA=RG3,%TRSH%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 2
CONT ECB,BRA=RG0,%TRSH%,DDEV=BB,WRD
CJS A=CMP,MAP=PE,DDEV=BB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=С1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG2
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3: БМСП
CONT ECB,BRA=RG2,%TRSH%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 4
CONT ECB,BRA=RG0,%TRSH%,DDEV=MODB,WRD
CJS A=CMP,MAP=PE,DDEV=MODB,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT6
;*** 5: БОИ
CONT ECB,BRA=RG3,%TRSH%,ECA,WRA,ARA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG1
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 6
CONT ECB,BRA=RG1,%TRSH%,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT5
;*** 7: АЛУ, СЛОЖЕНИЕ С 0
CONT ECB,BRA=RG3,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 8
CJS A=CMP,MAP=PE,ECB,BRA=RG0,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG3
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,ALU,CYSTR=NT5
;*** 9: АЛУ, AND С FFFF
CONT ECB,BRA=RG3,%TRSH%,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG2
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** A
CJS A=CMP,MAP=PE,ECB,BRA=RG2,%TRSH%,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CONT А=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG1
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,ALU,CYSTR=NT5
;*** B: АЛУ, EXNOR С FFFF: NOT(R.EOR.S)
CONT ECB,BRA=RG1,%TRSH%,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ECA,WRA,ARA=RG1
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** C
CJS A=CMP,MAP=PE,ECB,BRA=RG1,%TRSH%,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
%J% A=CT16,MAP=PE,%TIK%
;
;     КОМАНДЫ ПОСЛЕ ФИЗ.АДРЕСА
;     ========================
;
TK4T17:ENTRY
;===== КОМАНДЫ РАЗНОЙ ДЛИТЕЛЬНОСТИ ПОСЛЕ ФИЗ.АДРЕСА
;
CJP A=TAK17,MAP=PE
TAK17:CONT A=H17,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE,FFCNT=SETNR
CT17:CONT %CLRTYP%,CYSTR=NT9
CONT A=CTEST,DSRC=PROM,ALUS=DZ,ALU,YDST=CNT
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,FFCNT=SETRCB
CONT A=C1,DSRC=PROM,ALUS=DZ,ALU,YDEVT=ECBTAG,WRB,BRA=RG3,FFCNT=SETTKK
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MNADR,DSRC=PROM,ALUS=DA,RA=A,FUNC=OR,H,ALUD=B,RB=A
CONT A=C1,DSRC=PROM,ALUS=DZ,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,YDEV=PHYSAD,ECB,WRB,BRA=RG0,ARBI=DWR,CYSTR=NT4
;*** 1: ЧТЕНИЕ АК В БОИ ПРИ ЗАПИСИ ОПЕРАНДА
CONT DSRC=COMA,ECA,WRA,ARA=RG3
CONT A=CFFF,DSRC=PROM,CYSTR=NT3
;*** 2
CONT DSRC=COMA,ECA,WRA,ARA=RG2
W1A17:CJP A=W1A17,%WA%
CONT A=ZER,DSRC=PROM,CYSTR=NT3
;*** 3
CONT DSRC=COMA,ECA,WRA,ARA=RG0
CONT %TYPE%
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,ALUD=B,RB=Y
CONT %TYPE%
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,ALUD=B,RB=Y
CONT %TYPE%
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MADR,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A
CONT A=C1,DSRC=PROM,ALUS=DZ,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,YDEV=PHYSAD,ECB,WRB,BRA=RG0,ARBI=DWR,CYSTR=NT4
;*** 4: ЧТЕНИЕ АК В МПС
CONT DSRC=COMA,ALUS=DZ,FUNC=OR,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,CYSTR=NT3
;*** 5
CONT DSRC=COMA,ALUS=DZ,FUNC=OR,ALUD=B,RB=WR4
W2A17:CJP A=W2A17,%WA%
CONT A=ZER,DSRC=PROM,CYSTR=NT3
;*** 6
CONT DSRC=COMA,ALUS=DZ,FUNC=OR,ALUD=B,RB=WR5
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=ZA,RA=WR4,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=ZA,RA=WR5,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MB,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C1,DSRC=PROM,ALUS=DZ,ALU,YDST=ADRREG
CONT A=MNB,DSRC=PROM,YDEV=PHYSAD,ECB,WRB,BRA=RG0,ARBI=DRD,CYSTR=NT4
;*** 7: ЧТЕНИЕ АК В МПС ПРИ ЧТЕНИИ ОПЕРАНДА
CONT DSRC=COMA,ALUS=DZ,FUNC=OR,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,CYSTR=NT3
;*** 8
CONT DSRC=COMA,ALUS=DZ,FUNC=OR,ALUD=B,RB=WR4
W3A17:CJP A=W3A17,%WA%
CONT A=ZER,DSRC=PROM,CYSTR=NT3
;*** 9
CONT DSRC=COMA,ALUS=DZ,FUNC=OR,ALUD=B,RB=WR5
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=ZA,RA=WR4,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=ZA,RA=WR5,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=B21,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT A=CFFFE,DSRC=PROM,YDEV=PHYSAD,ECB,WRB,BRA=RG0,ARBI=DRD,CYSTR=NT3
;*** A: ЧТЕНИЕ КОП В МПС ПРИ ЧТЕНИИ ОПЕРАНДА
CONT DSRC=OPC,ALUS=DZ,FUNC=OR,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,CYSTR=NT3
;*** B
CONT DSRC=OPC,ALUS=DZ,FUNC=OR,ALUD=B,RB=WR4
W4A17:CJP A=W4A17,%WA%
CONT A=ZER,DSRC=PROM,CYSTR=NT3
;*** C
CONT DSRC=OPC,ALUS=DZ,FUNC=OR,ALUD=B,RB=WR5
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=ZA,RA=WR4,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=ZA,RA=WR5,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=ZER,DSRC=PROM,ALUS=DZ,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CONT A=HAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C1,DSRC=PROM,ALUS=DZ,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,YDEV=PHYSAD,ECB,WRB,BRA=RG0,ARBI=DWR,CYSTR=NT5
;*** D:  ИЗ ПЗУ + ОПЕРАЦИЯ В АЛУ - В ОЗУ МОДИФИКАТОРОВ ПРИ ЗАПИСИ ОПЕРАНДА
CONT A=CAAA,DSRC=PROM,ALUS=DA,RA=Y,FUNC=AND,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
CONT A=ZER,DSRC=PROM,CYSTR=NT5
;*** E
CONT A=C555,DSRC=PROM,ALUS=DA,RA=Y,FUNC=AND,ALU,CSM,WEM,MNSA=MP,MODNM=ACL
W5A17:CJP A=W5A17,%WA%
CONT A=H55,DSRC=PROM,CYSTR=NT5
;*** F
CONT A=CFFF,DSRC=PROM,ALUS=DA,RA=Y,FUNC=AND,ALU,CSM,WEM,MNSA=MP,MODNM=YCL
CONT %TYPE%
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,ALUD=B,RB=Y
CONT %TYPE%
CONT A=H55,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=YCL,ALUS=DZ,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=ZER,DSRC=PROM,ALUS=DZ,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,ALU,YDST=ADRREG
CONT A=CFFF,DSRC=PROM,YDEV=PHYSAD,ECB,WRB,BRA=RG0,ARBI=DWR,CYSTR=NT4
;*** 10: СДВИГ В СДВИГАТЕЛЕ ПРИ ЗАПИСИ ОПЕРАНДА
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS,PSHF=SH0-14,SHF=LOG
CONT A=ZER,DSRC=PROM,%TOYR3%,CYSTR=NT4
;*** 11
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=WR4,ALU,DSRC=SHIFT,MPS,PSHF=SH0-14,SHF=LOG
W6A17:CJP A=W6A17,%WA%
CONT A=CAAA,DSRC=PROM,%TOYR2%,CYSTR=NT4
;*** 12
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=WR5,ALU,DSRC=SHIFT,MPS,PSHF=SH0-14,SHF=LOG
CONT A=B15,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT A=B15,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,ALUS=ZA,RA=WR4,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=B15,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,ALUS=ZA,RA=WR5,H,ALUD=B,RB=Y
CONT A=C1,DSRC=PROM,ALUS=DZ,ALU,YDST=ADRREG,STOPC=SETM,CEM
CONT YDEV=PHYSAD,ECB,WRB,BRA=RG0,ARBI=DWR,COND=CT,STOPC=MZ,CYSTR=NT4
;*** 13: CJP С ПРОВЕРКОЙ ГОТОВНОСТИ АРБИТРА В СЛЕД. КОМАНДЕ
CJP A=ERRTST,MAP=PE,COND=ARBRDY,%TYPE%
W7A17:CJP A=W7A17,%WA%
CONT YDEV=PHYSAD,ECB,WRB,BRA=RG0,ARBI=DWR
CONT COND=CT,STOPC=/MZ,ICC,CYSTR=NT3
;*** 14: CJP С ПРОВЕРКОЙ ГОТОВНОСТИ АРБИТРА В КОМАНДЕ ЧЕРЕЗ ОДНУ
CJP A=ERRTST,MAP=PE,COND=ARBRDY,%TYPE%
W8A17:CJP A=W8A17,%WA%
%J% A=CT17,MAP=PE,%TIK%
;
;
TK4T18:ENTRY
;===== КОМАНДЫ РАЗНОЙ ДЛИТЕЛЬНОСТИ ПОСЛЕ ФИЗ.АДРЕСА СО СБРОСОМ КЭША
;
CJP A=TAK18,MAP=PE
TAK18:CONT A=H18,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE,FFCNT=SETNR
CT18:CONT %CLRTYP%,CYSTR=NT9
CONT A=CTEST,DSRC=PROM,ALUS=DZ,ALU,YDST=CNT
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,YDST=CCLR,FFCNT=SETRCB
CONT A=C1,DSRC=PROM,ALUS=DZ,ALU,YDEVT=ECBTAG,WRB,BRA=RG3,FFCNT=SETTKK
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MNADR,DSRC=PROM,ALUS=DA,RA=A,FUNC=OR,H,ALUD=B,RB=A
CONT A=C1,DSRC=PROM,ALUS=DZ,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,YDEV=PHYSAD,ECB,WRB,BRA=RG0,ARBI=DWR,CYSTR=NT3
;*** 1: ЧТЕНИЕ АК В БОИ ПРИ ЗАПИСИ ОПЕРАНДА
CONT DSRC=COMA,ECA,WRA,ARA=RG3
CONT A=ZER,DSRC=PROM,CYSTR=NT3
;*** 2
CONT DSRC=COMA,ECA,WRA,ARA=RG2
W1A18:CJP A=W1A18,%WA%
CONT A=CFFF,DSRC=PROM,CYSTR=NT3
;*** 3
CONT DSRC=COMA,ECA,WRA,ARA=RG0
CONT %TYPE%
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,ALUD=B,RB=Y
CONT %TYPE%
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,ALUD=B,RB=Y
CONT %TYPE%
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MADR,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A
CONT A=C1,DSRC=PROM,ALUS=DZ,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,YDEV=PHYSAD,ECB,WRB,BRA=RG0,ARBI=DWR,YDST=CCLR,CYSTR=NT3
;*** 4: ЧТЕНИЕ АК В МПС
CONT DSRC=COMA,ALUS=DZ,FUNC=OR,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,CYSTR=NT3
;*** 5
CONT DSRC=COMA,ALUS=DZ,FUNC=OR,ALUD=B,RB=WR4
W2A18:CJP A=W2A18,%WA%
CONT A=CFFF,DSRC=PROM,CYSTR=NT3
;*** 6
CONT DSRC=COMA,ALUS=DZ,FUNC=OR,ALUD=B,RB=WR5
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=ZA,RA=WR4,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=ZA,RA=WR5,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MB,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C1,DSRC=PROM,ALUS=DZ,ALU,YDST=ADRREG
CONT A=CFFFE,DSRC=PROM,YDEV=PHYSAD,ECB,WRB,BRA=RG0,ARBI=DRD,YDST=CCLR,CYSTR=NT3
;*** 7: ЧТЕНИЕ АК В МПС ПРИ ЧТЕНИИ ОПЕРАНДА
CONT DSRC=COMA,ALUS=DZ,FUNC=OR,ALUD=B,RB=Y
CONT A=HF0,DSRC=PROM,CYSTR=NT3
;*** 8
CONT DSRC=COMA,ALUS=DZ,FUNC=OR,ALUD=B,RB=WR4
W3A18:CJP A=W3A18,%WA%
CONT A=ZER,DSRC=PROM,CYSTR=NT3
;*** 9
CONT DSRC=COMA,ALUS=DZ,FUNC=OR,ALUD=B,RB=WR5
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=ZA,RA=WR4,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=ZA,RA=WR5,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=B21,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT A=CFFFE,DSRC=PROM,YDEV=PHYSAD,ECB,WRB,BRA=RG0,ARBI=DRD,YDST=CCLR,CYSTR=NT3
;*** A: ЧТЕНИЕ КОП В МПС ПРИ ЧТЕНИИ ОПЕРАНДА
CONT DSRC=OPC,ALUS=DZ,FUNC=OR,ALUD=B,RB=Y
CONT A=HF,DSRC=PROM,CYSTR=NT3
;*** B
CONT DSRC=OPC,ALUS=DZ,FUNC=OR,ALUD=B,RB=WR4
W4A18:CJP A=W4A18,%WA%
CONT A=ZER,DSRC=PROM,CYSTR=NT3
;*** C
CONT DSRC=OPC,ALUS=DZ,FUNC=OR,ALUD=B,RB=WR5
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=ZA,RA=WR4,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=ZA,RA=WR5,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=ZER,DSRC=PROM,ALUS=DZ,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CONT A=HAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C1,DSRC=PROM,ALUS=DZ,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,YDEV=PHYSAD,ECB,WRB,BRA=RG0,ARBI=DWR,YDST=CCLR,CYSTR=NT5
;*** D:  ИЗ ПЗУ + ОПЕРАЦИЯ В АЛУ - В ОЗУ МОДИФИКАТОРОВ ПРИ ЗАПИСИ ОПЕРАНДА
CONT A=CAAA,DSRC=PROM,ALUS=DA,RA=Y,FUNC=AND,ALU,CSM,WEM,MNSA=MP,MODNM=ACR
CONT A=CFFF,DSRC=PROM,CYSTR=NT5
;*** E
CONT A=C555,DSRC=PROM,ALUS=DA,RA=Y,FUNC=AND,ALU,CSM,WEM,MNSA=MP,MODNM=ACL
W5A18:CJP A=W5A18,%WA%
CONT A=ZER,DSRC=PROM,CYSTR=NT5
;*** F
CONT A=CFFF,DSRC=PROM,ALUS=DA,RA=Y,FUNC=AND,ALU,CSM,WEM,MNSA=MP,MODNM=YCL
CONT %TYPE%
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,ALUD=B,RB=Y
CONT %TYPE%
CONT A=H55,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,ALUD=B,RB=Y
CONT %TYPE%
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=YCL,ALUS=DZ,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=ZER,DSRC=PROM,ALUS=DZ,ALU,YDEVT=ECBTAG,WRB,BRA=RG3
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,ALU,YDST=ADRREG
CONT A=MB,DSRC=PROM,YDEV=PHYSAD,ECB,WRB,BRA=RG0,ARBI=DWR,YDST=CCLR,CYSTR=NT4
;*** 10: СДВИГ В СДВИГАТЕЛЕ ПРИ ЗАПИСИ ОПЕРАНДА
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS,PSHF=SH0-14,SHF=LOG
CONT A=CAAA,DSRC=PROM,%TOYR2%,CYSTR=NT5
;*** 11
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=WR4,ALU,DSRC=SHIFT,MPS,PSHF=SH0-14,SHF=LOG
W6A18:CJP A=W6A18,%WA%
CONT A=CFFF,DSRC=PROM,%TOYR2%,CYSTR=NT5
;*** 12
CONT ALUS=DZ,H,ALUD=BA,RA=DADR,RB=WR5,ALU,DSRC=SHIFT,MPS,PSHF=SH0-14,SHF=LOG
CONT A=B15,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CJS A=CMP,MAP=PE,ALUS=ZA,RA=WR4,H,ALUD=B,RB=Y
CONT %TYPE%
CJS A=CMP,MAP=PE,ALUS=ZA,RA=WR5,H,ALUD=B,RB=Y,STOPC=SETM,CEM
CONT A=C1,DSRC=PROM,ALUS=DZ,ALU,YDST=ADRREG
CONT YDEV=PHYSAD,ECB,WRB,BRA=RG0,ARBI=DWR,COND=CT,STOPC=MC,YDST=CCLR,CYSTR=NT4
;*** 13: CJP С ПРОВЕРКОЙ ГОТОВНОСТИ АРБИТРА В СЛЕД. КОМАНДЕ
CJP A=ERRTST,MAP=PE,COND=ARBRDY,%TYPE%
W7A18:CJP A=W7A18,%WA%
CONT YDEV=PHYSAD,ECB,WRB,BRA=RG0,ARBI=DWR,YDST=CCLR
CONT COND=CT,STOPC=/MC,ICC,CYSTR=NT3
;*** 14: CJP С ПРОВЕРКОЙ ГОТОВНОСТИ АРБИТРА В КОМАНДЕ ЧЕРЕЗ ОДНУ
CJP A=ERRTST,MAP=PE,COND=ARBRDY,%TYPE%
W8A18:CJP A=W8A18,%WA%
%J% A=CT18,MAP=PE,%TIK%
CJP A=CT1,MAP=PE
;
;     П/П ДЛЯ ТЕСТОВ
;     ==============
;
;ЗАПИСЬ ИЗ РГ.МПС В РГ.БОПП, ЧТЕНИЕ
SUBRA:CONT ALUS=ZA,RA=A,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=HF,DSRC=PROM,%TOYR3%,CYSTR=NT4
;*** 1,2,3,4
CRTN YDEV=MPMEM,IOMP,MPADR=4,ECB,WRB,BRA=RG3,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
;
;ЗАПИСЬ ИЗ МПС В РГ.БОПП, ЧТЕНИЕ ЧЕРЕЗ СДВИГАТЕЛЬ
SUBRB:CONT ALUS=ZA,RA=A,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=HF,DSRC=PROM,%TOYR3%,CYSTR=NT5
;*** 1,2,3,4
CRTN YDEV=MPMEM,IOMP,MPADR=4,DSRC=SHIFT,MPS,PSHF=SH0,SHF=LOG,ALUS=DZ,H
>,ALUD=B,RB=Y
;
;ЧТЕНИЕ ЧЕРЕЗ СДВИГАТЕЛЬ + ЛОГ. ОПЕРАЦИЯ
SUBRC:CONT ALUS=ZA,RA=A,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MB,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,%TOYR3%,CYSTR=NT5
;*** 1,2,3,4
CRTN YDEV=MPMEM,IOMP,MPADR=4,DSRC=SHIFT,MPS,PSHF=SH0,SHF=LOG,ALUS=DA,RA=Y
>,FUNC=AND,H,ALUD=B,RB=Y
;
;БОПП: ЧТЕНИЕ ЧЕРЕЗ СДВИГАТЕЛЬ + ЛОГ. ОПЕРАЦИЯ + ЗАПИСЬ В СУСС
SUBRD:CONT ALUS=ZA,RA=A,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,ALU,CYSTR=NT5
;*** 1,2,3,4
CRTN YDEV=MPMEM,IOMP,MPADR=4,DSRC=SHIFT,MPS,PSHF=SH0,SHF=LOG,ALUS=DA,RA=Y
>,FUNC=AND,H,ALUD=B,RB=Y,CEN
;П/У НА ОШИБКУ
ERRD:CJS A=ERRINH,MAP=PE
CJP A=ERRTST,MAP=PE
END
LDT4:PROG;
EXTERNAL SHMP,TAK4,CMP
END
*END
*NO LIST
*CALL MICLOA:LDT4
*CALL MPROM
*END F
*END FILE
