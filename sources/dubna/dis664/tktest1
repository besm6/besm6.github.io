*NАМЕ 12:TAKTEST1
*       ПОДБОР ДЛИТЕЛЬНОСТИ ТАКТА, ЧАСТЬ 1
*TIME:01.00
*DISC:664/SYSTEM,microb
*FILE:arc,30,W
*file:lib,67,r
*LIBRA:23,25
*CALL ficMEMORY
*peRSO:67
*NО LIST
*CALL MICROB
;
;СПИСОК ВОЗМОЖНЫХ ЗНАЧЕНИЙ ПОЛЕЙ:
;--------------------------------
;
FLIST SQI=JZ,CJS,JМАР,CJP,PUSH,JSRP,CJV,JRP,RFCT,RРСТ,CRTN,CJPP,LDCT,LООР,
      CONT,TWB
FLIST МАР=РЕ,GRP,МЕ
FLIST ALUD=Q,NО,ВА,В,RSBQ,RSB,LSBQ,LSB
FLIST FUNC=ADD,SUBR,SUBS,OR,AND,NOTRS,EXOR,EXNOR
FLIST ALUS=AQ,АВ,ZQ,ZВ,ZА,DА,DQ,DZ
FLIST RА=А,У,INTR,РС,РССОРУ,DADR,HALF,ВУТЕ,EXPN,MANT,WR6,WR5,WR4,WR3,WR2,WR1
FLIST RВ=А,У,INTR,РС,РССОРУ,DADR,HALF,ВУТЕ,EXPN,MANT,WR6,WR5,WR4,WR3,WR2,WR1
FLIST CI=CI0,CI1,CIX,CIC
FLIST SHMUX=LSLSL,NSNSL,ASLLS,NDNS,CDLDL,ADNDL,LDLD,LDLND,RSLRSL,RSSRSS,
      RSRS,IDCS,RDSRDS,RDLRDL,VDCD,RDRD
FLIST SТОРС=NС,NN,NZ,NV,/NС,/NN,/NZ,/NV,МС,MN,MZ,MV,/МС,/MN,/MZ,/MV,
      IС,IN,IZ,IV,/IС,/IN,/IZ,/IV,SETNC,SETNN,SETNZ,SETNV,
      УТОМ,MTON,SЕТМ,SETN,MCN,NСМ,CLRM,CLRN,INVM,CLRNC,CLRNN,CLRNZ,CLRNV
FLIST MNSA=U,IRA,МР
FLIST MODNM=М0,М1,М2,М3,М4,М5,М6,М7,М8,М9,М10,М11,М12,М13,М14,SР,С,RR,
      RRR,SPRADR,СТТ,ACL,ACR,YCL,YCR,РСС,РССС,CTL,CTR,SVFA,PROCNC,MREZ
FLIST DSRC=MODGN,PROCN,CNT,PHYSPG,ARBOPC,MULRZ1,MULRZ2,СОМА,SHIFT,ОРС,
      LOS,PROM
FLIST RTIME=RТ
FLIST WTIME=WТ
FLIST YDST=MODGN,PROCN,CNT,PHYSPG,ARBOPC,MUL1,MUL2,ADRREG,PSHIFT,CCLR,BTRCLR
FLIST SHF=CICL,LOG,ARIPH,EMULF
FLIST ARBI=CCRD,CCWR,DCRD,DCWR,FЕТСН,DRD,DWR,RDMWR,BTRWR,BTRRD,BICLR,BIRD
FLIST CYSTR=NТ3,NТ4,NТ5,NТ6,NТ7,NТ8,NТ9,NТ10
FLIST BRA=RG0,RG1,RG2,RG3
FLIST ARA=RG0,RG1,RG2,RG3
FLIST YDEV=PHYSAD,RADRR,PSMEM,МРМЕМ,SТОРМ0,SТОРМ1
FLIST YDEVT=ECBTAG
FLIST DDEV=ВВ,MODB,CLRCD,STATUS,РРМЕМ0,РРМЕМ1
FLIST YDTIM=CTIME
FLIST FFCNT=LOGGRP,MULGRP,ADDGRP,SЕТС,CLRRCB,SETRCB,CLRJMP,SETJMP,
      SETEI,CLREI,CLRTR0,SETTR0,CLRTR1,SETTR1,CLRCT,CLRCTT,CLRTKK,SЕТТКК,
      STRTLD,СНТКК,SETHLT,CLRINT,CLRRUN,LDCPMP,PRGINT,EXTINT,SETNR,SETER
FLIST MPADR=ADRB1,ADRB2,ADRB3,ADRB4,DАТАВ1,DАТАВ2,DАТАВ3,DАТАВ4,
      DАТАВ5,DАТАВ6,DАТАВ7,DАТАВ8,INFB1,INFB2,FМР,FСР
FLIST COND=YES,NORMB,RNDB,OVRIB,BNB,OVRFTB,DRG,EMLRG,RСВ,СВ,CEMLRG,
      СТ,TR1,INTSTP,RUN,NMLRDY,INT,FULMEM,ARBRDY,СРМР,IR15,ТККВ
;
;СПИСОК ОШИБОЧНЫХ КОМБИНАЦИЙ ПОЛЕЙ
;---------------------------------
;
;ШИНА D:
;-------
;
;ИСТОЧНИКИ: DSRC
;           CSM-WЕМ
;           ЕСА-WRA
;           DDEV-WRD
;
СНЕСК DSRC+CSM-WЕМ
СНЕСК DSRC+ЕСА-WRA
СНЕСК DSRC+DDEV-WRD
СНЕСК CSM-WЕМ+ЕСА-WRA
СНЕСК CSM-WЕМ+DDEV-WRD
СНЕСК ЕСА-WRA+DDEV-WRD
;
;ШИНА У:
;-------
;
;ИСТОЧНИКИ: YDEVT-WRB
;           ALU
;           ЕСВ-WRB
;           YDEV-WRY
;           YDTIM+RTIME
;
СНЕСК YDEVT-WRB+ALU
СНЕСК YDEVT-WRB+ЕСВ-WRB
СНЕСК YDEVT-WRB+YDEV-WRY
СНЕСК YDEVT-WRB+YDTIM+RTIME
СНЕСК ALU+ЕСВ-WRB
СНЕСК ALU+YDEV-WRY
СНЕСК ALU+YDTIM+RTIME
СНЕСК ЕСВ-WRB+YDEV-WRY
СНЕСК ЕСВ-WRB+YDTIM+RTIME
СНЕСК YDEV-WRY+YDTIM+RTIME
;
;     ==================
;     МАКРОСЫ ДЛЯ ТЕСТОВ
;     ==================
;
MACRO TN DSRC=PROM,ALUS=DZ,Н,ALUD=В,RВ=EXPN,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=0
MACRO Т DSRC=PROM,ALUS=DZ,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=0
MACRO TIK ALUS=ZВ,RВ=MANT,Н,CI,ALUD=В,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=3
MACRO TIK3 ALUS=ZВ,RВ=WR3,Н,CI,ALUD=В,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=3
MACRO CLRTYP ALUS=DZ,FUNC=AND,Н,ALUD=В,RВ=INTR,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=1
MACRO ТУРЕ ALUS=ZВ,RВ=INTR,Н,CI,ALUD=В,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=1
MACRO С3 ALUS=DZ,FUNC=AND,Н,ALUD=В,RВ=WR3,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=3
;
;     ============================================
;     МАКРОСЫ ДЛЯ ОБ'ЕДИНЕНИЯ МЕЛКИХ ТЕСТОВ В ОДИН
;     ============================================
;
;ВАРИАНТ ДЛЯ ОДНОГО БОЛЬШОГО
MACRO J CONT
MACRO S CONT
;ВАРИАНТ ДЛЯ ОТДЕЛЬНЫХ ТЕСТОВ
;MACRO J CJP
;MACRO S CJS
;
;     ==================
;     МАКРОСЫ ДЛЯ КОМАНД
;     ==================
;
MACRO МА CSM,MNSA=IRA,ALUS=DQ,FUNC=ADD,ALUD=В,RВ=DADR,ALU,YDST=ADRREG
MACRO MAWF CSM,MNSA=МР,MODNM=SР,ALUS=DZ,ALUD=В,RВ=DADR,ALU,YDST=ADRREG
MACRO ARF CSM,MNSA=МР,MODNM=SР,ALUS=DZ,FUNC=SUBS,ALUD=В,RВ=DADR,ALU,YDST=ADRREG
MACRO SSPRG ЕСВ,WRB,BRA=RG3
MACRO PHAW YDEV=PHYSAD,ЕСВ,WRB,BRA=RG0,ARBI=DWR
MACRO PHAR YDEV=PHYSAD,ЕСВ,WRB,BRA=RG0,ARBI=DRD
MACRO RСА DSRC=СОМА,ALUS=DZ,ALUD=Q
MACRO WА МАР=РЕ,COND=ARBRDY,IСС
MACRO SPRG ЕСВ,BRA=RG3,CSM,WЕМ,MNSA=МР,MODNM=SР
MACRO АС CSM,MNSA=МР,MODNM=С,ALUS=DQ,FUNC=ADD,ALUD=Q
MACRO TRSH DSRC=SHIFT,MPS,PSHF=SН0,SHF=LOG
MACRO R МАР=РЕ,COND=RСВ
MACRO М МАР=МЕ,COND=ТККВ,DDEV=CLRCD,WRD,ISE
MACRO MED МАР=МЕ,COND=ТККВ,LЕТС,ISE
MACRO ML МАР=МЕ,DDEV=CLRCD,WRD,ISE
MACRO МЕ МАР=МЕ,LЕТС
MACRO MI МАР=МЕ,COND=ТККВ,DDEV=CLRC,WRD
MACRO TODR1 ECB,WRB,BRA=RG1,ECA,ARA=RG1
MACRO TODR2 ECB,WRB,BRA=RG2,ECA,ARA=RG2
MACRO TODR3 ECB,WRB,BRA=RG3,ECA,ARA=RG3
MACRO TOYR1 ECA,WRA,ARA=RG1,ECB,BRA=RG1
MACRO TOYR2 ECA,WRA,ARA=RG2,ECB,BRA=RG2
MACRO TOYR3 ECA,WRA,ARA=RG3,ECB,BRA=RG3
;
*FULL LIST
TAK1:PROG B;
;     ==================================
;     ПОДБОР ДЛИТЕЛЬНОСТИ ТАКТА, ЧАСТЬ 1
;     ==================================
;
;   РАСПРЕДЕЛЕНИЕ РЕГИСТРОВ ПРИ ПОДБОРЕ ДЛИТЕЛЬНОСТИ ТАКТА:
;   А - ЧТО ПИШЕМ, Y - ЧТО ПРОЧИТАЛИ, Q - РЕЗ-Т СРАВНЕНИЯ, BYTE - МАСКА
;   4 РГ. БОПП ИСПОЛЬЗУЕТСЯ В НЕКОТОРЫХ ТЕСТАХ ДЛЯ ЗАПИСИ ДАННЫХ.
;   В СЛУЧАЕ ОШИБКИ В БОПП ЗАПИСЫВАЕТСЯ А (8-11 РГ.) И Y (12-15 РГ.)
;   ОСТАЛЬНОЕ - ТАК ЖЕ.
;
EXTERNAL INITST,CMP
;
;      М П С
;     =======
;
TK1T1:ENTRY
;===== МПС: ВЫПОЛНЕНИЕ РАЗНЫХ ОПЕРАЦИЙ МЕЖДУ РЕГИСТРАМИ, 64 РАЗРЯДА
;
CJP A=TAK1,MAP=PE
TAK1:CONT A=H1,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
CJS A=INITST,MAP=PE
CT1:CONT %CLRTYP%,CYSTR=NT9
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 1: AND
CJS A=CMP,MAP=PE,ALUS=AB,RA=BYTE,RB=Y,FUNC=AND,H,ALUD=B
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2: OR
CJS A=CMP,MAP=PE,ALUS=AB,RA=DADR,RB=Y,FUNC=OR,H,ALUD=B
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3: EXNOR
CJS A=CMP,MAP=PE,ALUS=AB,RA=DADR,RB=Y,FUNC=EXNOR,H,ALUD=B
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 4: NOTRS
CJS A=CMP,MAP=PE,ALUS=AB,RA=DADR,RB=Y,FUNC=NOTRS,H,ALUD=B
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 5: SUBR
CJS A=CMP,MAP=PE,ALUS=ZA,RA=Y,FUNC=SUBR,H,ALUD=B,RB=Y
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 6: ADD
CJS A=CMP,MAP=PE,ALUS=AB,RA=DADR,RB=Y,FUNC=ADD,H,CI,ALUD=B
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 7: SUBS,CI
CJS A=CMP,MAP=PE,ALUS=AB,RA=DADR,RB=Y,FUNC=SUBS,H,CI,ALUD=B
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=B33,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 8: SUBS
CJS A=CMP,MAP=PE,ALUS=AB,RA=DADR,RB=Y,FUNC=SUBS,H,CI,ALUD=B
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 9: AND,Q
CJS A=CMP,MAP=PE,ALUS=AQ,RA=BYTE,FUNC=AND,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** A: OR,Q
CJS A=CMP,MAP=PE,ALUS=AQ,RA=Y,FUNC=OR,H,ALUD=B,RB=Y
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=MH,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** B: EXNOR,Q
CJS A=CMP,MAP=PE,ALUS=AQ,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=MQ,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** C: NOTRS,Q
CJS A=CMP,MAP=PE,ALUS=AQ,RA=DADR,FUNC=NOTRS,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT ALUS=DZ,FUNC=AND,H,ALUD=Q
CONT A=MB,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** D: SUBR,Q
CJS A=CMP,MAP=PE,ALUS=ZQ,FUNC=SUBR,H,ALUD=B,RB=Y
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=MH,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** E: ADD,Q
CJS A=CMP,MAP=PE,ALUS=AQ,RA=DADR,FUNC=ADD,H,CI,ALUD=B,RB=Y
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** F: SUBS,CI,Q
CJS A=CMP,MAP=PE,ALUS=AQ,RA=DADR,FUNC=SUBS,H,CI,ALUD=B,RB=Y
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=B33,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 10: SUBS,Q
CJS A=CMP,MAP=PE,ALUS=AQ,RA=DADR,FUNC=SUBS,H,CI,ALUD=B,RB=Y
%J% A=CT1,MAP=PE,%TIK%
;
;
TK1T2:ENTRY
;===== МПС: ВЫПОЛНЕНИЕ РАЗНЫХ ОПЕРАЦИЙ МЕЖДУ РЕГИСТРАМИ, 32 РАЗРЯДА
;
CJP A=TAK2,MAP=PE
TAK2:CONT A=H2,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT2:CONT %CLRTYP%,CYSTR=NT9
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 1: AND
CJS A=CMP,MAP=PE,ALUS=AB,RA=BYTE,RB=Y,FUNC=AND,ALUD=B
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2: OR
CJS A=CMP,MAP=PE,ALUS=AB,RA=DADR,RB=Y,FUNC=OR,ALUD=B
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3: EXNOR
CJS A=CMP,MAP=PE,ALUS=AB,RA=DADR,RB=Y,FUNC=EXNOR,ALUD=B
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MQ,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 4: NOTRS
CJS A=CMP,MAP=PE,ALUS=AB,RA=DADR,RB=Y,FUNC=NOTRS,ALUD=B
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=Y
CONT A=MQ,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 5: SUBR
CJS A=CMP,MAP=PE,ALUS=ZA,RA=Y,FUNC=SUBR,ALUD=B,RB=Y
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MQ,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 6: ADD
CJS A=CMP,MAP=PE,ALUS=AB,RA=DADR,RB=Y,FUNC=ADD,CI,ALUD=B
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 7: SUBS,CI
CJS A=CMP,MAP=PE,ALUS=AB,RA=DADR,RB=Y,FUNC=SUBS,CI,ALUD=B
CONT A=MQ,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=B17,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 8: SUBS
CJS A=CMP,MAP=PE,ALUS=AB,RA=DADR,RB=Y,FUNC=SUBS,ALUD=B
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 9: AND,Q
CJS A=CMP,MAP=PE,ALUS=AQ,RA=BYTE,FUNC=AND,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MQ,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** A: OR,Q
CJS A=CMP,MAP=PE,ALUS=AQ,RA=Y,FUNC=OR,ALUD=B,RB=Y
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** B: EXNOR,Q
CJS A=CMP,MAP=PE,ALUS=AQ,RA=DADR,FUNC=EXNOR,ALUD=B,RB=Y
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=MH,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** C: NOTRS,Q
CJS A=CMP,MAP=PE,ALUS=AQ,RA=DADR,FUNC=NOTRS,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT ALUS=DZ,FUNC=AND,H,ALUD=Q
CONT A=MH,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** D: SUBR,Q
CJS A=CMP,MAP=PE,ALUS=ZQ,FUNC=SUBR,ALUD=B,RB=Y
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=MQ,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** E: ADD,Q
CJS A=CMP,MAP=PE,ALUS=AQ,RA=DADR,FUNC=ADD,CI,ALUD=B,RB=Y
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** F: SUBS,CI,Q
CJS A=CMP,MAP=PE,ALUS=AQ,RA=DADR,FUNC=SUBS,CI,ALUD=B,RB=Y
CONT A=MQ,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=B17,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 10: SUBS,Q
CJS A=CMP,MAP=PE,ALUS=AQ,RA=DADR,FUNC=SUBS,ALUD=B,RB=Y
%J% A=CT2,MAP=PE,%TIK%
;
;
TK1T3:ENTRY
;===== ИЗ ПЗУ - В МПС + ВЫПОЛНЕНИЕ РАЗНЫХ ОПЕРАЦИЙ
;   NT3 - НА ГРАНИ !?   В ПРОГРАММАХ ЛУЧШЕ NT4 !?!?
;
CJP A=TAK3,MAP=PE
TAK3:CONT A=H3,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT3:CONT %CLRTYP%,CYSTR=NT9
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,%TOYR3%,CYSTR=NT3
;*** 1: AND
CONT A=CFFF,DSRC=PROM,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT3
;*** 2: OR
CONT A=CAAA,DSRC=PROM,ALUS=DA,RA=Y,FUNC=OR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT4
;*** 3: EXNOR
CONT A=C555,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CFFF,DSRC=PROM,%TOYR2%,CYSTR=NT3
;*** 4: NOTRS
CONT A=CAAA,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=NOTRS,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,%TOYR3%,CYSTR=NT4
;*** 5: SUBS
CONT A=ZER,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y,CYSTR=NT4
;*** 6: ADD
CONT A=CAAA,DSRC=PROM,ALUS=DA,RA=Y,FUNC=ADD,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,%TOYR3%,CYSTR=NT3
;*** 7: SUBS,CI
CONT A=MB,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=SUBS,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR,CYSTR=NT3
;*** 8: SUBS
CONT A=B33,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=SUBS,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=ZER,DSRC=PROM,%TOYR3%,CYSTR=NT3
;*** 9: AND,Q
CONT A=CFFF,DSRC=PROM,ALUS=DQ,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT3
;*** A: OR,Q
CONT A=C555,DSRC=PROM,ALUS=DQ,FUNC=OR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT3
;*** B: EXNOR,Q
CONT A=CAAA,DSRC=PROM,ALUS=DQ,FUNC=EXNOR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=CFFF,DSRC=PROM,%TOYR3%,CYSTR=NT3
;*** C: NOTRS,Q
CONT A=CAAA,DSRC=PROM,ALUS=DQ,FUNC=NOTRS,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=Q,CYSTR=NT3
;*** D: SUBR,Q
CONT A=CFFF,DSRC=PROM,ALUS=DQ,FUNC=SUBR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT4
;*** E: ADD,Q
CONT A=CAAA,DSRC=PROM,ALUS=DQ,FUNC=ADD,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=MNB,DSRC=PROM,%TOYR3%,CYSTR=NT3
;*** F: SUBS,CI,Q
CONT A=MB,DSRC=PROM,ALUS=DQ,FUNC=SUBS,H,CI,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=Q,CYSTR=NT3
;*** 10: SUBS,Q
CONT A=B33,DSRC=PROM,ALUS=DQ,FUNC=SUBS,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
%J% A=CT3,MAP=PE,%TIK%
;
;
TK1T4:ENTRY
;===== МПС: СРАВНИВАЕМ РАЗНЫЕ ВЫРИАНТЫ ПОЛУЧЕНИЯ "0"
;
CJP A=TAK4,MAP=PE
TAK4:CONT A=H4,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT4:CONT %CLRTYP%,CYSTR=NT9
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C555,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 1: CONST - CONST
CJS A=CMP,MAP=PE,ALUS=AB,RA=Y,RB=Y,FUNC=SUBR,H,CI,ALUD=B
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=CAAA,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 2: CONST - CONST ИЗ Q
CJS A=CMP,MAP=PE,ALUS=AQ,RA=Y,FUNC=SUBS,H,CI,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3: CONST.EXOR.CONST
CJS A=CMP,MAP=PE,ALUS=AB,RA=Y,RB=Y,FUNC=EXOR,H,ALUD=B
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 4: AND C "0"+ РГ.
CJS A=CMP,MAP=PE,ALUS=ZA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 5: AND C "0"+ ШИНА
CJS A=CMP,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 6: AND C "0"+ Q
CJS A=CMP,MAP=PE,ALUS=ZQ,FUNC=AND,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,%TOYR2%,CYSTR=NT3
;*** 7: "0" ИЗ ПЗУ + "0"
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALU,CYSTR=NT3
;*** 8: "0" ИЗ ПЗУ .AND. "0"
CONT A=ZER,DSRC=PROM,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALU,CYSTR=NT3
;*** 9: "0" ИЗ ПЗУ .AND. С РГ.
CONT A=ZER,DSRC=PROM,ALUS=DA,RA=BYTE,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
%J% A=CT4,MAP=PE,%TIK%
;
;
TK1T5:ENTRY
;===== МПС: СДВИГИ
;
CJP A=TAK5,MAP=PE
TAK5:CONT A=H5,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT5:CONT %CLRTYP%,CYSTR=NT9
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFFE,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 1: ВЛЕВО, ЗАДВИГАЕТСЯ 0
CJS A=CMP,MAP=PE,ALUS=ZA,RA=DADR,FUNC=OR,H,ALUD=LSB,RB=Y,SHMUX=LSLSL
CONT A=B64,DSRC=PROM,ALUS=DZ,FUNC=EXNOR,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2: ВПРАВО, ЗАДВИГАЕТСЯ 0
CJS A=CMP,MAP=PE,ALUS=ZA,RA=DADR,FUNC=OR,H,ALUD=RSB,RB=Y,SHMUX=LSLSL
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFFE,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3: ВЛЕВО 32, ЗАДВИГАЕТСЯ 0
CJS A=CMP,MAP=PE,ALUS=ZA,RA=DADR,FUNC=OR,ALUD=LSB,RB=Y,SHMUX=LSLSL
CONT A=B32,DSRC=PROM,ALUS=DZ,FUNC=EXNOR,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 4: ВПРАВО 32, ЗАДВИГАЕТСЯ 0
CJS A=CMP,MAP=PE,ALUS=ZA,RA=DADR,FUNC=OR,ALUD=RSB,RB=Y,SHMUX=LSLSL
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=B32,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 5: ЦИКЛИЧЕСКИЙ ВЛЕВО 32, ЗАДВИГАЕТСЯ 0
CJS A=CMP,MAP=PE,ALUS=ZA,RA=DADR,FUNC=OR,ALUD=LSB,RB=Y,SHMUX=RSRS
CONT A=B32,DSRC=PROM,ALUS=DZ,FUNC=ADD,H,ALUD=B,RB=A
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 6: ЦИКЛИЧЕСКИЙ ВПРАВО 32, ЗАДВИГАЕТСЯ 0
CJS A=CMP,MAP=PE,ALUS=ZA,RA=DADR,FUNC=OR,ALUD=RSB,RB=Y,SHMUX=RSRS
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,STOPC=SETM,CEM
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 7: ВЛЕВО, ЗАДВИГАЕТСЯ MC
CJS A=CMP,MAP=PE,ALUS=ZA,RA=DADR,FUNC=OR,H,ALUD=LSB,RB=Y,SHMUX=RSSRSS
CONT A=B64,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,STOPC=SETM,CEM
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 8: ВПРАВО, ЗАДВИГАЕТСЯ MC
CJS A=CMP,MAP=PE,ALUS=ZA,RA=DADR,FUNC=OR,H,ALUD=RSB,RB=Y,SHMUX=RSSRSS
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 9,A: ЦИКЛИЧЕСКИЙ ДВОЙНОЙ ВЛЕВО
CONT ALUS=ZA,RA=DADR,FUNC=OR,H,ALUD=LSBQ,RB=Y,SHMUX=RDRD
CJS A=CMP,MAP=PE,ALUS=ZQ,H,ALUD=B,RB=DADR
CONT A=CFFFE,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT ALUS=ZA,RA=DADR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=B64,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** B,C: ЦИКЛИЧЕСКИЙ ДВОЙНОЙ ВПРАВО
CONT ALUS=ZA,RA=DADR,FUNC=OR,H,ALUD=RSBQ,RB=Y,SHMUX=RDRD
CJS A=CMP,MAP=PE,ALUS=ZQ,H,ALUD=B,RB=DADR
CONT A=B64,DSRC=PROM,ALUS=DZ,FUNC=EXNOR,H,ALUD=B,RB=A
CONT ALUS=ZA,RA=DADR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,STOPC=SETM,CEM
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** D,E: ДВОЙНОЙ ВЛЕВО, ЗАДВИГАЕТСЯ MC
CONT ALUS=ZA,RA=DADR,FUNC=OR,H,ALUD=LSBQ,RB=Y,SHMUX=RDSRDS
CJS A=CMP,MAP=PE,ALUS=ZQ,H,ALUD=B,RB=DADR
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT ALUS=ZA,RA=DADR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=B64,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,STOPC=SETM,CEM
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** F,10: ДВОЙНОЙ ВПРАВО, ЗАДВИГАЕТСЯ MC
CONT ALUS=ZA,RA=DADR,FUNC=OR,H,ALUD=RSBQ,RB=Y,SHMUX=RDSRDS
CJS A=CMP,MAP=PE,ALUS=ZQ,H,ALUD=B,RB=DADR
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT ALUS=ZA,RA=DADR,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
%J% A=CT5,MAP=PE,%TIK%
;
;
TK1T6:ENTRY
;===== МПС + РАЗНЫЕ ОПЕРАЦИИ МЕЖДУ РЕГИСТРАМИ АЛУ - В БОИ
;
CJP A=TAK6,MAP=PE
TAK6:CONT A=H6,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT6:CONT %CLRTYP%,CYSTR=NT9
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 1: AND
CONT ALUS=AB,RA=BYTE,RB=Y,FUNC=AND,H,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2: OR
CONT ALUS=AB,RA=DADR,RB=Y,FUNC=OR,H,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3: EXNOR
CONT ALUS=AB,RA=DADR,RB=Y,FUNC=EXNOR,H,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 4: NOTRS
CONT ALUS=AB,RA=DADR,RB=Y,FUNC=NOTRS,H,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 5: SUBR
CONT ALUS=ZA,RA=Y,FUNC=SUBR,H,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 6: ADD
CONT MAP=PE,ALUS=AB,RA=DADR,RB=Y,FUNC=ADD,H,CI,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 7: SUBS,CI
CONT ALUS=AB,RA=DADR,RB=Y,FUNC=SUBS,H,CI,ALU,ECB,WRB,BRA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=B33,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MNH,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 8: SUBS
CONT ALUS=AB,RA=DADR,RB=Y,FUNC=SUBS,H,ALU,ECB,WRB,BRA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 9: AND,Q
CONT ALUS=AQ,RA=BYTE,FUNC=AND,H,ALU,ECB,WRB,BRA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** A: OR,Q
CONT ALUS=AQ,RA=Y,FUNC=OR,H,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** B: EXNOR,Q
CONT ALUS=AQ,RA=DADR,FUNC=EXNOR,H,ALU,ECB,WRB,BRA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** C: NOTRS,Q
CONT ALUS=AQ,RA=DADR,FUNC=NOTRS,H,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT ALUS=DZ,FUNC=AND,H,ALUD=Q
CONT A=C555,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** D: SUBR,Q
CONT ALUS=ZQ,FUNC=SUBR,H,ALU,ECB,WRB,BRA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** E: ADD,Q
CONT ALUS=AQ,RA=DADR,FUNC=ADD,H,CI,ALU,ECB,WRB,BRA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=MNQ,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** F: SUBS,CI,Q
CONT ALUS=AQ,RA=DADR,FUNC=SUBS,H,CI,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=B33,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=MNH,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 10: SUBS,Q
CONT ALUS=AQ,RA=DADR,FUNC=SUBS,H,ALU,ECB,WRB,BRA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT6,MAP=PE,%TIK%
;
;
TK1T7:ENTRY
;===== ИЗ ПЗУ - В МПС + ВЫПОЛНЕНИЕ РАЗНЫХ ОПЕРАЦИЙ - В БОИ ДАННЫХ
;   NT3 - НА ГРАНИ !?   В ПРОГРАММАХ ЛУЧШЕ NT4 !?!?
;
CJP A=TAK7,MAP=PE
TAK7:CONT A=H7,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT7:CONT %CLRTYP%,CYSTR=NT9
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 1: AND
CONT A=CFFF,DSRC=PROM,ALUS=DA,RA=Y,FUNC=AND,H,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 2: OR
CONT A=CAAA,DSRC=PROM,ALUS=DA,RA=Y,FUNC=OR,H,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 3: EXNOR
CONT A=C555,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=EXNOR,H,ALU,ECB,WRB,BRA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 4: NOTRS
CONT A=CAAA,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=NOTRS,H,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 5: SUBS
CONT A=ZER,DSRC=PROM,ALUS=DZ,FUNC=SUBS,H,ALU,ECB,WRB,BRA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 6: ADD
CONT A=CAAA,DSRC=PROM,ALUS=DA,RA=Y,FUNC=ADD,H,CI,ALU,ECB,WRB,BRA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MNQ,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 7: SUBS,CI
CONT A=MB,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=SUBS,H,CI,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MNH,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 8: SUBS
CONT A=B33,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=SUBS,H,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 9: AND,Q
CONT A=CFFF,DSRC=PROM,ALUS=DQ,FUNC=AND,H,ALU,ECB,WRB,BRA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** A: OR,Q
CONT A=C555,DSRC=PROM,ALUS=DQ,FUNC=OR,H,ALU,ECB,WRB,BRA=RG1
CJS A=CMP,MAP=PE,ECA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=Y
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** B: EXNOR,Q
CONT A=CAAA,DSRC=PROM,ALUS=DQ,FUNC=EXNOR,H,ALU,ECB,WRB,BRA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** C: NOTRS,Q
CONT A=CAAA,DSRC=PROM,ALUS=DQ,FUNC=NOTRS,H,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT ALUS=DZ,FUNC=AND,H,ALUD=Q
CONT A=C555,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** D: SUBR,Q
CONT A=CFFF,DSRC=PROM,ALUS=DQ,FUNC=SUBR,H,ALU,ECB,WRB,BRA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** E: ADD,Q
CONT A=CAAA,DSRC=PROM,ALUS=DQ,FUNC=ADD,H,CI,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=MNH,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** F: SUBS,CI,Q
CONT A=MB,DSRC=PROM,ALUS=DQ,FUNC=SUBS,H,CI,ALU,ECB,WRB,BRA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=MNH,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 10: SUBS,Q
CONT A=B33,DSRC=PROM,ALUS=DQ,FUNC=SUBS,H,ALU,ECB,WRB,BRA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT7,MAP=PE,%TIK%
;
;
TK1T8:ENTRY
;===== ИЗ МПС (С ВЫХОДА А) - В БОПП;
;
CJP A=TAK8,MAP=PE
TAK8:CONT A=H8,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT8:CONT %CLRTYP%,CYSTR=NT9
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
;1
CJS A=SUBW8,MAP=PE
CJS A=CMP,MAP=PE,%TYPE%
;2
CJS A=SUBW8,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;3
CJS A=SUBW8,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;4
CJS A=SUBW8,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B7,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 5
CONT ALUS=ZB,RB=DADR,ALUD=ВA,RA=A,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=4
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT А=HF,DSRC=PROM,ALUS=DZ,H,ALUD=В,RВ=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 6
CONT ALUS=ZB,RB=DADR,ALUD=ВA,RA=A,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=4
CJS A=CMP,MAP=PE,YDEV=МРМЕМ,IОМР,MPADR=4,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 7
CONT ALUS=ZB,RB=DADR,ALUD=ВA,RA=A,ALU,YDEV=МРМЕМ,WRY,IОМР,MPADR=4
CJS A=CMP,MAP=PE,YDEV=МРМЕМ,IОМР,MPADR=4,%TRSH%,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT8,MAP=PE,%TIK%
;
;
TK1T9:ENTRY
;===== МПС (С ВЫХОДА В) - В БОПП
;
CJP A=TAK9,MAP=PE
TAK9:CONT A=H9,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT9:CONT %CLRTYP%,CYSTR=NT9
CONT A=HB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=SUBOR9,MAP=PE
CJS A=CMP,MAP=PE,%TYPE%
;2
CJS A=SUBOR9,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;3
CJS A=SUBAD9,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;4
CJS A=SUBAD9,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
%J% A=CT9,MAP=PE,%TIK%
;
;
TK1TA:ENTRY
;===== ИЗ МПС, ИЗ РГ.Q (С ВЫХОДА В) - В БОПП
;
CJP A=TAKA,MAP=PE
TAKA:CONT A=HA,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CTA:CONT %CLRTYP%,CYSTR=NT9
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=HF6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=HF6,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;1
CONT ALUS=ZQ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,DSRC=SHIFT,MPS,PSHF=SH0
>,SHF=LOG,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;2
CONT ALUS=ZQ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,DSRC=SHIFT,MPS,PSHF=SH0
>,SHF=LOG,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=MB,DSRC=PROM,ALUS=DQ,FUNC=AND,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;3
CONT ALUS=ZQ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,DSRC=SHIFT,MPS,PSHF=SH0
>,SHF=LOG,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;4
CONT ALUS=ZQ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,YDEV=MPMEM,IOMP,MPADR=4,DSRC=SHIFT,MPS,PSHF=SH0
>,SHF=LOG,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
%J% A=CTA,MAP=PE,%TIK%
;
;
TK1TB:ENTRY
;===== ИЗ МПС (С ВЫХОДА В) - В РНГ
;
CJP A=TAKB,MAP=PE
TAKB:CONT A=HB,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CTB:CONT %CLRTYP%,CYSTR=NT9
CONT A=MGN5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 1
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=B7,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2
CONT ALUS=ZA,RА=A,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3
CONT ALUS=DZ,FUNC=AND,H,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C7,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 4
CONT ALUS=ZА,RА=A,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
CONT ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 5
CONT ALUS=DZ,FUNC=AND,ALU,YDST=MODGN
CJS A=CMP,MAP=PE,DSRC=MODGN,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CTB,MAP=PE,%TIK%
;
;
TK1TC:ENTRY
;===== ИЗ МПС (С ВЫХОДА B) - В КОП АРБИТРА
;
CJP A=TAKC,MAP=PE
TAKC:CONT A=HC,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CTC:CONT %CLRTYP%,CYSTR=NT9
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
;1
CJS A=SUBWC,MAP=PE
CJS A=CMP,MAP=PE,%TYPE%
;2
CJS A=SUBWC,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;3
CJS A=SUBWC,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;4
CJS A=SUBWC,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
%J% A=CTC,MAP=PE,%TIK%
;
;
TK1TD:ENTRY
;===== ИЗ МПС (С ВЫХОДА В) - В СТАТУСНЫЙ РГ. M
;
CJP A=TAKD,MAP=PE
TAKD:CONT A=HD,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CTD:CONT %CLRTYP%,CYSTR=NT9
;1
CONT A=MIND,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=SUBWD,MAP=PE
CJS A=CMP,MAP=PE,%TYPE%
;2
CJS A=SUBWD,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;3
CJS A=SUBWD,MAP=PE,ALUS=DZ,FUNC=AND,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
;4
CJS A=SUBWD,MAP=PE,ALUS=ZA,RA=A,FUNC=EXNOR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,%TYPE%
%J% A=CTD,MAP=PE,%TIK%
;
;
TK1TE:ENTRY
;===== ИЗ МПС (С ВЫХОДА А) - В ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAKE,MAP=PE
TAKE:CONT A=HE,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CTE:CONT %CLRTYP%,CYSTR=NT9
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=B7,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 1
CONT ALUS=ZB,RB=DADR,ALUD=BА,RА=A,ALU,CSM,WЕМ,MNSA=МР,MODNM=ACL
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CF530,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2
CONT ALUS=ZB,RB=DADR,ALUD=BА,RА=A,ALU,CSM,WЕМ,MNSA=МР,MODNM=ACR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C0202,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3
CONT ALUS=ZB,RB=DADR,ALUD=BА,RА=A,ALU,CSM,WЕМ,MNSA=МР,MODNM=ACL
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CTE,MAP=PE,%TIK%
;
;
TK1TF:ENTRY
;===== ИЗ МПС (С ВЫХОДА В) -  В ОЗУ МОДИФИКАТОРОВ
;
CJP A=TAKF,MAP=PE
TAKF:CONT A=HF,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CTF:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=B7,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 1
CONT ALUS=ZA,RА=A,ALU,CSM,WЕМ,MNSA=МР,MODNM=ACL
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CF530,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 2
CONT ALUS=ZА,RА=A,ALU,CSM,WЕМ,MNSA=МР,MODNM=ACR
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C0202,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 3
CONT ALUS=ZA,RА=A,ALU,CSM,WЕМ,MNSA=МР,MODNM=ACL
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACL,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CTF,MAP=PE,%TIK%
;
;     СДВИГ В СДВИГАТЕЛЕ
;     ==================
;
TK1T10:ENTRY
;===== МПС - СДВИГ - МПС (+ ЛОГ. ОПЕРАЦИЯ)
;
CJP A=TAK10,MAP=PE
TAK10:CONT A=H10,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT10:CONT %CLRTYP%,CYSTR=NT9
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MNH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 1
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0-32,SHF=LOG
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=MNB23,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 2
CJS A=CMP,MAP=PE,ALUS=DQ,FUNC=OR,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0-24,SHF=LOG
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT6
;*** 3
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0+56,SHF=LOG
CONT A=B5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=C5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 4
CJS A=CMP,MAP=PE,ALUS=DQ,FUNC=OR,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0+2,SHF=LOG
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=SL32,DSRC=PROM,ALUS=DZ,ALU,YDST=PSHIFT
CONT A=MNH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MH,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 5
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=SR32,DSRC=PROM,ALUS=DZ,ALU,YDST=PSHIFT
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MNH,DSRC=PROM,%TYPE%,CYSTR=NT6
;*** 6
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CONT A=B5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=HB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 7
CJS A=CMP,MAP=PE,ALUS=DA,FUNC=SUBR,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0+2,SHF=LOG
%J% A=CT10,MAP=PE,%TIK%
;
;
TK1T11:ENTRY
;===== МПС - СДВИГ - МПС (ПРОВЕРЯЕМ РАЗНЫЕ ТИПЫ СДВИГОВ!)
;
CJP A=TAK11,MAP=PE
TAK11:CONT A=H11,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT11:CONT %CLRTYP%,CYSTR=NT9
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CFFFE,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT6
;*** 1: СДВИГ ВЛЕВО ЛОГИЧЕСКИЙ, ПАРАМЕТР СДВИГА - В МП
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0-1,SHF=LOG
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MNH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT6
;*** 2
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0-32,SHF=LOG
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B64,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MH,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 3
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0-63,SHF=LOG
CONT A=B11,DSRC=PROM,ALUS=DZ,ALUD=B,RB=HALF
CONT A=C1,DSRC=PROM,ALUS=DA,RA=HALF,FUNC=SUBR,H,CI,ALU,YDST=PSHIFT
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CFFFE,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT6
;*** 4: СДВИГ ВЛЕВО ЛОГИЧЕСКИЙ, ПАРАМЕТР СДВИГА - В РПС
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CONT A=B11,DSRC=PROM,ALUS=DZ,ALUD=B,RB=HALF
CONT A=C32,DSRC=PROM,ALUS=DA,RA=HALF,FUNC=SUBR,H,CI,ALU,YDST=PSHIFT
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MNH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MH,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 5
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CONT A=B11,DSRC=PROM,ALUS=DZ,ALUD=B,RB=HALF
CONT A=C63,DSRC=PROM,ALUS=DA,RA=HALF,FUNC=SUBR,H,CI,ALU,YDST=PSHIFT
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B64,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MH,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 6
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CONT A=B11,DSRC=PROM,ALUS=DZ,ALUD=B,RB=HALF
CONT A=H60,DSRC=PROM,ALUS=DA,RA=HALF,FUNC=SUBR,H,CI,ALU,YDST=PSHIFT
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 7
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B64,DSRC=PROM,ALUS=DZ,FUNC=EXNOR,H,ALUD=B,RB=A
CONT A=C555,DSRC=PROM,%TYPE%,CYSTR=NT6
;*** 8: СДВИГ ВПРАВО ЛОГИЧЕСКИЙ, ПАРАМЕТР СДВИГА - В МП
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0+1,SHF=LOG
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MNH,DSRC=PROM,%TYPE%,CYSTR=NT6
;*** 9
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0+32,SHF=LOG
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** A
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0+63,SHF=LOG
CONT A=B11,DSRC=PROM,ALUS=DZ,ALUD=B,RB=HALF
CONT A=C1,DSRC=PROM,ALUS=DA,RA=HALF,FUNC=ADD,H,ALU,YDST=PSHIFT
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B64,DSRC=PROM,ALUS=DZ,FUNC=EXNOR,H,ALUD=B,RB=A
CONT A=C555,DSRC=PROM,%TYPE%,CYSTR=NT6
;*** B: СДВИГ ВПРАВО ЛОГИЧЕСКИЙ, ПАРАМЕТР СДВИГА - В РПС
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CONT A=B11,DSRC=PROM,ALUS=DZ,ALUD=B,RB=HALF
CONT A=C32,DSRC=PROM,ALUS=DA,RA=HALF,FUNC=ADD,H,ALU,YDST=PSHIFT
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C555,DSRC=PROM,%TYPE%,CYSTR=NT6
;*** C
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CONT A=B11,DSRC=PROM,ALUS=DZ,ALUD=B,RB=HALF
CONT A=C63,DSRC=PROM,ALUS=DA,RA=HALF,FUNC=ADD,H,ALU,YDST=PSHIFT
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** D
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CONT A=B11,DSRC=PROM,ALUS=DZ,ALUD=B,RB=HALF
CONT A=H60,DSRC=PROM,ALUS=DA,RA=HALF,FUNC=ADD,H,ALU,YDST=PSHIFT
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C555,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** E
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=LOG
CONT A=B64,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B63,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=ADD,H,ALUD=B,RB=A
CONT A=MH,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** F: СДВИГ ВПРАВО АРИФМЕТИЧЕСКИЙ, ПАРАМЕТР СДВИГА - В МП
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0+1,SHF=ARIPH
CONT A=B64,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MNH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MH,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 10
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0+31,SHF=ARIPH
CONT A=B64,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CFFFC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 11
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0+61,SHF=ARIPH
CONT A=B11,DSRC=PROM,ALUS=DZ,ALUD=B,RB=HALF
CONT A=C1,DSRC=PROM,ALUS=DA,RA=HALF,FUNC=SUBR,H,CI,ALU,YDST=PSHIFT
CONT A=B64,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=B1,DSRC=PROM,ALUS=DA,RA=Y,FUNC=OR,H,ALUD=B,RB=DADR
CONT A=B2,DSRC=PROM,ALUS=DA,RA=Y,FUNC=OR,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 12: СДВИГ ВЛЕВО АРИФМЕТИЧЕСКИЙ, ПАРАМЕТР СДВИГА - В РПС
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=ARIPH
CONT A=B11,DSRC=PROM,ALUS=DZ,ALUD=B,RB=HALF
CONT A=C32,DSRC=PROM,ALUS=DA,RA=HALF,FUNC=SUBR,H,CI,ALU,YDST=PSHIFT
CONT A=B64,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=B1,DSRC=PROM,ALUS=DA,RA=Y,FUNC=OR,H,ALUD=B,RB=DADR
CONT A=B33,DSRC=PROM,ALUS=DA,RA=Y,FUNC=OR,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 13
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=ARIPH
CONT A=B11,DSRC=PROM,ALUS=DZ,ALUD=B,RB=HALF
CONT A=C62,DSRC=PROM,ALUS=DA,RA=HALF,FUNC=SUBR,H,CI,ALU,YDST=PSHIFT
CONT A=B64,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=B1,DSRC=PROM,ALUS=DA,RA=Y,FUNC=OR,H,ALUD=B,RB=DADR
CONT A=B63,DSRC=PROM,ALUS=DA,RA=Y,FUNC=OR,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 14
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=ARIPH
CONT A=B11,DSRC=PROM,ALUS=DZ,ALUD=B,RB=HALF
CONT A=H60,DSRC=PROM,ALUS=DA,RA=HALF,FUNC=SUBR,H,CI,ALU,YDST=PSHIFT
CONT A=B64,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFFC,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 15
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=ARIPH
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 16: СДВИГ ВЛЕВО ЦИКЛИЧЕСКИЙ, ПАРАМЕТР СДВИГА - В МП
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0-1,SHF=CICL
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MNH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 17
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0-32,SHF=CICL
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B64,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 18
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0-63,SHF=CICL
CONT A=B11,DSRC=PROM,ALUS=DZ,ALUD=B,RB=HALF
CONT A=C1,DSRC=PROM,ALUS=DA,RA=HALF,FUNC=ADD,H,ALU,YDST=PSHIFT
CONT A=CFFFE,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B64,DSRC=PROM,ALUS=DZ,FUNC=EXNOR,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 19: СДВИГ ВПРАВО ЦИКЛИЧЕСКИЙ, ПАРАМЕТР СДВИГА - В РПС
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=CICL
CONT A=B11,DSRC=PROM,ALUS=DZ,ALUD=B,RB=HALF
CONT A=C32,DSRC=PROM,ALUS=DA,RA=HALF,FUNC=ADD,H,ALU,YDST=PSHIFT
CONT A=MNH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 1A
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=CICL
CONT A=B11,DSRC=PROM,ALUS=DZ,ALUD=B,RB=HALF
CONT A=C63,DSRC=PROM,ALUS=DA,RA=HALF,FUNC=ADD,H,ALU,YDST=PSHIFT
CONT A=B64,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 1B
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=CICL
CONT A=B11,DSRC=PROM,ALUS=DZ,ALUD=B,RB=HALF
CONT A=H7E,DSRC=PROM,ALUS=DA,RA=HALF,FUNC=ADD,H,ALU,YDST=PSHIFT
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B3,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 1C
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,SHF=CICL
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B63,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MH,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 1D: ПЕРЕХОД К ФОРМАТУ Б-6: ВПРАВО С РАЗМН.ИНВ.ЗНАКА, ПАРАМЕТР СДВИГА - В МП
;   ТЕСТ НЕ РАБОТАЕТ !!!
;CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0+1,SHF=EMULF
CONT
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B63,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=B62,DSRC=PROM,ALUS=DA,RA=A,FUNC=OR,H,ALUD=B,RB=A
CONT A=MH,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 1E
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0+2,SHF=EMULF
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B63,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=B62,DSRC=PROM,ALUS=DA,RA=A,FUNC=OR,H,ALUD=B,RB=A
CONT A=B61,DSRC=PROM,ALUS=DA,RA=A,FUNC=OR,H,ALUD=B,RB=A
CONT A=MH,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 1F
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0+3,SHF=EMULF
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MD,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MH,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 20
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0+4,SHF=EMULF
CONT A=B32,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MNH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=B64,DSRC=PROM,ALUS=DA,RA=Y,FUNC=EXOR,H,ALUD=B,RB=Y
CONT A=B1,DSRC=PROM,ALUS=DA,RA=Y,FUNC=ADD,H,ALUD=B,RB=A
CONT A=MH,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 21
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0+31,SHF=EMULF
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B64,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=B1,DSRC=PROM,ALUS=DA,RA=A,FUNC=OR,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 22
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=SHIFT,MPS
>,PSHF=SН0+62,SHF=EMULF
%J% A=CT11,MAP=PE,%TIK%
;
;
TK1T12:ENTRY
;===== МПС - СДВИГ - МПС; ОДНОВРЕМЕННО - ЗАПИСЬ В ОЗУ МОДИФ.
;   ЗАПИСЬ В МПС ПОСЛЕ СДВИГА - ПОЗЖЕ, ЧЕМ ЗАПИСЬ В ОЗУ МОД.!
;   ДЛИТЕЛЬНОСТЬ ТАКТА ДЛЯ СДВИГА - РАЗНАЯ, В ЗАВИСИМОСТИ ОТ НАПРАВЛЕНИЯ !?!?
;
CJP A=TAK12,MAP=PE
TAK12:CONT A=H12,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT12:CONT %CLRTYP%,CYSTR=NT9
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=SL32,DSRC=PROM,ALUS=DZ,H,ALU,YDST=PSHIFT,CYSTR=NT5
;*** 1,2
CONT ALUS=DZ,Н,ALUD=ВА,RА=DADR,RВ=Y,ALU,CSM,WЕМ,MNSA=МР,MODNM=ACR,DSRC=SHIFT
>,SHF=LOG
CONT ALUS=DZ,Н,ALUD=ВА,RА=DADR,RВ=A,ALU,DSRC=SHIFT,MPS,PSHF=SH0-32,SHF=LOG
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=CMP,MAP=PE,%TYPE%
CONT CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=CMP,MAP=PE,ALUS=ZA,RA=DADR,H,ALUD=B,RB=A
CONT A=C005A,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 3,4
CONT ALUS=DZ,Н,ALUD=ВА,RА=DADR,RВ=Y,ALU,CSM,WЕМ,MNSA=МР,MODNM=ACR,DSRC=SHIFT
>,SHF=CICL
CONT ALUS=DZ,Н,ALUD=ВА,RА=DADR,RВ=A,ALU,DSRC=SHIFT,MPS,PSHF=SH0-32,SHF=CICL
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=CMP,MAP=PE,ALUS=ZA,RA=DADR,H,ALUD=B,RB=A
CONT A=CF530,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=SR32,DSRC=PROM,ALUS=DZ,H,ALU,YDST=PSHIFT,CYSTR=NT7
;*** 5,6
CONT ALUS=DZ,Н,ALUD=ВА,RА=DADR,RВ=Y,ALU,CSM,WЕМ,MNSA=МР,MODNM=ACR,DSRC=SHIFT
>,SHF=LOG
CONT ALUS=DZ,Н,ALUD=ВА,RА=DADR,RВ=A,ALU,DSRC=SHIFT,MPS,PSHF=SH0+32,SHF=LOG
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=CMP,MAP=PE,%TYPE%
CONT %TYPE%
CONT CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CJS A=CMP,MAP=PE,ALUS=ZA,RA=DADR,H,ALUD=B,RB=A
%J% A=CT12,MAP=PE,%TIK%
;
;
TK1T13:ENTRY
;===== ИЗ МПС (C ВЫХОДА А) - ЧЕРЕЗ СДВИГАТЕЛЬ - В БОИ ДАННЫХ (ПО А)
;
CJP A=TAK13,MAP=PE
TAK13:CONT A=H13,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT13:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=SL32,DSRC=PROM,ALUS=DZ,H,ALU,YDST=PSHIFT
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 1
CONT ALUS=ZB,RB=DADR,Н,ALUD=ВА,RА=A,ALU,DSRC=SHIFT,SHF=LOG,ECA,WRA,ARA=RG2
CONT ALUS=DZ,Н,ALUD=ВА,RА=A,RВ=A,ALU,DSRC=SHIFT,MPS,PSHF=SH0-32,SHF=LOG
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C005A,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 2
CONT ALUS=ZB,RB=DADR,Н,ALUD=ВА,RА=A,ALU,DSRC=SHIFT,MPS,PSHF=SH0-32,SHF=LOG
>,ECA,WRA,ARA=RG1
CONT ALUS=DZ,Н,ALUD=ВА,RА=A,RВ=A,ALU,DSRC=SHIFT,MPS,PSHF=SH0-32,SHF=LOG
CJS A=CMP,MAP=PE,ECA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=SR32,DSRC=PROM,ALUS=DZ,H,ALU,YDST=PSHIFT
CONT A=CF530,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT6
;*** 3
CONT ALUS=ZB,RB=DADR,Н,ALUD=ВА,RА=A,ALU,DSRC=SHIFT,SHF=LOG,ECA,WRA,ARA=RG2
CONT ALUS=DZ,Н,ALUD=ВА,RА=A,RВ=A,ALU,DSRC=SHIFT,MPS,PSHF=SH0+32,SHF=LOG
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C005A,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MH,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 4
CONT ALUS=ZB,RB=DADR,Н,ALUD=ВА,RА=A,ALU,DSRC=SHIFT,MPS,PSHF=SH0+32,SHF=LOG
>,ECA,WRA,ARA=RG1
CONT ALUS=DZ,Н,ALUD=ВА,RА=A,RВ=A,ALU,DSRC=SHIFT,MPS,PSHF=SH0+32,SHF=LOG
CJS A=CMP,MAP=PE,ECA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=SR32,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C21,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=ADD,H,ALUD=B,RB=DADR,ALU,YDST=PSHIFT
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MPP,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,Н,ALUD=В,RВ=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MH,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 5
CONT ALUS=ZB,RB=WR1,H,ALUD=BA,RA=DADR,ALU,DSRC=SHIFT,SHF=LOG,ECA,WRA,ARA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT13,MAP=PE,%TIK%
;
;
TK1T14:ENTRY
;===== ИЗ МПС (ПОСЛЕ АЛУ, C ВЫХОДА B) - ЧЕРЕЗ СДВИГАТЕЛЬ - В БОИ ДАННЫХ (ПО А)
;
CJP A=TAK14,MAP=PE
TAK14:CONT A=H14,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT14:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=SL32,DSRC=PROM,ALUS=DZ,H,ALU,YDST=PSHIFT
CONT A=MNH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT6
;*** 1
CONT ALUS=AB,RA=DADR,RB=Y,FUNC=OR,Н,ALU,DSRC=SHIFT,SHF=LOG,ECA,WRA,ARA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MB2,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MQ4,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MNH,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 2
CONT ALUS=AB,RA=DADR,RB=Y,FUNC=ADD,Н,ALU,DSRC=SHIFT,MPS,PSHF=SH0-48,SHF=LOG
>,ECA,WRA,ARA=RG1
CJS A=CMP,MAP=PE,ECA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=SR32,DSRC=PROM,ALUS=DZ,H,ALU,YDST=PSHIFT
CONT A=B9,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B33,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C555,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 3
CONT ALUS=AQ,RA=DADR,FUNC=SUBR,Н,CI,ALUD=B,RB=Y,ALU,DSRC=SHIFT,SHF=CICL,ECA,WRA
>,ARA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MQ,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT6
;*** 4
CONT ALUS=AB,RA=Y,RB=DADR,FUNC=EXOR,Н,ALUD=Q,ALU,DSRC=SHIFT,MPS,PSHF=SH0+48
>,SHF=LOG,ECA,WRA,ARA=RG1
CJS A=CMP,MAP=PE,ECA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=SR32,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C20,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=ADD,H,ALUD=B,RB=DADR,ALU,YDST=PSHIFT
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MPP,DSRC=PROM,ALUS=DZ,Н,ALUD=В,RВ=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MNH,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 5
CONT ALUS=AB,RA=DADR,RB=Y,FUNC=OR,H,ALU,DSRC=SHIFT,SHF=LOG,ECA,WRA,ARA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT14,MAP=PE,%TIK%
;
;
TK1T15:ENTRY
;===== ИЗ БОИ ДАННЫХ (ПО В) - ЧЕРЕЗ СДВИГАТЕЛЬ - В БОИ ДАННЫХ (ПО А)
;
CJP A=TAK15,MAP=PE
TAK15:CONT A=H15,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT15:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=SL32,DSRC=PROM,ALUS=DZ,H,ALU,YDST=PSHIFT
CONT A=C555,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT5
;*** 1
CONT ECB,BRA=RG1,DSRC=SHIFT,SHF=LOG,ECA,WRA,ARA=RG2
CONT A=MNH,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,Н,ALUD=В,RВ=A
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C0F,DSRC=PROM,ECA,WRA,ARA=RG0
CONT A=MH,DSRC=PROM,%TYPE%,CYSTR=NT6
;*** 2
CONT ECB,BRA=RG0,DSRC=SHIFT,MPS,PSHF=SH0-4,SHF=LOG,ECA,WRA,ARA=RG1
CONT A=CF0,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,ECA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=SR32,DSRC=PROM,ALUS=DZ,H,ALU,YDST=PSHIFT
CONT A=MNH,DSRC=PROM,ECA,WRA,ARA=RG3
CONT A=CAAA,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 3
CONT ECB,BRA=RG3,DSRC=SHIFT,SHF=LOG,ECA,WRA,ARA=RG2
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG0
CONT A=C555,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 4
CONT ECB,BRA=RG0,DSRC=SHIFT,MPS,PSHF=SH0+63,SHF=LOG,ECA,WRA,ARA=RG1
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,ECA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=SR32,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C21,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=ADD,H,ALUD=B,RB=DADR,ALU,YDST=PSHIFT
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MPP,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,Н,ALUD=В,RВ=A
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=MH,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 5
CONT ECB,BRA=RG1,DSRC=SHIFT,SHF=LOG,ECA,WRA,ARA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT15,MAP=PE,%TIK%
;
;
TK1T16:ENTRY
;===== БОИ ДАННЫХ (B) - ЧЕРЕЗ СДВИГАТЕЛЬ - В МПС + ЛОГ.ОПЕРАЦИЯ
;
CJP A=TAK16,MAP=PE
TAK16:CONT A=H16,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT16:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MNH,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MH,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=DADR
CONT ALUS=AB,RA=DADR,RB=A,FUNC=OR,H,ALUD=B
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT5
;*** 1
CJS A=CMP,MAP=PE,ЕСВ,BRA=RG2,DSRC=SHIFT,MPS,PSHF=SН0-32,SHF=LOG,ALUS=DА
>,RА=DADR,FUNC=OR,Н,ALUD=В,RВ=Y
CONT A=CF0,DSRC=PROM,ECA,WRA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MNH,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A
CONT A=B8,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MH,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=DADR
CONT ALUS=AB,RA=DADR,RB=A,FUNC=OR,H,ALUD=B
CONT A=CAAA,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 2
CJS A=CMP,MAP=PE,ЕСВ,BRA=RG0,DSRC=SHIFT,MPS,PSHF=SН0-32,SHF=LOG,ALUS=DА
>,RА=DADR,FUNC=OR,Н,ALUD=В,RВ=Y
%J% A=CT16,MAP=PE,%TIK%
;
;
TK1T17:ENTRY
;===== БОИ ТЕГА - ЧЕРЕЗ СДВИГАТЕЛЬ - В МПС + ЛОГ.ОПЕРАЦИЯ
;
CJP A=TAK17,MAP=PE
TAK17:CONT A=H17,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT17:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
CONT A=MB,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT6
;*** 1
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG1,%TRSH%,ALUS=DА,RА=Y,FUNC=AND,Н
>,ALUD=В,RВ=Y
CONT A=C7,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG1
CONT A=MB,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A,ALU,CYSTR=NT6
;*** 2
CONT YDEVT=ECBTAG,BRA=RG1,%TRSH%,ALUS=DZ,ALUD=В,RВ=Y
CONT A=MB,DSRC=PROM,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=B8,DSRC=PROM,ALUS=DZ,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
CONT A=B16,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TOYR2%,CYSTR=NT5
;*** 3
CONT YDEVT=ECBTAG,BRA=RG2,DSRC=SHIFT,MPS,PSHF=SH0-8,SHF=LOG,ALUS=DZ,ALUD=В,RВ=Y
CONT A=MB2ZZZ,DSRC=PROM,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
CJS A=CMP,MAP=PE,%TYPE%
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDEVT=ECBTAG,WRB,BRA=RG2
CONT ALUS=DZ,H,ALUD=BA,RA=A,RB=A,ALU,DSRC=SHIFT,MPS,PSHF=SH0-16,SHF=LOG
CONT A=MB3,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A
CONT A=MB3,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MNH,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 4
CJS A=CMP,MAP=PE,YDEVT=ECBTAG,BRA=RG2,DSRC=SHIFT,MPS,PSHF=SH0-16,SHF=LOG
>,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=В,RВ=Y
%J% A=CT17,MAP=PE,%TIK%
;
;
TK1T18:ENTRY
;===== АИСП. - ЧЕРЕЗ СДВИГАТЕЛЬ - В МПС + СЛОЖЕНИЕ C "0";
;      АИСП. - ЧЕРЕЗ БОИ - В МПС + СЛОЖЕНИЕ C "0";
;   (СРАВНИВАЕМ ПЕРЕСЫЛКУ С ШИНЫ Y НА D РАЗНЫМИ СПОСОБАМИ!)
;
CJP A=TAK18,MAP=PE
TAK18:CONT A=H18,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT18:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT A=MADR,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT5
;*** 1: ЧЕРЕЗ СДВИГАТЕЛЬ
CJS A=CMP,MAP=PE,YDEV=RADRR,%TRSH%,ALUS=DZ,Н,ALUD=В,RВ=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 2
CJS A=CMP,MAP=PE,YDEV=RADRR,%TRSH%,ALUS=DZ,Н,ALUD=В,RВ=Y
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT A=MNH,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 3
CJS A=CMP,MAP=PE,YDEV=RADRR,%TRSH%,ALUS=DZ,Н,ALUD=В,RВ=Y
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT A=C555,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 4: ЧЕРЕЗ БОИ
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,Н,ALUD=В,RВ=Y
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT A=CAAA,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 5
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR3%,ALUS=DZ,Н,ALUD=В,RВ=Y
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,ALU,YDST=ADRREG
CONT A=MNB,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 6
CJS A=CMP,MAP=PE,YDEV=RADRR,%TODR2%,ALUS=DZ,Н,ALUD=В,RВ=Y
%J% A=CT18,MAP=PE,%TIK%
;
;      П Л Е
;     =======
;
TK1T19:ENTRY
;===== ИЗ МПС - ЧЕРЕЗ БЛОК ПЛЕ - В БОИ
;
CJP A=TAK19,MAP=PE
TAK19:CONT A=H19,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT19:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 1: FUNC=ADD C 0
CONT ALUS=ZA,RA=DADR,H,ALU,DSRC=LOS,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MNB,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2
CONT ALUS=ZA,RA=DADR,H,ALU,DSRC=LOS,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H3F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=H1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MNQ,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3
CONT ALUS=ZA,RA=DADR,H,ALU,DSRC=LOS,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H20,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=B32,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MNH,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 4
CONT ALUS=ZA,RA=DADR,H,ALU,DSRC=LOS,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 5: FUNC=OR C 0
CONT ALUS=ZA,RA=DADR,FUNC=OR,H,ALU,DSRC=LOS,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MNB,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 6
CONT ALUS=ZA,RA=DADR,FUNC=OR,H,ALU,DSRC=LOS,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H3F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=H1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MNB,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 7
CONT ALUS=ZA,RA=DADR,FUNC=OR,H,ALU,DSRC=LOS,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H20,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=B32,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MNH,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 8
CONT ALUS=ZA,RA=DADR,FUNC=OR,H,ALU,DSRC=LOS,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 9: В МПС ВЫХОД ПО А
CONT ALUS=ZB,RB=HALF,H,ALUD=BA,RA=DADR,ALU,DSRC=LOS,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MNB,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** A
CONT ALUS=ZB,RB=HALF,H,ALUD=BA,RA=DADR,ALU,DSRC=LOS,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H3F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=H1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MNB,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** B
CONT ALUS=ZB,RB=HALF,H,ALUD=BA,RA=DADR,ALU,DSRC=LOS,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H20,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=B32,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** C
CONT ALUS=ZB,RB=HALF,H,ALUD=BA,RA=DADR,ALU,DSRC=LOS,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT19,MAP=PE,%TIK%
;
;
TK1T1A:ENTRY
;===== ИЗ МПС - ЧЕРЕЗ ПЛЕ - В МПС (+ ЛОГ. ОПЕРАЦИЯ)
;
CJP A=TAK1A,MAP=PE
TAK1A:CONT A=H1A,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT1A:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 1: ADD C 0
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=LOS
CONT A=B63,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B3,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=H5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MNH,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 2: OR
CJS A=CMP,MAP=PE,ALUS=DQ,FUNC=OR,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=LOS
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 3: ADD C 0 + CI
CJS A=CMP,MAP=PE,ALUS=DZ,H,CI,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=LOS
CONT A=B2,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=H3F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MNB,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 4: OR
CJS A=CMP,MAP=PE,ALUS=DQ,FUNC=OR,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=LOS
CONT A=B63,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 5: ADD C 0
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=LOS
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=H41,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MNB,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 6: ADD + CI
CJS A=CMP,MAP=PE,ALUS=DA,RA=DADR,H,CI,ALUD=BA,RB=Y,ALU,DSRC=LOS
CONT A=B32,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=H20,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MNH,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 7: SUBR
CJS A=CMP,MAP=PE,ALUS=DQ,FUNC=SUBR,H,CI,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=LOS
%J% A=CT1A,MAP=PE,%TIK%
;
;
TK1T1B:ENTRY
;===== ИЗ МПС - ЧЕРЕЗ ПЛЕ - В МПС; ОДНОВРЕМЕННО - ЗАПИСЬ В ОЗУ МОДИФ.
;   ЗАПИСЬ В МПС ПОСЛЕ ПЛЕ - ПОЗЖЕ, ЧЕМ ЗАПИСЬ В ОЗУ МОД.?
;
CJP A=TAK1B,MAP=PE
TAK1B:CONT A=H1B,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT1B:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 1,2: ADD C 0
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=LOS,CSM,WEM,MNSA=MP
>,MODNM=ACR
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT ALUS=ZA,RA=DADR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=B63,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B3,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=H5,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 3,4: OR
CJS A=CMP,MAP=PE,ALUS=DQ,FUNC=OR,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=LOS,CSM,WEM
>,MNSA=MP,MODNM=ACR
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT ALUS=ZA,RA=DADR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 5,6: ADD C 0 + CI
CJS A=CMP,MAP=PE,ALUS=DZ,H,CI,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=LOS,CSM,WEM
>,MNSA=MP,MODNM=ACR
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT ALUS=ZA,RA=DADR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=B2,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=H3F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MNH,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 7,8: OR
CJS A=CMP,MAP=PE,ALUS=DQ,FUNC=OR,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=LOS,CSM,WEM
>,MNSA=MP,MODNM=ACR
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT ALUS=ZA,RA=DADR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=B63,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C555,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 9,A: ADD C 0
CJS A=CMP,MAP=PE,ALUS=DZ,H,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=LOS,CSM,WEM,MNSA=MP
>,MODNM=ACR
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT ALUS=ZA,RA=DADR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=H41,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** B,C: ADD + CI
CJS A=CMP,MAP=PE,ALUS=DA,RA=DADR,H,CI,ALUD=BA,RB=Y,ALU,DSRC=LOS,CSM,WEM
>,MNSA=MP,MODNM=ACR
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT ALUS=ZA,RA=DADR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
CONT %TYPE%
CONT A=B32,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=H20,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT5
;*** D,E: SUBR
CJS A=CMP,MAP=PE,ALUS=DQ,FUNC=SUBR,H,CI,ALUD=BA,RA=DADR,RB=Y,ALU,DSRC=LOS
>,CSM,WEM,MNSA=MP,MODNM=ACR
CONT %TYPE%
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT ALUS=ZA,RA=DADR,H,ALUD=B,RB=A
CJS A=CMP,MAP=PE,CSM,MNSA=MP,MODNM=ACR,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT1B,MAP=PE,%TIK%
;
;
TK1T1C:ENTRY
;===== ИЗ МПС (C ВЫХОДА А И B) - ЧЕРЕЗ ПЛЕ - В БОИ ДАННЫХ (ПО А)
;
CJP A=TAK1C,MAP=PE
TAK1C:CONT A=H1C,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT1C:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C555,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 1
CONT ALUS=ZB,RB=DADR,Н,ALUD=ВА,RА=DADR,ALU,DSRC=LOS,ECA,WRA,ARA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=H3F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MNB,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 2
CONT ALUS=ZB,RB=DADR,Н,ALUD=ВА,RА=DADR,ALU,DSRC=LOS,ECA,WRA,ARA=RG1
CJS A=CMP,MAP=PE,ECA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=H1F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MNH,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 3
CONT ALUS=ZA,RA=DADR,Н,CI,ALU,DSRC=LOS,ECA,WRA,ARA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT5
;*** 4
CONT ALUS=ZA,RA=DADR,Н,CI,ALU,DSRC=LOS,ECA,WRA,ARA=RG1
CJS A=CMP,MAP=PE,ECA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT1C,MAP=PE,%TIK%
;
;
TK1T1D:ENTRY
;===== ИЗ БОИ ДАННЫХ (ПО В) - ЧЕРЕЗ ПЛЕ - В БОИ ДАННЫХ (ПО А)
;
CJP A=TAK1D,MAP=PE
TAK1D:CONT A=H1D,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT1D:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C555,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 1
CONT ECB,BRA=RG1,DSRC=LOS,ECA,WRA,ARA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG0
CONT A=MB,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2
CONT ECB,BRA=RG0,DSRC=LOS,ECA,WRA,ARA=RG1
CJS A=CMP,MAP=PE,ECA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,ECA,WRA,ARA=RG3
CONT A=MNH,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3
CONT ECB,BRA=RG3,DSRC=LOS,ECA,WRA,ARA=RG2
CJS A=CMP,MAP=PE,ECA,ARA=RG2,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=H20,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=B32,DSRC=PROM,ECA,WRA,ARA=RG0
CONT A=MNH,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 4
CONT ECB,BRA=RG0,DSRC=LOS,ECA,WRA,ARA=RG1
CJS A=CMP,MAP=PE,ECA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=Y
%J% A=CT1D,MAP=PE,%TIK%
;
;
TK1T1E:ENTRY
;===== БОИ ДАННЫХ (B) - ЧЕРЕЗ ПЛЕ - В МПС + ЛОГ.ОПЕРАЦИЯ
;
CJP A=TAK1E,MAP=PE
TAK1E:CONT A=H1E,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
CT1E:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=C555,DSRC=PROM,ECA,WRA,ARA=RG2
CONT A=H7,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=H6,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=H7F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT4
;*** 1
CJS A=CMP,MAP=PE,ЕСВ,BRA=RG2,DSRC=LOS,ALUS=DА,RА=DADR,FUNC=OR,Н,ALUD=В,RВ=Y
CONT A=B33,DSRC=PROM,ECA,WRA,ARA=RG0
CONT A=H20,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 2
CJS A=CMP,MAP=PE,ЕСВ,BRA=RG0,DSRC=LOS,ALUS=DА,RА=DADR,FUNC=ADD,Н,CI,ALUD=В,RВ=Y
CONT A=ZER,DSRC=PROM,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 3
CJS A=CMP,MAP=PE,ЕСВ,BRA=RG0,DSRC=LOS,ALUS=DА,RА=DADR,FUNC=ADD,Н,CI,ALUD=В,RВ=Y
CONT A=B2,DSRC=PROM,ECA,WRA,ARA=RG0
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=H3E,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,%TYPE%,CYSTR=NT4
;*** 4
CJS A=CMP,MAP=PE,ЕСВ,BRA=RG0,DSRC=LOS,ALUS=DА,RА=DADR,FUNC=SUBS,Н,CI,ALUD=В,RВ=Y
%J% A=CT1E,MAP=PE,%TIK%
;
;    АДРЕС КОМАНДЫ
;    =============
;
TK1T1F:ENTRY
;===== АДРЕС КОМАНДЫ В НР - В ПРИЕМНИКИ ШИНЫ D: БОИ, МПС
;
CJP A=TAK1F,MAP=PE
TAK1F:CONT A=H1F,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE,FFCNT=CLRTKK
CT1F:CONT %CLRTYP%,CYSTR=NT9
CONT %TYPE%
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A,FFCNT=SETNR
CONT A=MNADR,DSRC=PROM,ALUS=DA,RA=A,FUNC=OR,H,ALUD=B,RB=A,FFCNT=CLRRCB
CONT A=MH,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,ALU,CYSTR=NT3
;*** 1: БОИ
CONT DSRC=COMA,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MADR,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2
CONT DSRC=COMA,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MNADR,DSRC=PROM,ALUS=DA,RA=A,FUNC=OR,H,ALUD=B,RB=A
CONT A=MNQ,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3: АЛУ, СЛОЖЕНИЕ С 0
CJS A=CMP,MAP=PE,DSRC=COMA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MADR,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 4
CJS A=CMP,MAP=PE,DSRC=COMA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MNADR,DSRC=PROM,ALUS=DA,RA=A,FUNC=OR,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 5: АЛУ, OR С 0
CJS A=CMP,MAP=PE,DSRC=COMA,ALUS=DZ,FUNC=OR,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MADR,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A
CONT A=HF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 6
CJS A=CMP,MAP=PE,DSRC=COMA,ALUS=DZ,FUNC=OR,H,ALUD=B,RB=Y
CONT A=MQ,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MQ,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 7: АЛУ, AND C FFFF
CJS A=CMP,MAP=PE,DSRC=COMA,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CONT A=MQ,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MQ,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A
CONT A=HF0,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 8
CJS A=CMP,MAP=PE,DSRC=COMA,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A
CONT A=MNB,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 9: АЛУ, AND C FF
CJS A=CMP,MAP=PE,DSRC=COMA,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A
CONT A=MNB,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** A
CJS A=CMP,MAP=PE,DSRC=COMA,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
%J% A=CT1F,MAP=PE,%TIK%
;
;
TK1T20:ENTRY
;===== АДРЕС КОМАНДЫ В РЭ - В ПРИЕМНИКИ ШИНЫ D: БОИ, МПС
;
CJP A=TAK20,MAP=PE
TAK20:CONT A=H20,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
;УСТАНАВЛИВАЕМ РЭ
CONT A=CTEST,DSRC=PROM,ALUS=DZ,ALU,YDST=CNT
CONT A=C3,DSRC=PROM,ALUS=DZ,ALU,YDST=ADRREG,YDEVT=ECBTAG,WRB,BRA=RG3
>,FFCNT=CLRTKK
CONT YDEV=PHYSAD,ECB,WRB,BRA=RG0,ARBI=DWR
WA20:CJP A=WA20,%WA%
CONT YDEV=PHYSAD,ARBI=FETCH
WAR:CJP A=WAR,%WA%
CT20:CONT %CLRTYP%,CYSTR=NT9
CONT A=M15,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,FFCNT=CLRRCB
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A,FFCNT=CLRTKK
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 1: БОИ В РЭ, КОМ.СЛОВО = FFFF
CONT DSRC=COMA,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MNQ,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2: КОМ.СЛОВО = 0
CONT DSRC=COMA,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=B37,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3: АК = 1
CONT DSRC=COMA,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=B13,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=SETTKK
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFFE,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 4: ПК, АК = 1
CONT DSRC=COMA,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=B32,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFFE,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 5: АК = 0
CONT DSRC=COMA,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=B31,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=CAK,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 6: 111 - В КОРОТКИЙ АДРЕС
CONT DSRC=COMA,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 7: АЛУ, СЛОЖЕНИЕ С 0, КОМ.СЛОВО = 0
CJS A=CMP,MAP=PE,DSRC=COMA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 8: КОМ.СЛОВО = FFFF
CJS A=CMP,MAP=PE,DSRC=COMA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=B37,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C555,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 9: АК = 1
CJS A=CMP,MAP=PE,DSRC=COMA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=B13,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=SETTKK
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFFE,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** A: ПК, АК = 1
CJS A=CMP,MAP=PE,DSRC=COMA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=B32,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFFE,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** B: АК = 0
CJS A=CMP,MAP=PE,DSRC=COMA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=B31,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=CAK,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** C: 111 - В КОРОТКИЙ АДРЕС
CJS A=CMP,MAP=PE,DSRC=COMA,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** D: АЛУ, OR С 0, КОМ.СЛОВО = FFFF
CJS A=CMP,MAP=PE,DSRC=COMA,ALUS=DZ,FUNC=OR,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** E: КОМ.СЛОВО = 0
CJS A=CMP,MAP=PE,DSRC=COMA,ALUS=DZ,FUNC=OR,H,ALUD=B,RB=Y
CONT A=B37,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFFE,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** F: АК = 1
CJS A=CMP,MAP=PE,DSRC=COMA,ALUS=DZ,FUNC=OR,H,ALUD=B,RB=Y
CONT A=B13,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=SETTKK
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFFE,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 10: ПК, АК = 1
CJS A=CMP,MAP=PE,DSRC=COMA,ALUS=DZ,FUNC=OR,H,ALUD=B,RB=Y
CONT A=B32,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFFE,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 11: АК = 0
CJS A=CMP,MAP=PE,DSRC=COMA,ALUS=DZ,FUNC=OR,H,ALUD=B,RB=Y
CONT A=B31,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=CAK,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 12: 111 - В КОРОТКИЙ АДРЕС
CJS A=CMP,MAP=PE,DSRC=COMA,ALUS=DZ,FUNC=OR,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 13: АЛУ, АРИФМ.ОПЕРАЦИИ: СЛОЖЕНИЕ,ВЫЧИТАНИЕ; КОМ.СЛОВО = 0
CJS A=CMP,MAP=PE,DSRC=COMA,ALUS=DA,RA=DADR,FUNC=ADD,H,CI,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C555,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 14: КОМ.СЛОВО = FFFF
CJS A=CMP,MAP=PE,DSRC=COMA,ALUS=DZ,FUNC=ADD,H,CI,ALUD=B,RB=Y
CONT A=B37,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CFFFE,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 15: АК = 1
CJS A=CMP,MAP=PE,DSRC=COMA,ALUS=DA,RA=DADR,FUNC=SUBR,H,CI,ALUD=B,RB=Y
CONT A=B13,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=SETTKK
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CFFFE,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 16: ПК, АК = 1
CJS A=CMP,MAP=PE,DSRC=COMA,ALUS=DA,RA=DADR,FUNC=SUBR,H,ALUD=B,RB=Y
CONT A=B32,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 17: АК = 0
CJS A=CMP,MAP=PE,DSRC=COMA,ALUS=DA,RA=DADR,FUNC=ADD,H,CI,ALUD=B,RB=Y
CONT A=B31,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=B13,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 18: 111 - В КОРОТКИЙ АДРЕС
CJS A=CMP,MAP=PE,DSRC=COMA,ALUS=DA,RA=DADR,FUNC=ADD,H,ALUD=B,RB=Y
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A
CONT A=C555,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 19: АЛУ, AND C FF
CJS A=CMP,MAP=PE,DSRC=COMA,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
CONT A=M15,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MPP,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAK,DSRC=PROM,ALUS=DA,RA=A,FUNC=OR,H,ALUD=B,RB=A
CONT A=C555,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 1A
CJS A=CMP,MAP=PE,DSRC=COMA,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CONT A=M15,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE
%J% A=CT20,MAP=PE,%TIK%
;
;    КОП КОМАНДЫ
;    ===========
;
TK1T21:ENTRY
;===== КОП КОМАНДЫ В НР - В ПРИЕМНИКИ ШИНЫ D: БОИ, МПС
;
CJP A=TAK21,MAP=PE
TAK21:CONT A=H21,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE,FFCNT=CLRTKK
CT21:CONT %CLRTYP%,CYSTR=NT9
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,FFCNT=SETNR
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A,FFCNT=CLRRCB
CONT A=C555,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 1: БОИ
CONT DSRC=OPC,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2
CONT DSRC=OPC,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=C555,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3: АЛУ, СЛОЖЕНИЕ С 0
CJS A=CMP,MAP=PE,DSRC=OPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 4
CJS A=CMP,MAP=PE,DSRC=OPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 5: АЛУ, OR С 0
CJS A=CMP,MAP=PE,DSRC=OPC,ALUS=DZ,FUNC=OR,H,ALUD=B,RB=Y
CONT A=C555,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 6
CJS A=CMP,MAP=PE,DSRC=OPC,ALUS=DZ,FUNC=OR,H,ALUD=B,RB=Y
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CAAA,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=HF,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A
CONT A=MNH,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 7: АЛУ, AND C F
CJS A=CMP,MAP=PE,DSRC=OPC,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=C555,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=HF,DSRC=PROM,ALUS=DA,RA=A,FUNC=AND,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 8
CJS A=CMP,MAP=PE,DSRC=OPC,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CONT A=H3F,DSRC=PROM,ECA,WRA,ARA=RG2,FFCNT=SETTKK
CONT ECB,BRA=RG2,DSRC=SHIFT,MPS,PSHF=SH0-20,SHF=LOG,ECA,WRA,ARA=RG1
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 9: ДОПОЛНИТЕЛЬНЫЙ КОП; OR C 0
CJS A=CMP,MAP=PE,DSRC=OPC,ALUS=DZ,FUNC=OR,H,ALUD=B,RB=Y
CONT A=H3F,DSRC=PROM,ECA,WRA,ARA=RG2,FFCNT=CLRTKK
CONT ECB,BRA=RG2,DSRC=SHIFT,MPS,PSHF=SH0-52,SHF=LOG,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B46,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=OR,H,ALU,ECB,WRB,BRA=RG1
CONT A=B1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A,CYSTR=NT3
CONT A=C555,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** A
CJS A=CMP,MAP=PE,DSRC=OPC,ALUS=DZ,FUNC=OR,H,ALUD=B,RB=Y
CONT A=H3F,DSRC=PROM,ECA,WRA,ARA=RG2,FFCNT=SETTKK
CONT ECB,BRA=RG2,DSRC=SHIFT,MPS,PSHF=SH0-20,SHF=LOG,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MB3,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=OR,H,ALU,ECB,WRB,BRA=RG1
CONT A=ZER,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=HF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MNH,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** B: АЛУ, AND C CONST
CJS A=CMP,MAP=PE,DSRC=OPC,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CONT A=H3F,DSRC=PROM,ECA,WRA,ARA=RG2,FFCNT=SETTKK
CONT ECB,BRA=RG2,DSRC=SHIFT,MPS,PSHF=SH0-20,SHF=LOG,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MB3,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=OR,H,ALU,ECB,WRB,BRA=RG1
CONT A=H30,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=H3F,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MNQ,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** C
CJS A=CMP,MAP=PE,DSRC=OPC,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
%J% A=CT21,MAP=PE,%TIK%
;
;
TK1T22:ENTRY
;===== КОП КОМАНДЫ В РЭ - В ПРИЕМНИКИ ШИНЫ D: БОИ, МПС
;
CJP A=TAK22,MAP=PE
TAK22:CONT A=H22,DSRC=PROM,ALUS=DZ,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=0
%S% A=INITST,MAP=PE
;УСТАНАВЛИВАЕМ РЭ
CONT A=CTEST,DSRC=PROM,ALUS=DZ,ALU,YDST=CNT
CONT A=C3,DSRC=PROM,ALUS=DZ,ALU,YDST=ADRREG,YDEVT=ECBTAG,WRB,BRA=RG3
>,FFCNT=CLRTKK
CONT YDEV=PHYSAD,ECB,WRB,BRA=RG0,ARBI=DWR
WA22:CJP A=WA22,%WA%
CONT YDEV=PHYSAD,ARBI=FETCH
WAR22:CJP A=WAR22,%WA%
CT22:CONT %CLRTYP%,CYSTR=NT9
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,FFCNT=CLRRCB
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CF8,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 1: БОИ В РЭ, КОМ.СЛОВО = FFFF
CONT DSRC=OPC,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 2: КОМ.СЛОВО = 0
CONT DSRC=OPC,ECA,WRA,ARA=RG0
CJS A=CMP,MAP=PE,ECA,ARA=RG0,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=B49,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFFE,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 3: KОП = 1
CONT DSRC=OPC,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=B32,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=SETTKK
CONT A=H80,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=H7F,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 4: ПК, КОП = H80
CONT DSRC=OPC,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=B30,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=H20,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MNB,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 5: КОП = H20
CONT DSRC=OPC,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=B30,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B25,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=OR,H,ALU,ECB,WRB,BRA=RG1
CONT A=H21,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CAAA,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 6: КОП = H21
CONT DSRC=OPC,ECA,WRA,ARA=RG3
CJS A=CMP,MAP=PE,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=CLRTKK
CONT A=CF8,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 7: АЛУ, СЛОЖЕНИЕ С 0, КОМ.СЛОВО = FFFF
CJS A=CMP,MAP=PE,DSRC=OPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 8: КОМ.СЛОВО = 0
CJS A=CMP,MAP=PE,DSRC=OPC,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=B49,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFFE,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 9: KОП = 1, OR C 0
CJS A=CMP,MAP=PE,DSRC=OPC,ALUS=DZ,FUNC=OR,H,ALUD=B,RB=Y
CONT A=B32,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=SETTKK
CONT A=H80,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=H7F,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** A: ПК, КОП = H80
CJS A=CMP,MAP=PE,DSRC=OPC,ALUS=DZ,FUNC=OR,H,ALUD=B,RB=Y
CONT A=B30,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=H20,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=HDF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** B: КОП = H20
CJS A=CMP,MAP=PE,DSRC=OPC,ALUS=DZ,FUNC=OR,H,ALUD=B,RB=Y
CONT A=B30,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=B25,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=OR,H,ALU,ECB,WRB,BRA=RG1
CONT A=H21,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** C: КОП = H21
CJS A=CMP,MAP=PE,DSRC=OPC,ALUS=DZ,FUNC=OR,H,ALUD=B,RB=Y
CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=BYTE,FFCNT=CLRTKK
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=CFFF,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=CF8,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=ZER,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** D: АЛУ, AND С FF, КОМ.СЛОВО = FFFF
CJS A=CMP,MAP=PE,DSRC=OPC,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CONT A=ZER,DSRC=PROM,ECA,WRA,ARA=RG1,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** E: КОМ.СЛОВО = 0
CJS A=CMP,MAP=PE,DSRC=OPC,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CONT A=B49,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=C1,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFFE,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** F: KОП = 1
CJS A=CMP,MAP=PE,DSRC=OPC,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CONT A=B32,DSRC=PROM,ECA,WRA,ARA=RG1,FFCNT=SETTKK
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=Q
CONT A=H80,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=H7F,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 10: ПК, КОП = H80
CJS A=CMP,MAP=PE,DSRC=OPC,ALUS=DQ,FUNC=AND,H,ALUD=B,RB=Y
CONT A=B30,DSRC=PROM,ECA,WRA,ARA=RG1
CONT A=H20,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=CFFF,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 11: КОП = H20
CJS A=CMP,MAP=PE,DSRC=OPC,ALUS=DA,RA=DADR,FUNC=AND,H,ALUD=B,RB=Y
CONT A=B30,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=DADR
CONT A=MB,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=Y
CONT A=B25,DSRC=PROM,ALUS=DA,RA=DADR,FUNC=OR,H,ALU,ECB,WRB,BRA=RG1
CONT A=H21,DSRC=PROM,ALUS=DZ,H,ALUD=B,RB=A
CONT A=MB,DSRC=PROM,%TYPE%,CYSTR=NT3
;*** 12: КОП = H21
CJS A=CMP,MAP=PE,DSRC=OPC,ALUS=DA,RA=Y,FUNC=AND,H,ALUD=B,RB=Y
%J% A=CT22,MAP=PE,%TIK%
CJP A=CT1,MAP=PE
;
;     П/П ДЛЯ ТЕСТОВ
;     ==============
;
;ЗАПИСЬ ИЗ МПС С ВЫХОДА А В БОПП, ЧТЕНИЕ
SUBW8:CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALU,CYSTR=NT3
;*** 1,2,3,4
CONT ALUS=ZB,RB=DADR,H,ALUD=BA,RA=A,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CRTN YDEV=MPMEM,IOMP,MPADR=4,ECB,WRB,BRA=RG3,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
;
;ЗАПИСЬ ИЗ РГ.МПС В РГ.БОПП, ЧТЕНИЕ
SUBOR9:CONT A=MQ,DSRC=PROM,ALUS=DZ,H,ALU,CYSTR=NT3
;*** 1,2: OR
CONT ALUS=ZA,RA=A,FUNC=OR,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CRTN YDEV=MPMEM,IOMP,MPADR=4,ECB,WRB,BRA=RG3,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
SUBAD9:CONT A=MNQ,DSRC=PROM,ALUS=DZ,H,ALU,CYSTR=NT3
;*** 3,4: ADD
CONT ALUS=ZA,RA=A,FUNC=ADD,H,ALU,YDEV=MPMEM,WRY,IOMP,MPADR=4
CRTN YDEV=MPMEM,IOMP,MPADR=4,ECB,WRB,BRA=RG3,ECA,ARA=RG3,ALUS=DZ,H,ALUD=B,RB=Y
;
;П/П ЗАПИСИ ИЗ МПС В РГ. КОП АРБИТРА
SUBWC:CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALU,CYSTR=NT3
;*** 1,2,3,4
CONT ALUS=ZA,RA=A,H,ALU,YDST=ARBOPC
CRTN DSRC=ARBOPC,ALUS=DZ,H,ALUD=B,RB=Y
;
;П/П ЗАПИСИ ИЗ РГ.МПС В СТАТУСНЫЙ РГ.M И ЧТЕНИЕ
SUBWD:CONT A=CFFF,DSRC=PROM,ALUS=DZ,H,ALU,CYSTR=NT3
;*** 1,2,3,4
CONT ALUS=ZA,RA=A,H,ALU,DDEV=STATUS,WRD,STOPC=0,CEM
CRTN STOPC=32,DDEV=STATUS,ALUS=DZ,H,ALUD=B,RB=Y
END
CMP:PROG;
;===== П/П СРАВНЕНИЯ И П/У НА ОШИБКУ, ЕСЛИ ЧТО НЕ ТАК
;   ПОРТЯТСЯ РЕГИСТРЫ: Q,N
;
EXTERNAL ERRINH
CONT ALUS=AB,RA=A,RB=Y,FUNC=EXOR,H,ALUD=Q
CONT ALUS=AQ,RA=BYTE,FUNC=AND,H,ALUD=Q,CEN
CRTN COND=CT,STOPC=NZ
CJP A=ERRINH,MAP=PE
END
SHMP:PROG;
CONT
END
LDT1:PROG;
EXTERNAL SHMP,TAK1,CMP
END
*END
*NO LIST
*CALL MICLOA:LDT1
*CALL MPROM
*END F
*END FILE
